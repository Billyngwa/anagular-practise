"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[179],{2011:(Mt,Me,P)=>{P.d(Me,{Dh:()=>Ce,GT:()=>ce,Ot:()=>ye,cc:()=>we,hO:()=>Fe,on:()=>z,pX:()=>he,xv:()=>ge});var d=P(4650),J=P(9260),L=P(3324);Mt=P.hmd(Mt);const se=["ngOnDestroy"],he=(Ue,je,Ke,Pe={})=>new Proxy(Ue,{get:(Ee,Ie)=>Ke.runOutsideAngular(()=>{var tt;if(Ue[Ie])return!(null===(tt=Pe?.spy)||void 0===tt)&&tt.get&&Pe.spy.get(Ie,Ue[Ie]),Ue[Ie];if(se.indexOf(Ie)>-1)return()=>{};const ze=je.toPromise().then(ct=>{const ae=ct&&ct[Ie];return"function"==typeof ae?ae.bind(ct):ae&&ae.then?ae.then(Pt=>Ke.run(()=>Pt)):Ke.run(()=>ae)});return new Proxy(()=>{},{get:(ct,ae)=>ze[ae],apply:(ct,ae,Pt)=>ze.then(ot=>{var Jt;const ut=ot&&ot(...Pt);return!(null===(Jt=Pe?.spy)||void 0===Jt)&&Jt.apply&&Pe.spy.apply(Ie,Pt,ut),ut})})})}),ce=(Ue,je)=>{je.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Pe=>{Object.defineProperty(Ue.prototype,Pe,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Pe))})})};class ye{constructor(je){return je}}const Ce=new d.OlP("angularfire2.app.options"),ge=new d.OlP("angularfire2.app.name");function z(Ue,je,Ke){const Ee="object"==typeof Ke&&Ke||{};Ee.name=Ee.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const tt=J.Z.apps.filter(ze=>ze&&ze.name===Ee.name)[0]||je.runOutsideAngular(()=>J.Z.initializeApp(Ue,Ee));try{JSON.stringify(Ue)!==JSON.stringify(tt.options)&&H("error",`${tt.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(tt)}const H=(Ue,...je)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ue](...je)},W={provide:ye,useFactory:z,deps:[Ce,d.R0b,[new d.FiY,ge]]};let Fe=(()=>{class Ue{constructor(Ke){J.Z.registerVersion("angularfire",L.q4.full,"core"),J.Z.registerVersion("angularfire",L.q4.full,"app-compat"),J.Z.registerVersion("angular",d.q4F.full,Ke.toString())}static initializeApp(Ke,Pe){return{ngModule:Ue,providers:[{provide:Ce,useValue:Ke},{provide:ge,useValue:Pe}]}}}return Ue.\u0275fac=function(Ke){return new(Ke||Ue)(d.LFG(d.Lbi))},Ue.\u0275mod=d.oAB({type:Ue}),Ue.\u0275inj=d.cJS({providers:[W]}),Ue})();function we(Ue,je,Ke,Pe,Ee){const[,Ie,tt]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Ue)||[];if(Ie)return function qe(Ue,je){try{return Ue.toString()===je.toString()}catch{return Ue===je}}(Ee,tt)||(me("error",`${je} was already initialized on the ${Ke} Firebase App with different settings.${vt?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ee,was:tt})),Ie;{const ze=Pe();return globalThis.\u0275AngularfireInstanceCache.push([Ue,ze,Ee]),ze}}const vt=!!Mt.hot,me=(Ue,...je)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ue](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(Mt,Me,P)=>{P.d(Me,{q4:()=>_o,iC:()=>Fa,HU:()=>Na,vb:()=>kc,JM:()=>Gr,nk:()=>Js});var d=P(4650),J=P(259),L=P(5861),se=P(6881),he=P(2090),ce=P(4859),ye=P(1877);P(4727);const ge="@firebase/remote-config",z="0.4.4",we=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class be{constructor(T,N,oe,ke){this.client=T,this.storage=N,this.storageCache=oe,this.logger=ke}isCachedDataFresh(T,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-N,ke=oe<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ke}.`),ke}fetch(T){var N=this;return(0,L.Z)(function*(){const[oe,ke]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(ke&&N.isCachedDataFresh(T.cacheMaxAgeMillis,oe))return ke;T.eTag=ke&&ke.eTag;const xe=yield N.client.fetch(T),lt=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&lt.push(N.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(lt),xe})()}}function Ae(O=navigator){return O.languages&&O.languages[0]||O.language}class Re{constructor(T,N,oe,ke,xe,lt){this.firebaseInstallations=T,this.sdkVersion=N,this.namespace=oe,this.projectId=ke,this.apiKey=xe,this.appId=lt}fetch(T){var N=this;return(0,L.Z)(function*(){const[oe,ke]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,En={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},sn={sdk_version:N.sdkVersion,app_instance_id:oe,app_instance_id_token:ke,app_id:N.appId,language_code:Ae()},Nn={method:"POST",headers:En,body:JSON.stringify(sn)},In=fetch(lt,Nn),mn=new Promise((ii,kr)=>{T.signal.addEventListener(()=>{const Pc=new Error("The operation was aborted.");Pc.name="AbortError",kr(Pc)})});let vs;try{yield Promise.race([In,mn]),vs=yield In}catch(ii){let kr="fetch-client-network";throw"AbortError"===ii?.name&&(kr="fetch-timeout"),we.create(kr,{originalErrorMessage:ii?.message})}let is=vs.status;const ur=vs.headers.get("ETag")||void 0;let vi,xi;if(200===vs.status){let ii;try{ii=yield vs.json()}catch(kr){throw we.create("fetch-client-parse",{originalErrorMessage:kr?.message})}vi=ii.entries,xi=ii.state}if("INSTANCE_STATE_UNSPECIFIED"===xi?is=500:"NO_CHANGE"===xi?is=304:("NO_TEMPLATE"===xi||"EMPTY_CONFIG"===xi)&&(vi={}),304!==is&&200!==is)throw we.create("fetch-status",{httpStatus:is});return{status:is,eTag:ur,config:vi}})()}}class Ze{constructor(T,N){this.client=T,this.storage=N}fetch(T){var N=this;return(0,L.Z)(function*(){const oe=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(T,oe)})()}attemptFetch(T,{throttleEndTimeMillis:N,backoffCount:oe}){var ke=this;return(0,L.Z)(function*(){yield function Xe(O,T){return new Promise((N,oe)=>{const ke=Math.max(T-Date.now(),0),xe=setTimeout(N,ke);O.addEventListener(()=>{clearTimeout(xe),oe(we.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,N);try{const xe=yield ke.client.fetch(T);return yield ke.storage.deleteThrottleMetadata(),xe}catch(xe){if(!function He(O){if(!(O instanceof he.ZR&&O.customData))return!1;const T=Number(O.customData.httpStatus);return 429===T||500===T||503===T||504===T}(xe))throw xe;const lt={throttleEndTimeMillis:Date.now()+(0,he.$s)(oe),backoffCount:oe+1};return yield ke.storage.setThrottleMetadata(lt),ke.attemptFetch(T,lt)}})()}}class xt{constructor(T,N,oe,ke,xe){this.app=T,this._client=N,this._storageCache=oe,this._storage=ke,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Et(O,T){const N=O.target.error||void 0;return we.create(T,{originalErrorMessage:N&&N?.message})}const an="app_namespace_store";class Yn{constructor(T,N,oe,ke=function fr(){return new Promise((O,T)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=oe=>{T(Et(oe,"storage-open"))},N.onsuccess=oe=>{O(oe.target.result)},N.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(an,{keyPath:"compositeKey"})}}catch(N){T(we.create("storage-open",{originalErrorMessage:N?.message}))}})}()){this.appId=T,this.appName=N,this.namespace=oe,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var N=this;return(0,L.Z)(function*(){const oe=yield N.openDbPromise;return new Promise((ke,xe)=>{const En=oe.transaction([an],"readonly").objectStore(an),sn=N.createCompositeKey(T);try{const Nn=En.get(sn);Nn.onerror=In=>{xe(Et(In,"storage-get"))},Nn.onsuccess=In=>{const mn=In.target.result;ke(mn?mn.value:void 0)}}catch(Nn){xe(we.create("storage-get",{originalErrorMessage:Nn?.message}))}})})()}set(T,N){var oe=this;return(0,L.Z)(function*(){const ke=yield oe.openDbPromise;return new Promise((xe,lt)=>{const sn=ke.transaction([an],"readwrite").objectStore(an),Nn=oe.createCompositeKey(T);try{const In=sn.put({compositeKey:Nn,value:N});In.onerror=mn=>{lt(Et(mn,"storage-set"))},In.onsuccess=()=>{xe()}}catch(In){lt(we.create("storage-set",{originalErrorMessage:In?.message}))}})})()}delete(T){var N=this;return(0,L.Z)(function*(){const oe=yield N.openDbPromise;return new Promise((ke,xe)=>{const En=oe.transaction([an],"readwrite").objectStore(an),sn=N.createCompositeKey(T);try{const Nn=En.delete(sn);Nn.onerror=In=>{xe(Et(In,"storage-delete"))},Nn.onsuccess=()=>{ke()}}catch(Nn){xe(we.create("storage-delete",{originalErrorMessage:Nn?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class ir{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,L.Z)(function*(){const N=T.storage.getLastFetchStatus(),oe=T.storage.getLastSuccessfulFetchTimestampMillis(),ke=T.storage.getActiveConfig(),xe=yield N;xe&&(T.lastFetchStatus=xe);const lt=yield oe;lt&&(T.lastSuccessfulFetchTimestampMillis=lt);const En=yield ke;En&&(T.activeConfig=En)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Si(){return zn.apply(this,arguments)}function zn(){return(zn=(0,L.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function Cr(){(0,se._registerComponent)(new ce.wA("remote-config",function O(T,{instanceIdentifier:N}){const oe=T.getProvider("app").getImmediate(),ke=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw we.create("registration-window");if(!(0,he.hl)())throw we.create("indexed-db-unavailable");const{projectId:xe,apiKey:lt,appId:En}=oe.options;if(!xe)throw we.create("registration-project-id");if(!lt)throw we.create("registration-api-key");if(!En)throw we.create("registration-app-id");const sn=new Yn(En,oe.name,N=N||"firebase"),Nn=new ir(sn),In=new ye.Yd(ge);In.logLevel=ye.in.ERROR;const mn=new Re(ke,se.SDK_VERSION,N,xe,lt,En),vs=new Ze(mn,sn),is=new be(vs,sn,Nn,In),ur=new xt(oe,is,Nn,sn,In);return function tt(O){const T=(0,he.m9)(O);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ur),ur},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(ge,z),(0,se.registerVersion)(ge,z,"esm2017")}();const Ct=(O,T)=>T.some(N=>O instanceof N);let sr,ps;const ar=new WeakMap,en=new WeakMap,bn=new WeakMap,st=new WeakMap,Nt=new WeakMap;let Hn={get(O,T,N){if(O instanceof IDBTransaction){if("done"===T)return en.get(O);if("objectStoreNames"===T)return O.objectStoreNames||bn.get(O);if("store"===T)return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return qt(O[T])},set:(O,T,N)=>(O[T]=N,!0),has:(O,T)=>O instanceof IDBTransaction&&("done"===T||"store"===T)||T in O};function Dr(O){return"function"==typeof O?function Mn(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gn(){return ps||(ps=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...T){return O.apply(jr(this),T),qt(ar.get(this))}:function(...T){return qt(O.apply(jr(this),T))}:function(T,...N){const oe=O.call(jr(this),T,...N);return bn.set(oe,T.sort?T.sort():[T]),qt(oe)}}(O):(O instanceof IDBTransaction&&function Ln(O){if(en.has(O))return;const T=new Promise((N,oe)=>{const ke=()=>{O.removeEventListener("complete",xe),O.removeEventListener("error",lt),O.removeEventListener("abort",lt)},xe=()=>{N(),ke()},lt=()=>{oe(O.error||new DOMException("AbortError","AbortError")),ke()};O.addEventListener("complete",xe),O.addEventListener("error",lt),O.addEventListener("abort",lt)});en.set(O,T)}(O),Ct(O,function or(){return sr||(sr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Hn):O)}function qt(O){if(O instanceof IDBRequest)return function Or(O){const T=new Promise((N,oe)=>{const ke=()=>{O.removeEventListener("success",xe),O.removeEventListener("error",lt)},xe=()=>{N(qt(O.result)),ke()},lt=()=>{oe(O.error),ke()};O.addEventListener("success",xe),O.addEventListener("error",lt)});return T.then(N=>{N instanceof IDBCursor&&ar.set(N,O)}).catch(()=>{}),Nt.set(T,O),T}(O);if(st.has(O))return st.get(O);const T=Dr(O);return T!==O&&(st.set(O,T),Nt.set(T,O)),T}const jr=O=>Nt.get(O);function Xt(O,T,{blocked:N,upgrade:oe,blocking:ke,terminated:xe}={}){const lt=indexedDB.open(O,T),En=qt(lt);return oe&&lt.addEventListener("upgradeneeded",sn=>{oe(qt(lt.result),sn.oldVersion,sn.newVersion,qt(lt.transaction))}),N&&lt.addEventListener("blocked",()=>N()),En.then(sn=>{xe&&sn.addEventListener("close",()=>xe()),ke&&sn.addEventListener("versionchange",()=>ke())}).catch(()=>{}),En}function Ai(O,{blocked:T}={}){const N=indexedDB.deleteDatabase(O);return T&&N.addEventListener("blocked",()=>T()),qt(N).then(()=>{})}const _n=["get","getKey","getAll","getAllKeys","count"],$r=["put","add","delete","clear"],xn=new Map;function Vn(O,T){if(!(O instanceof IDBDatabase)||T in O||"string"!=typeof T)return;if(xn.get(T))return xn.get(T);const N=T.replace(/FromIndex$/,""),oe=T!==N,ke=$r.includes(N);if(!(N in(oe?IDBIndex:IDBObjectStore).prototype)||!ke&&!_n.includes(N))return;const xe=function(){var lt=(0,L.Z)(function*(En,...sn){const Nn=this.transaction(En,ke?"readwrite":"readonly");let In=Nn.store;return oe&&(In=In.index(sn.shift())),(yield Promise.all([In[N](...sn),ke&&Nn.done]))[0]});return function(sn){return lt.apply(this,arguments)}}();return xn.set(T,xe),xe}!function cr(O){Hn=O(Hn)}(O=>({...O,get:(T,N,oe)=>Vn(T,N)||O.get(T,N,oe),has:(T,N)=>!!Vn(T,N)||O.has(T,N)}));const hi="/firebase-messaging-sw.js",Tn="/firebase-cloud-messaging-push-scope",fi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hr="https://fcmregistrations.googleapis.com/v1",j="google.c.a.c_id",U="google.c.a.c_l",G="google.c.a.ts",ve="google.c.a.e";var Ve=(()=>{return(O=Ve||(Ve={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",Ve;var O})();function Dt(O){const T=new Uint8Array(O);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Q(O){const N=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(N),ke=new Uint8Array(oe.length);for(let xe=0;xe<oe.length;++xe)ke[xe]=oe.charCodeAt(xe);return ke}const _e="fcm_token_details_db",Se=5,Ge="fcm_token_object_Store";function yt(){return yt=(0,L.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(_e))return null;let T=null;return(yield Xt(_e,Se,{upgrade:(oe=(0,L.Z)(function*(ke,xe,lt,En){var sn;if(xe<2||!ke.objectStoreNames.contains(Ge))return;const Nn=En.objectStore(Ge),In=yield Nn.index("fcmSenderId").get(O);if(yield Nn.clear(),In)if(2===xe){const mn=In;if(!mn.auth||!mn.p256dh||!mn.endpoint)return;T={token:mn.fcmToken,createTime:null!==(sn=mn.createTime)&&void 0!==sn?sn:Date.now(),subscriptionOptions:{auth:mn.auth,p256dh:mn.p256dh,endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:"string"==typeof mn.vapidKey?mn.vapidKey:Dt(mn.vapidKey)}}}else if(3===xe){const mn=In;T={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:Dt(mn.auth),p256dh:Dt(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:Dt(mn.vapidKey)}}}else if(4===xe){const mn=In;T={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:Dt(mn.auth),p256dh:Dt(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:Dt(mn.vapidKey)}}}}),function(xe,lt,En,sn){return oe.apply(this,arguments)})})).close(),yield Ai(_e),yield Ai("fcm_vapid_details_db"),yield Ai("undefined"),function Ft(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:T}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var oe}),yt.apply(this,arguments)}const tn="firebase-messaging-database",nn=1,re="firebase-messaging-store";let X=null;function Oe(){return X||(X=Xt(tn,nn,{upgrade:(O,T)=>{0===T&&O.createObjectStore(re)}})),X}function gt(O){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,L.Z)(function*(O){const T=Xn(O),oe=yield(yield Oe()).transaction(re).objectStore(re).get(T);if(oe)return oe;{const ke=yield function Ne(O){return yt.apply(this,arguments)}(O.appConfig.senderId);if(ke)return yield Kt(O,ke),ke}}),Tt.apply(this,arguments)}function Kt(O,T){return St.apply(this,arguments)}function St(){return(St=(0,L.Z)(function*(O,T){const N=Xn(O),ke=(yield Oe()).transaction(re,"readwrite");return yield ke.objectStore(re).put(T,N),yield ke.done,T})).apply(this,arguments)}function cn(){return(cn=(0,L.Z)(function*(O){const T=Xn(O),oe=(yield Oe()).transaction(re,"readwrite");yield oe.objectStore(re).delete(T),yield oe.done})).apply(this,arguments)}function Xn({appConfig:O}){return O.appId}const lr=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jo(O,T){return ks.apply(this,arguments)}function ks(){return(ks=(0,L.Z)(function*(O,T){const N=yield wn(O),oe=pi(T),ke={method:"POST",headers:N,body:JSON.stringify(oe)};let xe;try{xe=yield(yield fetch(Xr(O.appConfig),ke)).json()}catch(lt){throw lr.create("token-subscribe-failed",{errorInfo:lt?.toString()})}if(xe.error)throw lr.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw lr.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function nt(){return(nt=(0,L.Z)(function*(O,T){const N=yield wn(O),oe=pi(T.subscriptionOptions),ke={method:"PATCH",headers:N,body:JSON.stringify(oe)};let xe;try{xe=yield(yield fetch(`${Xr(O.appConfig)}/${T.token}`,ke)).json()}catch(lt){throw lr.create("token-update-failed",{errorInfo:lt?.toString()})}if(xe.error)throw lr.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw lr.create("token-update-no-token");return xe.token})).apply(this,arguments)}function Gt(O,T){return On.apply(this,arguments)}function On(){return(On=(0,L.Z)(function*(O,T){const oe={method:"DELETE",headers:yield wn(O)};try{const xe=yield(yield fetch(`${Xr(O.appConfig)}/${T}`,oe)).json();if(xe.error)throw lr.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ke){throw lr.create("token-unsubscribe-failed",{errorInfo:ke?.toString()})}})).apply(this,arguments)}function Xr({projectId:O}){return`${Hr}/projects/${O}/registrations`}function wn(O){return er.apply(this,arguments)}function er(){return(er=(0,L.Z)(function*({appConfig:O,installations:T}){const N=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function pi({p256dh:O,auth:T,endpoint:N,vapidKey:oe}){const ke={web:{endpoint:N,auth:T,p256dh:O}};return oe!==fi&&(ke.web.applicationPubKey=oe),ke}const jn=6048e5;function gs(){return gs=(0,L.Z)(function*(O){const T=yield function ln(O,T){return jt.apply(this,arguments)}(O.swRegistration,O.vapidKey),N={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:T.endpoint,auth:Dt(T.getKey("auth")),p256dh:Dt(T.getKey("p256dh"))},oe=yield gt(O.firebaseDependencies);if(oe){if(function fn(O,T){return T.vapidKey===O.vapidKey&&T.endpoint===O.endpoint&&T.auth===O.auth&&T.p256dh===O.p256dh}(oe.subscriptionOptions,N))return Date.now()>=oe.createTime+jn?function V(O,T){return Y.apply(this,arguments)}(O,{token:oe.token,createTime:Date.now(),subscriptionOptions:N}):oe.token;try{yield Gt(O.firebaseDependencies,oe.token)}catch(ke){console.warn(ke)}return pe(O.firebaseDependencies,N)}return pe(O.firebaseDependencies,N)}),gs.apply(this,arguments)}function ms(){return ms=(0,L.Z)(function*(O){const T=yield gt(O.firebaseDependencies);T&&(yield Gt(O.firebaseDependencies,T.token),yield function vn(O){return cn.apply(this,arguments)}(O.firebaseDependencies));const N=yield O.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()}),ms.apply(this,arguments)}function Y(){return Y=(0,L.Z)(function*(O,T){try{const N=yield function zr(O,T){return nt.apply(this,arguments)}(O.firebaseDependencies,T),oe=Object.assign(Object.assign({},T),{token:N,createTime:Date.now()});return yield Kt(O.firebaseDependencies,oe),N}catch(N){throw yield function Zt(O){return ms.apply(this,arguments)}(O),N}}),Y.apply(this,arguments)}function pe(O,T){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(O,T){const oe={token:yield jo(O,T),createTime:Date.now(),subscriptionOptions:T};return yield Kt(O,oe),oe.token})).apply(this,arguments)}function jt(){return(jt=(0,L.Z)(function*(O,T){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Q(T)})})).apply(this,arguments)}function Rn(O){const T={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function tr(O,T){if(!T.notification)return;O.notification={};const N=T.notification.title;N&&(O.notification.title=N);const oe=T.notification.body;oe&&(O.notification.body=oe);const ke=T.notification.image;ke&&(O.notification.image=ke);const xe=T.notification.icon;xe&&(O.notification.icon=xe)}(T,O),function rn(O,T){T.data&&(O.data=T.data)}(T,O),function pr(O,T){var N,oe,ke,xe,lt;if(!(T.fcmOptions||null!==(N=T.notification)&&void 0!==N&&N.click_action))return;O.fcmOptions={};const En=null!==(ke=null===(oe=T.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==ke?ke:null===(xe=T.notification)||void 0===xe?void 0:xe.click_action;En&&(O.fcmOptions.link=En);const sn=null===(lt=T.fcmOptions)||void 0===lt?void 0:lt.analytics_label;sn&&(O.fcmOptions.analyticsLabel=sn)}(T,O),T}function Dc(O,T){const N=[];for(let oe=0;oe<O.length;oe++)N.push(O.charAt(oe)),oe<T.length&&N.push(T.charAt(oe));return N.join("")}function Ps(O){return lr.create("missing-app-config-values",{valueName:O})}Dc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Dc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rs{constructor(T,N,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function yo(O){if(!O||!O.options)throw Ps("App Configuration Object");if(!O.name)throw Ps("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:N}=O;for(const oe of T)if(!N[oe])throw Ps(oe);return{appName:O.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ke,installations:N,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function Tr(O){return xa.apply(this,arguments)}function xa(){return(xa=(0,L.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(hi,{scope:Tn}),O.swRegistration.update().catch(()=>{})}catch(T){throw lr.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function ei(){return(ei=(0,L.Z)(function*(O,T){if(!T&&!O.swRegistration&&(yield Tr(O)),T||!O.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");O.swRegistration=T}})).apply(this,arguments)}function ys(){return(ys=(0,L.Z)(function*(O,T){T?O.vapidKey=T:O.vapidKey||(O.vapidKey=fi)})).apply(this,arguments)}function ti(){return ti=(0,L.Z)(function*(O,T){if(!navigator)throw lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw lr.create("permission-blocked");return yield function Tc(O,T){return ys.apply(this,arguments)}(O,T?.vapidKey),yield function _i(O,T){return ei.apply(this,arguments)}(O,T?.serviceWorkerRegistration),function Zs(O){return gs.apply(this,arguments)}(O)}),ti.apply(this,arguments)}function ts(){return(ts=(0,L.Z)(function*(O,T,N){const oe=function Sc(O){switch(O){case Ve.NOTIFICATION_CLICKED:return"notification_open";case Ve.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:N[j],message_name:N[U],message_time:N[G],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bi(){return Bi=(0,L.Z)(function*(O,T){const N=T.data;if(!N.isFirebaseMessaging)return;O.onMessageHandler&&N.messageType===Ve.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Rn(N)):O.onMessageHandler.next(Rn(N)));const oe=N.data;(function $o(O){return"object"==typeof O&&!!O&&j in O})(oe)&&"1"===oe[ve]&&(yield function zo(O,T,N){return ts.apply(this,arguments)}(O,N.messageType,oe))}),Bi.apply(this,arguments)}const Bd="@firebase/messaging",rp=O=>{const T=new Rs(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Ud(O,T){return Bi.apply(this,arguments)}(T,N)),T},ql=O=>{const T=O.getProvider("messaging").getImmediate();return{getToken:oe=>function Ho(O,T){return ti.apply(this,arguments)}(T,oe)}};function Go(){return ka.apply(this,arguments)}function ka(){return(ka=(0,L.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ip(){(0,se._registerComponent)(new ce.wA("messaging",rp,"PUBLIC")),(0,se._registerComponent)(new ce.wA("messaging-internal",ql,"PRIVATE")),(0,se.registerVersion)(Bd,"0.12.4"),(0,se.registerVersion)(Bd,"0.12.4","esm2017")}();var ns=P(5132),ji=P(4408),Mc=P(7565);const Kl=new class xc extends Mc.v{}(class qo extends ji.o{constructor(T,N){super(T,N),this.scheduler=T,this.work=N}schedule(T,N=0){return N>0?super.schedule(T,N):(this.delay=N,this.state=T,this.scheduler.flush(this),this)}execute(T,N){return N>0||this.closed?super.execute(T,N):this._execute(T,N)}requestAsyncId(T,N,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(T,N,oe):(T.flush(this),0)}});var Qs=P(4986),Hd=P(8505),Pa=P(9468),Oc=P(5363);const _o=new d.GfV("7.5.0"),ni="__angularfire_symbol__analyticsIsSupportedValue",ri="__angularfire_symbol__analyticsIsSupported",Wo="__angularfire_symbol__remoteConfigIsSupportedValue",gr="__angularfire_symbol__remoteConfigIsSupported",Fs="__angularfire_symbol__messagingIsSupportedValue",_s="__angularfire_symbol__messagingIsSupported";globalThis[ri]||(globalThis[ri]=(0,ns.Gb)().then(O=>globalThis[ni]=O).catch(()=>globalThis[ni]=!1)),globalThis[_s]||(globalThis[_s]=Go().then(O=>globalThis[Fs]=O).catch(()=>globalThis[Fs]=!1)),globalThis[gr]||(globalThis[gr]=Si().then(O=>globalThis[Wo]=O).catch(()=>globalThis[Wo]=!1));const Js={async:()=>globalThis[ri],sync:()=>{const O=globalThis[ni];if(void 0===O)throw new Error((O=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${O} in the constructor, first ensure that ${O} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${O})\`.`)("Analytics"));return O}};function Gr(O,T,N){if(T){if(1===T.length)return T[0];const xe=T.filter(lt=>lt.app===N);if(1===xe.length)return xe[0]}return N.container.getProvider(O).getImmediate({optional:!0})}const kc=(O,T)=>{const N=T?[T]:(0,J.C6)(),oe=[];return N.forEach(ke=>{ke.container.getProvider(O).instances.forEach(lt=>{oe.includes(lt)||oe.push(lt)})}),oe};function Mi(){}class Ra{constructor(T,N=Kl){this.zone=T,this.delegate=N}now(){return this.delegate.now()}schedule(T,N,oe){const ke=this.zone;return this.delegate.schedule(function(lt){ke.runGuarded(()=>{T.apply(this,[lt])})},N,oe)}}class Ls{constructor(T){this.zone=T,this.task=null}call(T,N){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mi,{},Mi,Mi)),N.pipe((0,Hd.b)({next:oe,complete:oe,error:oe})).subscribe(T).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Na=(()=>{class O{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Ra(Zone.current)),this.insideAngular=N.run(()=>new Ra(Zone.current,Qs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(N){return new(N||O)(d.LFG(d.R0b))},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function rs(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Fa(O){return rs(),function Zl(O){return function(N){return(N=N.lift(new Ls(O.ngZone))).pipe((0,Pa.R)(O.outsideAngular),(0,Oc.Q)(O.insideAngular))}}(rs())(O)}},2090:(Mt,Me,P)=>{P.d(Me,{$s:()=>hi,BH:()=>Ie,G6:()=>Ae,L:()=>ge,LL:()=>Bt,Pz:()=>Ee,Sg:()=>tt,UG:()=>ae,US:()=>ce,ZB:()=>W,ZR:()=>mt,aH:()=>Pe,b$:()=>Jt,eu:()=>Xe,hl:()=>Re,jU:()=>Pt,m9:()=>Hr,ne:()=>bn,pd:()=>ar,r3:()=>yi,ru:()=>ot,tV:()=>z,uI:()=>ct,vZ:()=>Ct,w1:()=>es,xO:()=>or,xb:()=>Si,z$:()=>ze,zI:()=>He,zd:()=>Gn});const se=function(j){const U=[];let G=0;for(let ve=0;ve<j.length;ve++){let ne=j.charCodeAt(ve);ne<128?U[G++]=ne:ne<2048?(U[G++]=ne>>6|192,U[G++]=63&ne|128):55296==(64512&ne)&&ve+1<j.length&&56320==(64512&j.charCodeAt(ve+1))?(ne=65536+((1023&ne)<<10)+(1023&j.charCodeAt(++ve)),U[G++]=ne>>18|240,U[G++]=ne>>12&63|128,U[G++]=ne>>6&63|128,U[G++]=63&ne|128):(U[G++]=ne>>12|224,U[G++]=ne>>6&63|128,U[G++]=63&ne|128)}return U},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let ne=0;ne<j.length;ne+=3){const Ve=j[ne],Dt=ne+1<j.length,Q=Dt?j[ne+1]:0,_e=ne+2<j.length,Se=_e?j[ne+2]:0;let yt=(15&Q)<<2|Se>>6,Ft=63&Se;_e||(Ft=64,Dt||(yt=64)),ve.push(G[Ve>>2],G[(3&Ve)<<4|Q>>4],G[yt],G[Ft])}return ve.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(se(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let G=0,ve=0;for(;G<j.length;){const ne=j[G++];if(ne<128)U[ve++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ve=j[G++];U[ve++]=String.fromCharCode((31&ne)<<6|63&Ve)}else if(ne>239&&ne<365){const _e=((7&ne)<<18|(63&j[G++])<<12|(63&j[G++])<<6|63&j[G++])-65536;U[ve++]=String.fromCharCode(55296+(_e>>10)),U[ve++]=String.fromCharCode(56320+(1023&_e))}else{const Ve=j[G++],Dt=j[G++];U[ve++]=String.fromCharCode((15&ne)<<12|(63&Ve)<<6|63&Dt)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const G=U?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let ne=0;ne<j.length;){const Ve=G[j.charAt(ne++)],Q=ne<j.length?G[j.charAt(ne)]:0;++ne;const Se=ne<j.length?G[j.charAt(ne)]:64;++ne;const Ne=ne<j.length?G[j.charAt(ne)]:64;if(++ne,null==Ve||null==Q||null==Se||null==Ne)throw new ye;ve.push(Ve<<2|Q>>4),64!==Se&&(ve.push(Q<<4&240|Se>>2),64!==Ne&&ve.push(Se<<6&192|Ne))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(j){return function(j){const U=se(j);return ce.encodeByteArray(U,!0)}(j).replace(/\./g,"")},z=function(j){try{return ce.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function W(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const G in U)!U.hasOwnProperty(G)||!Fe(G)||(j[G]=W(j[G],U[G]));return j}function Fe(j){return"__proto__"!==j}const Ue=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&z(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Pe=()=>{var j;return null===(j=Ue())||void 0===j?void 0:j.config},Ee=j=>{var U;return null===(U=Ue())||void 0===U?void 0:U[`_${j}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,G)=>{this.resolve=U,this.reject=G})}wrapCallback(U){return(G,ve)=>{G?this.reject(G):this.resolve(ve),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(G):U(G,ve))}}}function tt(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=U||"demo-project",ne=j.iat||0,Ve=j.sub||j.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:ne,exp:ne+3600,auth_time:ne,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Dt)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function ae(){var j;const U=null===(j=Ue())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function ot(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function es(){const j=ze();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ae(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function Xe(){return new Promise((j,U)=>{try{let G=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(ve);ne.onsuccess=()=>{ne.result.close(),G||self.indexedDB.deleteDatabase(ve),j(!0)},ne.onupgradeneeded=()=>{G=!1},ne.onerror=()=>{var Ve;U((null===(Ve=ne.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(G){U(G)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class mt extends Error{constructor(U,G,ve){super(G),this.code=U,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(U,G,ve){this.service=U,this.serviceName=G,this.errors=ve}create(U,...G){const ve=G[0]||{},ne=`${this.service}/${U}`,Ve=this.errors[U],Dt=Ve?function xt(j,U){return j.replace(Et,(G,ve)=>{const ne=U[ve];return null!=ne?String(ne):`<${ve}?>`})}(Ve,ve):"Error";return new mt(ne,`${this.serviceName}: ${Dt} (${ne}).`,ve)}}const Et=/\{\$([^}]+)}/g;function yi(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function Si(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function Ct(j,U){if(j===U)return!0;const G=Object.keys(j),ve=Object.keys(U);for(const ne of G){if(!ve.includes(ne))return!1;const Ve=j[ne],Dt=U[ne];if(sr(Ve)&&sr(Dt)){if(!Ct(Ve,Dt))return!1}else if(Ve!==Dt)return!1}for(const ne of ve)if(!G.includes(ne))return!1;return!0}function sr(j){return null!==j&&"object"==typeof j}function or(j){const U=[];for(const[G,ve]of Object.entries(j))Array.isArray(ve)?ve.forEach(ne=>{U.push(encodeURIComponent(G)+"="+encodeURIComponent(ne))}):U.push(encodeURIComponent(G)+"="+encodeURIComponent(ve));return U.length?"&"+U.join("&"):""}function Gn(j){const U={};return j.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[ne,Ve]=ve.split("=");U[decodeURIComponent(ne)]=decodeURIComponent(Ve)}}),U}function ar(j){const U=j.indexOf("?");if(!U)return"";const G=j.indexOf("#",U);return j.substring(U,G>0?G:void 0)}function bn(j,U){const G=new st(j,U);return G.subscribe.bind(G)}class st{constructor(U,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{U(this)}).catch(ve=>{this.error(ve)})}next(U){this.forEachObserver(G=>{G.next(U)})}error(U){this.forEachObserver(G=>{G.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,G,ve){let ne;if(void 0===U&&void 0===G&&void 0===ve)throw new Error("Missing Observer.");ne=function Or(j,U){if("object"!=typeof j||null===j)return!1;for(const G of U)if(G in j&&"function"==typeof j[G])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:G,complete:ve},void 0===ne.next&&(ne.next=Ln),void 0===ne.error&&(ne.error=Ln),void 0===ne.complete&&(ne.complete=Ln);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Ve}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,U)}sendOne(U,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{G(this.observers[U])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}const _n=1e3,$r=2,xn=144e5,Vn=.5;function hi(j,U=_n,G=$r){const ve=U*Math.pow(G,j),ne=Math.round(Vn*ve*(Math.random()-.5)*2);return Math.min(xn,ve+ne)}function Hr(j){return j&&j._delegate?j._delegate:j}},8507:(Mt,Me,P)=>{var d=P(4650);let J=null;function L(){return J}class he{}const ce=new d.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ce(){return(0,d.LFG)(z)}()},providedIn:"platform"}),n})();const ge=new d.OlP("Location Initialized");let z=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){H()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){H()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function W(){return new z((0,d.LFG)(ce))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function Fe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let vt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ue)},providedIn:"root"}),n})();const me=new d.OlP("appBaseHref");let Ue=(()=>{class n extends vt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+qe(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+qe(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye),d.LFG(me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),je=(()=>{class n extends vt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Fe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+qe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+qe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye),d.LFG(me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function tt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(we(Ie(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=qe,n.joinWithSlash=Fe,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(d.LFG(vt))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Pe(){return new Ke((0,d.LFG)(vt))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}class er{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new er(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const p=r.get(a);r.move(p,l),jn(p,i)}});for(let i=0,a=r.length;i<a;i++){const p=r.get(i).context;p.index=i,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{jn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function jn(n,e){n.context.$implicit=e.item}let Ys=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const sp="browser",jd="server";function Wl(n){return n===sp}function ns(n){return n===jd}let xc=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Kl((0,d.LFG)(ce),window)}),n})();class Kl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Qs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$d(this.window.history)||$d(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $d(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class up extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nh extends up{static makeCurrent(){!function se(n){J||(J=n)}(new nh)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ba(){return Rc=Rc||document.querySelector("base"),Rc?Rc.getAttribute("href"):null}();return null==t?null:function T0(n){Zo=Zo||document.createElement("a"),Zo.setAttribute("href",n);const e=Zo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ks(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Zo,Rc=null;const S0=new d.OlP("TRANSITION_ID"),nC=[{provide:d.ip1,useFactory:function dp(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[S0,ce,d.zs3],multi:!0}];let Yo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Nc=new d.OlP("EventManagerPlugins");let ih=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Nc),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Jl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let sh=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Fc=(()=>{class n extends sh{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Qo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xl=/%COMP%/g,Vc=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function fp(n,e){return e.flat(100).map(t=>t.replace(Xl,n))}function Uc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ss=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Vs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof pp?i.applyToHost(t):i instanceof Qn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,p=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:a=new pp(l,p,r,this.appId,_);break;case d.ifc.ShadowDom:return new oh(l,p,t,r);default:a=new Qn(l,p,r,_)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ih),d.LFG(Fc),d.LFG(d.AFp),d.LFG(Vc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Vs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ea(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ea(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Qo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Uc(r)):this.eventManager.addEventListener(e,t,Uc(r))}}function ea(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oh extends Vs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=fp(i.id,i.styles);for(const l of a){const p=document.createElement("style");p.textContent=l,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qn extends Vs{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=fp(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pp extends Qn{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function A0(n){return"_ngcontent-%COMP%".replace(Xl,n)}(l),this.hostAttr=function hp(n){return"_nghost-%COMP%".replace(Xl,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ru=(()=>{class n extends Jl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ah=["alt","control","meta","shift"],iu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vm=(()=>{class n extends Jl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),l="code."),ah.forEach(E=>{const C=r.indexOf(E);C>-1&&(r.splice(C,1),l+=E+".")}),l+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=l,_}static matchEventFullKeyCode(t,r){let i=iu[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ah.forEach(l=>{l!==i&&(0,gp[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const lh=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:sp},{provide:d.g9A,useValue:function Xs(){nh.makeCurrent()},multi:!0},{provide:ce,useFactory:function ou(){return(0,d.RDi)(document),document},deps:[]}]),uh=new d.OlP(""),$a=[{provide:d.rWj,useClass:class rh{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const p=function(_){l=l||_,a--,0==a&&r(l)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],vo=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Um(){return new d.qLn},deps:[]},{provide:Nc,useClass:ru,multi:!0,deps:[ce,d.R0b,d.Lbi]},{provide:Nc,useClass:Vm,multi:!0,deps:[ce]},{provide:ss,useClass:ss,deps:[ih,Fc,d.AFp,Vc]},{provide:d.FYo,useExisting:ss},{provide:sh,useExisting:Fc},{provide:Fc,useClass:Fc,deps:[ce]},{provide:ih,useClass:ih,deps:[Nc,d.R0b]},{provide:class Pa{},useClass:Yo,deps:[]},[]];let na=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:S0,useExisting:d.AFp},nC]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(uh,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...vo,...$a],imports:[Ys,d.hGG]}),n})(),mp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ha(){return new mp((0,d.LFG)(ce))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var $n=P(8996),Hi=P(7669);function wt(...n){const e=(0,Hi.yG)(n);return(0,$n.D)(n,e)}var Pr=P(7579);class ki extends Pr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const lu=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Es=P(9751);const{isArray:ph}=Array,{getPrototypeOf:Ep,prototype:gh,keys:uu}=Object;function za(n){if(1===n.length){const e=n[0];if(ph(e))return{args:e,keys:null};if(function Gc(n){return n&&"object"==typeof n&&Ep(n)===gh}(e)){const t=uu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Eo=P(4671),kt=P(4004);const{isArray:mh}=Array;function Ga(n){return(0,kt.U)(e=>function du(n,e){return mh(e)?n(...e):n(e)}(n,e))}function eo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var yr=P(5403),qm=P(9672);function qc(...n){const e=(0,Hi.yG)(n),t=(0,Hi.jO)(n),{args:r,keys:i}=za(n);if(0===r.length)return(0,$n.D)([],e);const a=new Es.y(function bo(n,e,t=Eo.y){return r=>{Io(e,()=>{const{length:i}=n,a=new Array(i);let l=i,p=i;for(let _=0;_<i;_++)Io(e,()=>{const E=(0,$n.D)(n[_],e);let C=!1;E.subscribe((0,yr.x)(r,M=>{a[_]=M,C||(C=!0,p--),p||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>eo(i,l):Eo.y));return t?a.pipe(Ga(t)):a}function Io(n,e,t){n?(0,qm.f)(t,n,e):e()}var Wc=P(8189);function qa(...n){return function bp(){return(0,Wc.J)(1)}()((0,$n.D)(n,(0,Hi.yG)(n)))}var ia=P(8421);function Wm(n){return new Es.y(e=>{(0,ia.Xf)(n()).subscribe(e)})}var Km=P(9635),Kc=P(576);function Zc(n,e){const t=(0,Kc.m)(n)?n:()=>n,r=i=>i.error(t());return new Es.y(e?i=>e.schedule(r,0,i):r)}var os=P(515),Yc=P(727),Wr=P(4482);function hu(){return(0,Wr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,yr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class yh extends Es.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Wr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,yr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yc.w0.EMPTY)}return e}refCount(){return hu()(this)}}function rr(n,e){return(0,Wr.e)((t,r)=>{let i=null,a=0,l=!1;const p=()=>l&&!i&&r.complete();t.subscribe((0,yr.x)(r,_=>{i?.unsubscribe();let E=0;const C=a++;(0,ia.Xf)(n(_,C)).subscribe(i=(0,yr.x)(r,M=>r.next(e?e(_,M,C,E++):M),()=>{i=null,p()}))},()=>{l=!0,p()}))})}function Co(n){return n<=0?()=>os.E:(0,Wr.e)((e,t)=>{let r=0;e.subscribe((0,yr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function to(...n){const e=(0,Hi.yG)(n);return(0,Wr.e)((t,r)=>{(e?qa(n,t,e):qa(n,t)).subscribe(r)})}function gi(n,e){return(0,Wr.e)((t,r)=>{let i=0;t.subscribe((0,yr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Rr=P(5577);function Qc(n){return(0,Wr.e)((e,t)=>{let r=!1;e.subscribe((0,yr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zm(n=fu){return(0,Wr.e)((e,t)=>{let r=!1;e.subscribe((0,yr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fu(){return new lu}function no(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gi((i,a)=>n(i,a,r)):Eo.y,Co(1),t?Qc(e):Zm(()=>new lu))}function sa(n,e){return(0,Kc.m)(e)?(0,Rr.z)(n,e,1):(0,Rr.z)(n,1)}var Ei=P(8505);function Do(n){return(0,Wr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,yr.x)(t,void 0,void 0,l=>{a=(0,ia.Xf)(n(l,Do(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Jc(n,e){return(0,Wr.e)(function Ip(n,e,t,r,i){return(a,l)=>{let p=t,_=e,E=0;a.subscribe((0,yr.x)(l,C=>{const M=E++;_=p?n(_,C,M):(p=!0,C),r&&l.next(_)},i&&(()=>{p&&l.next(_),l.complete()})))}}(n,e,arguments.length>=2,!0))}function pu(n){return n<=0?()=>os.E:(0,Wr.e)((e,t)=>{let r=[];e.subscribe((0,yr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function gu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gi((i,a)=>n(i,a,r)):Eo.y,pu(1),t?Qc(e):Zm(()=>new lu))}function yu(n){return(0,Wr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Vt="primary",Xc=Symbol("RouteTitle");class _u{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wa(n){return new _u(n)}function Dp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],p=n[a];if(l.startsWith(":"))i[l.substring(1)]=p;else if(l!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Us(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Tp(n[i],e[i]))return!1;return!0}function Tp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Sp(n){return Array.prototype.concat.apply([],n)}function vh(n){return n.length>0?n[n.length-1]:null}function Nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function _r(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,$n.D)(Promise.resolve(n)):wt(n)}const Ka=!1,Ap={exact:function wh(n,e,t){if(!oa(n.segments,e.segments)||!wu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!wh(n.children[r],e.children[r],t))return!1;return!0},subset:xp},vu={exact:function Za(n,e){return Us(n,e)},subset:function Mp(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Tp(n[t],e[t]))},ignored:()=>!0};function si(n,e,t){return Ap[t.paths](n.root,e.root,t.matrixParams)&&vu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xp(n,e,t){return Eh(n,e,e.segments,t)}function Eh(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!oa(i,t)||e.hasChildren()||!wu(i,t,r))}if(n.segments.length===t.length){if(!oa(n.segments,t)||!wu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!xp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(oa(n.segments,i)&&wu(n.segments,i,r)&&n.children[Vt])&&Eh(n.children[Vt],e,a,r)}}function wu(n,e,t){return e.every((r,i)=>vu[t](n[i].parameters,r.parameters))}class bs{constructor(e=new pn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wa(this.queryParams)),this._queryParamMap}toString(){return tl.serialize(this)}}class pn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Nr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ih(this)}}class Ya{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wa(this.parameters)),this._parameterMap}toString(){return Op(this)}}function oa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new el},providedIn:"root"}),n})();class el{parse(e){const t=new rl(e);return new bs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ca(e.root,!0)}`,r=function Ym(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ro(t)}=${ro(i)}`).join("&"):`${ro(t)}=${ro(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ch(n){return encodeURI(n)}(e.fragment)}`:""}`}}const tl=new el;function Ih(n){return n.segments.map(e=>Op(e)).join("/")}function ca(n,e){if(!n.hasChildren())return Ih(n);if(e){const t=n.children[Vt]?ca(n.children[Vt],!1):"",r=[];return Nr(n.children,(i,a)=>{a!==Vt&&r.push(`${a}:${ca(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Eu(n,e){let t=[];return Nr(n.children,(r,i)=>{i===Vt&&(t=t.concat(e(r,i)))}),Nr(n.children,(r,i)=>{i!==Vt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Vt?[ca(n.children[Vt],!1)]:[`${i}:${ca(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${Ih(n)}/${t[0]}`:`${Ih(n)}/(${t.join("//")})`}}function nl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ro(n){return nl(n).replace(/%3B/gi,";")}function io(n){return nl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qa(n){return decodeURIComponent(n)}function Dh(n){return Qa(n.replace(/\+/g,"%20"))}function Op(n){return`${io(n.path)}${function Th(n){return Object.keys(n).map(e=>`;${io(e)}=${io(n[e])}`).join("")}(n.parameters)}`}const kp=/^[^\/()?;=#]+/;function bu(n){const e=n.match(kp);return e?e[0]:""}const O0=/^[^=?&#]+/,Qm=/^[^&#]+/;class rl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Vt]=new pn(e,t)),r}parseSegment(){const e=bu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,Ka);return this.capture(e),new Ya(Qa(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bu(this.remaining);i&&(r=i,this.capture(r))}e[Qa(t)]=Qa(r)}parseQueryParam(e){const t=function la(n){const e=n.match(O0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Pp(n){const e=n.match(Qm);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Dh(t),a=Dh(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,Ka);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Vt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Vt]:new pn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,Ka)}}function Iu(n){return n.segments.length>0?new pn([],{[Vt]:n}):n}function To(n){const e={};for(const r of Object.keys(n.children)){const a=To(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Jm(n){if(1===n.numberOfChildren&&n.children[Vt]){const e=n.children[Vt];return new pn(n.segments.concat(e.segments),e.children)}return n}(new pn(n.segments,e))}function ua(n){return n instanceof bs}const Ja=!1;function Rp(n,e,t,r,i){if(0===t.length)return so(e.root,e.root,e.root,r,i);const a=function ol(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Du(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Nr(a.outlets,(_,E)=>{p[E]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new Du(t,e,r)}(t);return a.toRoot()?so(e.root,e.root,new pn([],{}),r,i):function l(_){const E=function Tu(n,e,t,r){if(n.isAbsolute)return new da(e.root,!0,0);if(-1===r)return new da(t,t===e.root,0);return function ha(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,Ja&&"Invalid number of '../'");i=r.segments.length}return new da(r,!1,i-a)}(t,r+(sl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),C=E.processChildren?Is(E.segmentGroup,E.index,a.commands):Au(E.segmentGroup,E.index,a.commands);return so(e.root,E.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function sl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cu(n){return"object"==typeof n&&null!=n&&n.outlets}function so(n,e,t,r,i){let l,a={};r&&Nr(r,(_,E)=>{a[E]=Array.isArray(_)?_.map(C=>`${C}`):`${_}`}),l=n===e?t:Np(n,e,t);const p=Iu(To(l));return new bs(p,a,i)}function Np(n,e,t){const r={};return Nr(n.children,(i,a)=>{r[a]=i===e?t:Np(i,e,t)}),new pn(n.segments,r)}class Du{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&sl(r[0]))throw new d.vHH(4003,Ja&&"Root segment cannot have matrix parameters");const i=r.find(Cu);if(i&&i!==vh(r))throw new d.vHH(4004,Ja&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class da{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Au(n,e,t){if(n||(n=new pn([],{})),0===n.segments.length&&n.hasChildren())return Is(n,e,t);const r=function Ah(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],p=t[r];if(Cu(p))break;const _=`${p}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!xh(_,E,l))return a;r+=2}else{if(!xh(_,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new pn(n.segments.slice(0,r.pathIndex),{});return a.children[Vt]=new pn(n.segments.slice(r.pathIndex),n.children),Is(a,0,i)}return r.match&&0===i.length?new pn(n.segments,{}):r.match&&!n.hasChildren()?al(n,e,t):r.match?Is(n,0,i):al(n,e,t)}function Is(n,e,t){if(0===t.length)return new pn(n.segments,{});{const r=function Su(n){return Cu(n[0])?n[0].outlets:{[Vt]:n}}(t),i={};if(!r[Vt]&&n.children[Vt]&&1===n.numberOfChildren&&0===n.children[Vt].segments.length){const a=Is(n.children[Vt],e,t);return new pn(n.segments,a.children)}return Nr(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=Au(n.children[l],e,a))}),Nr(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new pn(n.segments,i)}}function al(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Cu(a)){const _=cl(a.outlets);return new pn(r,_)}if(0===i&&sl(t[0])){r.push(new Ya(n.segments[e].path,Mh(t[0]))),i++;continue}const l=Cu(a)?a.outlets[Vt]:`${a}`,p=i<t.length-1?t[i+1]:null;l&&p&&sl(p)?(r.push(new Ya(l,Mh(p))),i+=2):(r.push(new Ya(l,{})),i++)}return new pn(r,{})}function cl(n){const e={};return Nr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=al(new pn([],{}),0,t))}),e}function Mh(n){const e={};return Nr(n,(t,r)=>e[r]=`${t}`),e}function xh(n,e,t){return n==t.path&&Us(e,t.parameters)}const ll="imperative";class Bs{constructor(e,t){this.id=e,this.url=t}}class Oh extends Bs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends Bs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ul extends Bs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ao extends Bs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class dl extends Bs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xa extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ey extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ty extends Bs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ny extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kh extends Bs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ec{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ph{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fa{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Nh=(()=>{class n{createUrlTree(t,r,i,a,l,p){return Rp(t||r.root,i,a,l,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return Nh.\u0275fac(e)},providedIn:"root"}),n})();class Lh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Vh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=oi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return oi(e,this._root).map(t=>t.value)}}function Vh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Vh(n,t);if(r)return r}return null}function oi(n,e){if(n===e.value)return[e];for(const t of e.children){const r=oi(n,t);if(r.length)return r.unshift(e),r}return[]}class Pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function tc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class iy extends Lh{constructor(e,t){super(e),this.snapshot=t,pa(this,e)}toString(){return this.snapshot.toString()}}function sy(n,e){const t=function oy(n,e){const l=new xu([],{},{},"",{},Vt,e,null,n.root,-1,{});return new js("",new Pi(l,[]))}(n,e),r=new ki([new Ya("",{})]),i=new ki({}),a=new ki({}),l=new ki({}),p=new ki(""),_=new Sr(r,i,l,p,a,Vt,e,t.root);return _.snapshot=t.root,new iy(new Pi(_,[]),t)}class Sr{constructor(e,t,r,i,a,l,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=p,this.title=this.data?.pipe((0,kt.U)(E=>E[Xc]))??wt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>Wa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>Wa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Mu(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xu{get title(){return this.data?.[Xc]}constructor(e,t,r,i,a,l,p,_,E,C,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=p,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=C,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class js extends Lh{constructor(e,t){super(t),this.url=e,pa(this,t)}toString(){return Bh(this._root)}}function pa(n,e){e.value._routerState=n,e.children.forEach(t=>pa(n,t))}function Bh(n){const e=n.children.length>0?` { ${n.children.map(Bh).join(", ")} } `:"";return`${n.value}${e}`}function nc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Us(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Us(e.params,t.params)||n.params.next(t.params),function _h(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Us(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Us(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cs(n,e){const t=Us(n.params,e.params)&&function bh(n,e){return oa(n,e)&&n.every((t,r)=>Us(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Cs(n.parent,e.parent))}function rc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Up(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rc(n,r,i);return rc(n,r)})}(n,e,t);return new Pi(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(p=>rc(n,p)),l}}const r=function Bp(n){return new Sr(new ki(n.url),new ki(n.params),new ki(n.queryParams),new ki(n.fragment),new ki(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>rc(n,a));return new Pi(r,i)}}const jp="ngNavigationCancelingError";function y(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ua(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=f(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function f(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[jp]=!0,r.cancellationCode=e,t&&(r.url=t),r}function g(n){return w(n)&&ua(n.url)}function w(n){return n&&n[jp]}class D{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new x,this.attachRef=null}}let x=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new D,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $=!1;let ee=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(x),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,$);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,$);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,$);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,$);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new Be(t,p,i.injector);if(r&&function et(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(l);this.activated=i.createComponent(E,i.length,_)}else this.activated=i.createComponent(l,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class Be{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Sr?this.route:e===x?this.childContexts:this.parent.get(e,t)}}let dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[ee],encapsulation:2}),n})();function ft(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function pl(n){const e=n.children&&n.children.map(pl),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=dt),t}function zi(n){return n.outlet||Vt}function ku(n,e){const t=n.filter(r=>zi(r)===e);return t.push(...n.filter(r=>zi(r)!==e)),t}function ic(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Pu{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),nc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=tc(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Nr(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=tc(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=tc(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=tc(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new bi(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ec(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(nc(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(p.contexts),l.attachRef=p.componentRef,l.route=p.route.value,l.outlet&&l.outlet.attach(p.componentRef,p.route.value),nc(p.route.value),this.activateChildRoutes(e,null,l.children)}else{const p=ic(i.snapshot),_=p?.get(d._Vd)??null;l.attachRef=null,l.route=i,l.resolver=_,l.injector=p,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class ly{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uy{constructor(e,t){this.component=e,this.route=t}}function jh(n,e,t){const r=n._root;return Ru(r,e?e._root:null,t,[r.value])}function gl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Ru(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=tc(e);return n.children.forEach(l=>{(function k0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const _=function HO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!oa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oa(n.url,e.url)||!Us(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cs(n,e)||!Us(n.queryParams,e.queryParams);default:return!Cs(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new ly(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Ru(n,e,a.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new uy(p.outlet.component,l))}else l&&$h(e,p,i),i.canActivateChecks.push(new ly(r)),Ru(n,null,a.component?p?p.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),Nr(a,(l,p)=>$h(l,t.getContext(p),i)),i}function $h(n,e,t){const r=tc(n),i=n.value;Nr(r,(a,l)=>{$h(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new uy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Nu(n){return"function"==typeof n}function ma(n){return n instanceof lu||"EmptyError"===n?.name}const zp=Symbol("INITIAL_VALUE");function sc(){return rr(n=>qc(n.map(e=>e.pipe(Co(1),to(zp)))).pipe((0,kt.U)(e=>{for(const t of e)if(!0!==t){if(t===zp)return zp;if(!1===t||t instanceof bs)return t}return!0}),gi(e=>e!==zp),Co(1)))}function yy(n){return(0,Km.z)((0,Ei.b)(e=>{if(ua(e))throw y(0,e)}),(0,kt.U)(e=>!0===e))}const _y={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F0(n,e,t,r,i){const a=vy(n,e,t);return a.matched?function Fu(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?wt(i.map(l=>{const p=gl(l,n);return _r(function py(n){return n&&Nu(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(sc(),yy()):wt(!0)}(r=ft(e,r),e,t).pipe((0,kt.U)(l=>!0===l?a:{..._y})):wt(a)}function vy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{..._y}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Dp)(t,n,e);if(!i)return{..._y};const a={};Nr(i.posParams,(p,_)=>{a[_]=p.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Lu(n,e,t,r){if(t.length>0&&function pC(n,e,t){return t.some(r=>wy(n,e,r)&&zi(r)!==Vt)}(n,t,r)){const a=new pn(e,function L0(n,e,t,r){const i={};i[Vt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&zi(a)!==Vt){const l=new pn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[zi(a)]=l}return i}(n,e,r,new pn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function V0(n,e,t){return t.some(r=>wy(n,e,r))}(n,t,r)){const a=new pn(n.segments,function fC(n,e,t,r,i){const a={};for(const l of r)if(wy(n,t,l)&&!i[zi(l)]){const p=new pn([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[zi(l)]=p}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new pn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function wy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function U0(n,e,t,r){return!!(zi(n)===r||r!==Vt&&wy(e,t,n))&&("**"===n.path||vy(e,n,t).matched)}function Vu(n,e,t){return 0===e.length&&!n.children[t]}const Wp=!1;class ya{constructor(e){this.segmentGroup=e||null}}class Uu{constructor(e){this.urlTree=e}}function Hh(n){return Zc(new ya(n))}function Ey(n){return Zc(new Uu(n))}class B0{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Lu(this.urlTree.root,[],[],this.config).segmentGroup,t=new pn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Vt).pipe((0,kt.U)(a=>this.createUrlTree(To(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Do(a=>{if(a instanceof Uu)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ya?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Vt).pipe((0,kt.U)(i=>this.createUrlTree(To(i),e.queryParams,e.fragment))).pipe(Do(i=>{throw i instanceof ya?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,Wp)}createUrlTree(e,t,r){const i=Iu(e);return new bs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,kt.U)(a=>new pn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,$n.D)(i).pipe(sa(a=>{const l=r.children[a],p=ku(t,a);return this.expandSegmentGroup(e,p,l,a).pipe((0,kt.U)(_=>({segment:_,outlet:a})))}),Jc((a,l)=>(a[l.outlet]=l.segment,a),{}),gu())}expandSegment(e,t,r,i,a,l){return(0,$n.D)(r).pipe(sa(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,l).pipe(Do(E=>{if(E instanceof ya)return wt(null);throw E}))),no(p=>!!p),Do((p,_)=>{if(ma(p))return Vu(t,i,a)?wt(new pn([],{})):Hh(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,l,p){return U0(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):Hh(t):Hh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ey(a):this.lineralizeSegments(r,a).pipe((0,Rr.z)(l=>{const p=new pn(l,{});return this.expandSegment(e,p,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:p,consumedSegments:_,remainingSegments:E,positionalParamSegments:C}=vy(t,i,a);if(!p)return Hh(t);const M=this.applyRedirectCommands(_,i.redirectTo,C);return i.redirectTo.startsWith("/")?Ey(M):this.lineralizeSegments(i,M).pipe((0,Rr.z)(F=>this.expandSegment(e,t,r,F.concat(E),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=ft(r,e),r.loadChildren?(r._loadedRoutes?wt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,kt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new pn(i,{})))):wt(new pn(i,{}))):F0(t,r,i,e).pipe(rr(({matched:l,consumedSegments:p,remainingSegments:_})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Rr.z)(C=>{const M=C.injector??e,F=C.routes,{segmentGroup:B,slicedSegments:K}=Lu(t,p,_,F),te=new pn(B.segments,B.children);if(0===K.length&&te.hasChildren())return this.expandChildren(M,F,te).pipe((0,kt.U)(pt=>new pn(p,pt)));if(0===F.length&&0===K.length)return wt(new pn(p,{}));const ue=zi(r)===a;return this.expandSegment(M,te,F,K,ue?Vt:a,!0).pipe((0,kt.U)(it=>new pn(p.concat(it.segments),it.children)))})):Hh(t)))}getChildConfig(e,t,r){return t.children?wt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?wt({routes:t._loadedRoutes,injector:t._loadedInjector}):function hC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?wt(!0):wt(i.map(l=>{const p=gl(l,n);return _r(function hy(n){return n&&Nu(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(sc(),yy())}(e,t,r).pipe((0,Rr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ei.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function mC(n){return Zc(f(Wp,3))}())):wt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wt(r);if(i.numberOfChildren>1||!i.children[Vt])return e.redirectTo,Zc(new d.vHH(4e3,Wp));i=i.children[Vt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new bs(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Nr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return Nr(t.children,(p,_)=>{l[_]=this.createSegmentGroup(e,p,r,i)}),new pn(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,Wp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class by{}class zh{constructor(e,t,r,i,a,l,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=p}recognize(){const e=Lu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Vt).pipe((0,kt.U)(t=>{if(null===t)return null;const r=new xu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Pi(r,t),a=new js(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Uh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,$n.D)(Object.keys(r.children)).pipe(sa(i=>{const a=r.children[i],l=ku(t,i);return this.processSegmentGroup(e,l,a,i)}),Jc((i,a)=>i&&a?(i.push(...a),i):null),function mu(n,e=!1){return(0,Wr.e)((t,r)=>{let i=0;t.subscribe((0,yr.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),Qc(null),gu(),(0,kt.U)(i=>{if(null===i)return null;const a=$0(i);return function vC(n){n.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,$n.D)(t).pipe(sa(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),no(l=>!!l),Do(l=>{if(ma(l))return Vu(r,i,a)?wt([]):wt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!U0(t,r,i,a))return wt(null);let l;if("**"===t.path){const p=i.length>0?vh(i).parameters:{},_=z0(r)+i.length;l=wt({snapshot:new xu(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mo(t),zi(t),t.component??t._loadedComponent??null,t,H0(r),_,G0(t)),consumedSegments:[],remainingSegments:[]})}else l=F0(r,t,i,e).pipe((0,kt.U)(({matched:p,consumedSegments:_,remainingSegments:E,parameters:C})=>{if(!p)return null;const M=z0(r)+_.length;return{snapshot:new xu(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mo(t),zi(t),t.component??t._loadedComponent??null,t,H0(r),M,G0(t)),consumedSegments:_,remainingSegments:E}}));return l.pipe(rr(p=>{if(null===p)return wt(null);const{snapshot:_,consumedSegments:E,remainingSegments:C}=p;e=t._injector??e;const M=t._loadedInjector??e,F=function wC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:K}=Lu(r,E,C,F.filter(ue=>void 0===ue.redirectTo));if(0===K.length&&B.hasChildren())return this.processChildren(M,F,B).pipe((0,kt.U)(ue=>null===ue?null:[new Pi(_,ue)]));if(0===F.length&&0===K.length)return wt([new Pi(_,[])]);const te=zi(t)===a;return this.processSegment(M,F,B,K,te?Vt:a).pipe((0,kt.U)(ue=>null===ue?null:[new Pi(_,ue)]))}))}}function EC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $0(n){const e=[],t=new Set;for(const r of n){if(!EC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=$0(r.children);e.push(new Pi(r.value,i))}return e.filter(r=>!t.has(r))}function H0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function z0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Mo(n){return n.data||{}}function G0(n){return n.resolve||{}}function Cy(n){return"string"==typeof n.title||null===n.title}function Dy(n){return rr(e=>{const t=n(e);return t?(0,$n.D)(t).pipe((0,kt.U)(()=>e)):wt(e)})}const Bu=new d.OlP("ROUTES");let Sy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return wt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=_r(t.loadComponent()).pipe((0,kt.U)(K0),(0,Ei.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),yu(()=>{this.componentLoaders.delete(t)})),i=new yh(r,()=>new Pr.x).pipe(hu());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return wt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,kt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,E,C=!1;Array.isArray(p)?E=p:(_=p.create(t).injector,E=Sp(_.get(Bu,[],d.XFs.Self|d.XFs.Optional)));return{routes:E.map(pl),injector:_}}),yu(()=>{this.childrenLoaders.delete(r)})),l=new yh(a,()=>new Pr.x).pipe(hu());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return _r(t()).pipe((0,kt.U)(K0),(0,Rr.z)(r=>r instanceof d.YKP||Array.isArray(r)?wt(r):(0,$n.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K0(n){return function oo(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Zp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Pr.x,this.configLoader=(0,d.f3M)(Sy),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(aa),this.rootContexts=(0,d.f3M)(x),this.navigationId=0,this.afterPreactivation=()=>wt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Fp(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new hl(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ki({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ll,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gi(r=>0!==r.id),(0,kt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),rr(r=>{let i=!1,a=!1;return wt(r).pipe((0,Ei.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rr(l=>{const p=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new Ao(l.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),os.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z0(l.source)&&(t.browserUrlTree=l.extractedUrl),wt(l).pipe(rr(C=>{const M=this.transitions?.getValue();return this.events.next(new Oh(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),M!==this.transitions?.getValue()?os.E:Promise.resolve(C)}),function j0(n,e,t,r){return rr(i=>function yC(n,e,t,r,i){return new B0(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,kt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Ei.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function IC(n,e,t,r,i){return(0,Rr.z)(a=>function Iy(n,e,t,r,i,a,l="emptyOnly"){return new zh(n,e,t,r,i,l,a).recognize().pipe(rr(p=>null===p?function _C(n){return new Es.y(e=>e.error(n))}(new by):wt(p)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,kt.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Ei.b)(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const F=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(F,C)}t.browserUrlTree=C.urlAfterRedirects}const M=new Xa(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:M,source:F,restoredState:B,extras:K}=l,te=new Oh(C,this.urlSerializer.serialize(M),F,B);this.events.next(te);const ue=sy(M,this.rootComponentType).snapshot;return wt(r={...l,targetSnapshot:ue,urlAfterRedirects:M,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new Ao(l.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),os.E}}),(0,Ei.b)(l=>{const p=new ey(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}),(0,kt.U)(l=>r={...l,guards:jh(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Gp(n,e){return(0,Rr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?wt({...t,guardsResult:!0}):function uC(n,e,t,r){return(0,$n.D)(n).pipe((0,Rr.z)(i=>function dC(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?wt(a.map(p=>{const _=ic(e)??i,E=gl(p,_);return _r(function cC(n){return n&&Nu(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):_.runInContext(()=>E(n,e,t,r))).pipe(no())})).pipe(sc()):wt(!0)}(i.component,i.route,t,e,r)),no(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Rr.z)(p=>p&&function P0(n){return"boolean"==typeof n}(p)?function gy(n,e,t,r){return(0,$n.D)(e).pipe(sa(i=>qa(function ml(n,e){return null!==n&&e&&e(new Lp(n)),wt(!0)}(i.route.parent,r),function qp(n,e){return null!==n&&e&&e(new Ph(n)),wt(!0)}(i.route,r),function my(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function dy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Wm(()=>wt(l.guards.map(_=>{const E=ic(l.node)??t,C=gl(_,E);return _r(function fy(n){return n&&Nu(n.canActivateChild)}(C)?C.canActivateChild(r,n):E.runInContext(()=>C(r,n))).pipe(no())})).pipe(sc())));return wt(a).pipe(sc())}(n,i.path,t),function N0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wt(!0);const i=r.map(a=>Wm(()=>{const l=ic(e)??t,p=gl(a,l);return _r(function zO(n){return n&&Nu(n.canActivate)}(p)?p.canActivate(e,n):l.runInContext(()=>p(e,n))).pipe(no())}));return wt(i).pipe(sc())}(n,i.route,t))),no(i=>!0!==i,!0))}(r,a,n,e):wt(p)),(0,kt.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Ei.b)(l=>{if(r.guardsResult=l.guardsResult,ua(l.guardsResult))throw y(0,l.guardsResult);const p=new ty(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(p)}),gi(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Dy(l=>{if(l.guards.canActivateChecks.length)return wt(l).pipe((0,Ei.b)(p=>{const _=new ny(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}),rr(p=>{let _=!1;return wt(p).pipe(function GO(n,e){return(0,Rr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return wt(t);let a=0;return(0,$n.D)(i).pipe(sa(l=>function qO(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Cy(i)&&(a[Xc]=i.title),function q0(n,e,t,r){const i=function WO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return wt({});const a={};return(0,$n.D)(i).pipe((0,Rr.z)(l=>function W0(n,e,t,r){const i=ic(e)??r,a=gl(n,i);return _r(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(no(),(0,Ei.b)(p=>{a[l]=p}))),pu(1),function Cp(n){return(0,kt.U)(()=>n)}(a),Do(l=>ma(l)?os.E:Zc(l)))}(a,n,e,r).pipe((0,kt.U)(l=>(n._resolvedData=l,n.data=Uh(n,t).resolve,i&&Cy(i)&&(n.data[Xc]=i.title),null)))}(l.route,r,n,e)),(0,Ei.b)(()=>a++),pu(1),(0,Rr.z)(l=>a===i.length?wt(t):os.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Ei.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Ei.b)(p=>{const _=new kh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}))}),Dy(l=>{const p=_=>{const E=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Ei.b)(C=>{_.component=C}),(0,kt.U)(()=>{})));for(const C of _.children)E.push(...p(C));return E};return qc(p(l.targetSnapshot.root)).pipe(Qc(),Co(1))}),Dy(()=>this.afterPreactivation()),(0,kt.U)(l=>{const p=function ga(n,e,t){const r=rc(n,e._root,t?t._root:void 0);return new iy(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:p}}),(0,Ei.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,kt.U)(r=>(new Pu(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Co(1),(0,Ei.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new as(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),yu(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Do(l=>{if(a=!0,w(l)){g(l)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new ul(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(p),g(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Z0(r.source)};t.scheduleNavigation(_,ll,null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new dl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(l))}catch(_){r.reject(_)}}return os.E}))}))}cancelNavigationTransition(t,r,i){const a=new ul(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z0(n){return n!==ll}let Y0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Vt);return r}getResolvedTitleForRoute(t){return t.data[Xc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(CC)},providedIn:"root"}),n})(),CC=(()=>{class n extends Y0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(TC)},providedIn:"root"}),n})();class DC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let TC=(()=>{class n extends DC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yt=new d.OlP("",{providedIn:"root",factory:()=>({})});let J0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(X0)},providedIn:"root"}),n})(),X0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AC(n){throw n}function MC(n,e,t){return e.parse("/")}const ew={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Yt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||AC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||MC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(J0),this.routeReuseStrategy=(0,d.f3M)(Q0),this.urlCreationStrategy=(0,d.f3M)(ry),this.titleStrategy=(0,d.f3M)(Y0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Sp((0,d.f3M)(Bu,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(Zp),this.urlSerializer=(0,d.f3M)(aa),this.location=(0,d.f3M)(Ke),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sy(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ll,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(pl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:p,preserveFragment:_}=r,E=_?this.currentUrlTree.fragment:l;let C=null;switch(p){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,C,E??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ua(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,ll,null,r)}navigate(t,r={skipLocationChange:!1}){return function OC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...ew}:!1===r?{...xC}:r,ua(t))return si(this.currentUrlTree,t,i);const a=this.parseUrl(t);return si(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let p,_,E,C;return l?(p=l.resolve,_=l.reject,E=l.promise):E=new Promise((M,F)=>{p=M,_=F}),C="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:p,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_a=(()=>{class n{constructor(t,r,i,a,l,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Pr.x;const _=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof as&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fr),d.Y36(Sr),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(vt))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class Ay{}let My=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(gi(t=>t instanceof as),sa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,p=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,$n.D)(i).pipe((0,Wc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):wt(null);const a=i.pipe((0,Rr.z)(l=>null===l?wt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,$n.D)([a,l]).pipe((0,Wc.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Ay),d.LFG(Sy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wh=new d.OlP("");let nw=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Oh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof as&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fa&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fa(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var Hs=(()=>((Hs=Hs||{})[Hs.COMPLETE=0]="COMPLETE",Hs[Hs.FAILED=1]="FAILED",Hs[Hs.REDIRECTING=2]="REDIRECTING",Hs))();const Kh=!1;function yl(n,e){return{\u0275kind:n,\u0275providers:e}}const Oy=new d.OlP("",{providedIn:"root",factory:()=>!1});function Zh(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Fr),i=n.get(rw);1===n.get(Qp)&&r.initialNavigation(),n.get(iw,null,d.XFs.Optional)?.setUpPreloading(),n.get(Wh,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const rw=new d.OlP(Kh?"bootstrap done indicator":"",{factory:()=>new Pr.x}),Qp=new d.OlP(Kh?"initial navigation":"",{providedIn:"root",factory:()=>1});function NC(){let n=[];return n=Kh?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Fr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Rh(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],yl(1,n)}const iw=new d.OlP(Kh?"router preloader":"");function FC(n){return yl(0,[{provide:iw,useExisting:My},{provide:Ay,useExisting:n}])}const Hu=!1,UC=new d.OlP(Hu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ky=[Ke,{provide:aa,useClass:el},Fr,x,{provide:Sr,useFactory:function xy(n){return n.routerState.root},deps:[Fr]},Sy,Hu?{provide:Oy,useValue:!0}:[]];function BC(){return new d.PXZ("Router",Fr)}let jC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ky,Hu&&r?.enableTracing?NC().\u0275providers:[],{provide:Bu,multi:!0,useValue:t},{provide:UC,useFactory:aw,deps:[[Fr,new d.FiY,new d.tp0]]},{provide:Yt,useValue:r||{}},r?.useHash?{provide:vt,useClass:je}:{provide:vt,useClass:Ue},{provide:Wh,useFactory:()=>{const n=(0,d.f3M)(xc),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Yt),r=(0,d.f3M)(Zp),i=(0,d.f3M)(aa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new nw(i,r,n,e,t)}},r?.preloadingStrategy?FC(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:BC},r?.initialNavigation?HC(r):[],[{provide:cw,useFactory:Zh},{provide:d.tb,multi:!0,useExisting:cw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Bu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(UC,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[dt]}),n})();function aw(n){if(Hu&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function HC(n){return["disabled"===n.initialNavigation?yl(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Fr);return()=>{e.setUpLocationChangeListener()}}},{provide:Qp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?yl(2,[{provide:Qp,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(ge,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Fr),a=e.get(rw);(function YO(n,e){n.events.pipe(gi(t=>t instanceof as||t instanceof ul||t instanceof dl||t instanceof Ao),(0,kt.U)(t=>t instanceof as||t instanceof Ao?Hs.COMPLETE:t instanceof ul&&(0===t.code||1===t.code)?Hs.REDIRECTING:Hs.FAILED),gi(t=>t!==Hs.REDIRECTING),Co(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Zp).afterPreactivation=()=>(r(!0),a.closed?wt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const cw=new d.OlP(Hu?"Router Initializer":"");let Qh=(()=>{class n{constructor(){this.store=sessionStorage}set(t,r){try{return this.store.setItem(t,JSON.stringify(r)),!0}catch(i){return console.log(i),!1}}get(t){try{return{status:!0,data:JSON.parse(this.store.getItem(t)??"")}}catch{return{status:!1,data:null}}}del(t){try{return this.store.removeItem(t),{status:!0,data:null}}catch{return{status:!0,data:null}}}clear(){try{return this.store.clear(),{status:!0,data:null}}catch{return{status:!0,data:null}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oc=(()=>{class n{constructor(){this.store=localStorage}set(t,r){try{return this.store.setItem(t,JSON.stringify(r)),!0}catch(i){return console.log(i),!1}}get(t){try{return{status:!0,data:JSON.parse(this.store.getItem(t)??"")}}catch{return{status:!1,data:null}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gu=(()=>{class n{constructor(t,r){this.sessionstore=t,this.database=r}crtsession(t){const r=this.database.get("Users");if(null!=r.data){for(const i of r.data)if(t.email===i.email&&t.password===i.password)return t.name=i.name,t.id=i.id,void this.sessionstore.set("loggedUser",t)}else alert("An error occured")}getsession(){let t=this.sessionstore.get("loggedUser");return console.log(t),t.status?{id:t.data.id,nameinit:t.data.name}:null}dltsession(t){this.sessionstore.clear(),!0===this.sessionstore.clear().status&&window.location.replace("/sign-in")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Qh),d.LFG(oc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qu{constructor(){this.disabled=!0,this.loginStatus=!0,this.session=!0}}let Wu=(()=>{class n{constructor(t,r,i){this.databaseService=t,this.myRoute=r,this.session=i,this.bool=new qu}signIn(t){const r=this.databaseService.get("Users");if(null!=r.data){for(const a of r.data)if(t.email===a.email&&t.password===a.password)return alert(`${a.name} logged in with success`),this.bool.loginStatus=!0,console.log(`login status: ${this.bool.loginStatus}`),void this.myRoute.navigate(["/main"]);alert("password or email do not match"),this.bool.loginStatus=!1,console.log("Login status :",this.bool.loginStatus)}else alert("Account Does not exist")}signUp(t){const r=this.databaseService.get("Users");let i=[];console.log(typeof i),!0===r.status&&(console.log(typeof r.data),i=r.data,console.log(typeof i),console.log(i));for(const p of i){if(t.name===p.name)return void alert("User exist");if(t.email===p.email)return void alert("User exist")}let a=i.length,l=i[a-1];0===a?t.id+=1:a>=1&&(t.id=l.id+1),i.push(t),this.databaseService.set("Users",i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oc),d.LFG(Fr),d.LFG(Qh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Py=(()=>{class n{constructor(t,r){this.userservice=t,this.session=r,this.loggedUser="",this.user={id:0,name:"",email:"",password:"",userTasks:{taskName:"",description:"",startDate:"",dueDate:"",status:"",difficulty:"",level:"",userId:"",id:0}},this.userState=this.userservice.bool.loginStatus,this.buttonType="button",this.sectionClass="header-section"}logoutfnx(){this.session.dltsession(this.user)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wu),d.Y36(Gu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mathieu"]],inputs:{loggedUser:"loggedUser"},decls:22,vars:2,consts:[[1,"logo-division"],[1,"logo-design"],[1,"nav-pannel"],[1,"nav-list"],["routerLink",""],["routerLink","/tasks"],["type","button",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"section")(1,"nav")(2,"div",0)(3,"p",1)(4,"span"),d._uU(5,"HN"),d.qZA()()(),d.TgZ(6,"div",2)(7,"ul",3)(8,"li")(9,"a",4),d._uU(10,"Home"),d.qZA()(),d.TgZ(11,"li")(12,"a",5),d._uU(13,"Tasks"),d.qZA()(),d.TgZ(14,"li"),d._uU(15,"About"),d.qZA(),d.TgZ(16,"li"),d._uU(17,"Help"),d.qZA(),d.TgZ(18,"li"),d._uU(19),d.qZA(),d.TgZ(20,"button",6),d.NdJ("click",function(){return r.logoutfnx()}),d._uU(21," Logout "),d.qZA()()()()()),2&t&&(d.uIk("class",r.sectionClass),d.xp6(19),d.hij("User: ",r.loggedUser,""))},dependencies:[_a],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}*[_ngcontent-%COMP%]{margin:auto;padding:0;font-family:Poppins,sans-serif}p[_ngcontent-%COMP%]{color:#000;font-size:30px}section.header-section[_ngcontent-%COMP%]{width:90%;margin-left:5%;background-color:#000}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-right:10%}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.logo-division[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#fff;width:60px;height:60px;border-radius:50%}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.logo-division[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;padding:190px 0 0 7px}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.nav-pannel[_ngcontent-%COMP%]{width:80%}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.nav-pannel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:22px;display:inline;margin-left:25px;cursor:pointer}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.nav-pannel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}section.header-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:none;outline:none;padding:10px;margin-left:3%}']}),n})(),Ry=(()=>{class n{constructor(t){this.session=t,this.loginUser=null,this.name="",this.user={id:0,name:"",email:"",password:"",userTasks:{taskName:"",description:"",startDate:"",dueDate:"",status:"",difficulty:"",level:"",userId:"",id:0}}}ngOnInit(){this.loginUser=this.session.getsession(),this.loginUser&&(this.name=this.loginUser.nameinit)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Gu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-main"]],decls:6,vars:2,consts:[[3,"loggedUser"],[1,"main-section"]],template:function(t,r){1&t&&(d._UZ(0,"mathieu",0),d.TgZ(1,"section",1)(2,"h1"),d._uU(3),d.qZA(),d.TgZ(4,"p"),d._uU(5,"welcome to Tasky Your task Mangement application"),d.qZA()()),2&t&&(d.Q6J("loggedUser",r.name),d.xp6(3),d.hij("Hi ",r.name,""))},dependencies:[Py],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}section.main-section[_ngcontent-%COMP%]{height:100vh;width:80%;margin-left:10%;background-color:#000}section.main-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:15%;margin-left:35%;font-family:Poppins,sans-serif;font-size:40px;font-weight:500px;color:#fff}section.main-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px;font-weight:400px;color:#fff;margin-left:25%;padding-top:20px}']}),n})(),Fy=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),va=(()=>{class n extends Fy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const ao=new d.OlP("NgValueAccessor"),GC={provide:ao,useExisting:(0,d.Gpc)(()=>_l),multi:!0},uw=new d.OlP("CompositionEventMode");let _l=(()=>{class n extends Fy{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lw(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(uw,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([GC]),d.qOj]}),n})();const qC=!1;const Ii=new d.OlP("NgValidators"),vl=new d.OlP("NgAsyncValidators");function pw(n){return function Kr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function eg(n){return null}function _w(n){return null!=n}function vw(n){const e=(0,d.QGY)(n)?(0,$n.D)(n):n;if(qC&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function ww(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function co(n,e){return e.map(t=>t(n))}function Ew(n){return n.map(e=>function By(n){return!n.validate}(e)?e:t=>e.validate(t))}function tg(n){return null!=n?function bw(n){if(!n)return null;const e=n.filter(_w);return 0==e.length?null:function(t){return ww(co(t,e))}}(Ew(n)):null}function jy(n){return null!=n?function Iw(n){if(!n)return null;const e=n.filter(_w);return 0==e.length?null:function(t){return function Ny(...n){const e=(0,Hi.jO)(n),{args:t,keys:r}=za(n),i=new Es.y(a=>{const{length:l}=t;if(!l)return void a.complete();const p=new Array(l);let _=l,E=l;for(let C=0;C<l;C++){let M=!1;(0,ia.Xf)(t[C]).subscribe((0,yr.x)(a,F=>{M||(M=!0,E--),p[C]=F},()=>_--,void 0,()=>{(!_||!M)&&(E||a.next(r?eo(r,p):p),a.complete())}))}});return e?i.pipe(Ga(e)):i}(co(t,e).map(vw)).pipe((0,kt.U)(ww))}}(Ew(n)):null}function Cw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $y(n){return n?Array.isArray(n)?n:[n]:[]}function wl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Jh(n,e){const t=$y(e);return $y(n).forEach(i=>{wl(t,i)||t.push(i)}),t}function Xh(n,e){return $y(e).filter(t=>!wl(n,t))}class KC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ci extends KC{get formDirective(){return null}get path(){return null}}class El extends KC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hy{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ku=(()=>{class n extends Hy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(El,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),bl=(()=>{class n extends Hy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ci,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();function Tw(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const zy=!1,ef="VALID",tf="INVALID",ac="PENDING",nf="DISABLED";function rf(n){return(sg(n)?n.validators:n)||null}function Gy(n,e){return(sg(e)?e.asyncValidators:n)||null}function sg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Mw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ef}get invalid(){return this.status===tf}get pending(){return this.status==ac}get disabled(){return this.status===nf}get enabled(){return this.status!==nf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xh(e,this._rawAsyncValidators))}hasValidator(e){return wl(this._rawValidators,e)}hasAsyncValidator(e){return wl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ac,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ef,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ef||this.status===ac)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nf:ef}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ac,this._hasOwnPendingAsyncValidator=!0;const t=vw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?nf:this.errors?tf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ac)?ac:this._anyControlsHaveStatus(tf)?tf:ef}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function iD(n){return Array.isArray(n)?tg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function sD(n){return Array.isArray(n)?jy(n):n||null}(this._rawAsyncValidators)}}class og extends Mw{constructor(e,t,r){super(rf(t),Gy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Aw(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,zy?function rD(n,e){return`Must supply a value for form control ${Tw(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function Sw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,zy?function tD(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new d.vHH(1001,zy?function nD(n,e){return`Cannot find form control ${Tw(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const sf=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Dl}),Dl="always";function af(n,e,t=Dl){Tl(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Sl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ds(n,e)})}(n,e),function qy(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lg(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ds(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xo(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Tl(n,e){const t=function ng(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Cw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Dw(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Cw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();cg(e._rawValidators,i),cg(e._rawAsyncValidators,i)}function Ds(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Ow={provide:Ci,useExisting:(0,d.Gpc)(()=>uc)},Xu=(()=>Promise.resolve())();let uc=(()=>{class n extends Ci{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new og({},tg(t),jy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xu.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),af(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xu.then(()=>{const r=this._findContainer(t.path),i=new og({});(function Al(n,e){Tl(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Wy(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ii,10),d.Y36(vl,10),d.Y36(sf,8))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Ow]),d.qOj]}),n})();function Ky(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Zy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kw=class extends Mw{constructor(e=null,t,r){super(rf(t),Gy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Zy(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ky(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ky(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Zy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Yy={provide:El,useExisting:(0,d.Gpc)(()=>dc)},Lw=(()=>Promise.resolve())();let dc=(()=>{class n extends El{constructor(t,r,i,a,l,p){super(),this._changeDetectorRef=l,this.callSetDisabledState=p,this.control=new kw,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ug(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===_l?t=a:function Ju(n){return Object.getPrototypeOf(n.constructor)===va}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function lc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){af(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Lw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);Lw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ag(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ci,9),d.Y36(Ii,10),d.Y36(vl,10),d.Y36(ao,10),d.Y36(d.sBO,8),d.Y36(sf,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Yy]),d.qOj,d.TTD]}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Xy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const $w={provide:ao,useExisting:(0,d.Gpc)(()=>ed),multi:!0};function c_(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ed=(()=>{class n extends va{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=c_(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Hw(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([$w]),d.qOj]}),n})(),td=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(c_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(ed,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const hc={provide:ao,useExisting:(0,d.Gpc)(()=>wa),multi:!0};function zw(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let wa=(()=>{class n extends va{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const l=a;for(let p=0;p<l.length;p++){const E=this._getOptionValue(l[p].value);i.push(E)}}else{const l=r.options;for(let p=0;p<l.length;p++){const _=l[p];if(_.selected){const E=this._getOptionValue(_.value);i.push(E)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function fD(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([hc]),d.qOj]}),n})(),hf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(zw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(zw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(wa,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),nd=(()=>{class n{constructor(){this._validator=eg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):eg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const gD={provide:Ii,useExisting:(0,d.Gpc)(()=>rd),multi:!0};let rd=(()=>{class n extends nd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=t=>pw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([gD]),d.qOj]}),n})(),lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Xy]}),n})(),Jw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sf,useValue:t.callSetDisabledState??Dl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[lk]}),n})(),bD=(()=>{class n{constructor(t,r,i){this.store=t,this.session=r,this.myRoute=i,this.loginStatus=new qu,this.user={id:0,name:"",email:"",password:"",userTasks:{taskName:"",description:"",startDate:"",dueDate:"",status:"",difficulty:"",level:"",userId:"",id:0}}}ngOnChanges(){}submitForm(){""!=this.user.email||""!=this.user.password?""!=this.user.email?""!=this.user.password?(this.store.signIn(this.user),this.session.crtsession(this.user),this.loginStatus.loginStatus=!0):alert("fill in password field"):alert("fill in email field"):alert("fill in form fields")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wu),d.Y36(Gu),d.Y36(Fr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-sign-in"]],features:[d.TTD],decls:17,vars:2,consts:[[1,"hero"],["action",""],[1,"heading"],[1,"el-h"],["type","text","name","email","placeholder","User email","required","re\n            ",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","password","required","re\n            ",3,"ngModel","ngModelChange"],["type","button"],["routerLink","/sign-up"],["type","submit",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"form",1)(2,"h1",2),d._uU(3,"Login"),d.qZA(),d.TgZ(4,"div",3)(5,"input",4),d.NdJ("ngModelChange",function(a){return r.user.email=a}),d.qZA()(),d.TgZ(6,"div",3)(7,"input",5),d.NdJ("ngModelChange",function(a){return r.user.password=a}),d.qZA()(),d.TgZ(8,"div",3)(9,"p"),d._uU(10," Haven't account? "),d.TgZ(11,"button",6)(12,"a",7),d._uU(13,"Register"),d.qZA()()()(),d.TgZ(14,"div",3)(15,"button",8),d.NdJ("click",function(){return r.submitForm()}),d._uU(16,"Login"),d.qZA()()()()),2&t&&(d.xp6(5),d.Q6J("ngModel",r.user.email),d.xp6(2),d.Q6J("ngModel",r.user.password))},dependencies:[_a,Ml,_l,Ku,bl,rd,dc,uc],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}section.hero[_ngcontent-%COMP%]{background-color:teal;height:100vh;width:90%;margin-left:5%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:35%;margin-left:35%;padding-top:10%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:25%;font-family:Poppins,sans-serif;font-size:25px;font-weight:300px;color:#fff;padding-bottom:10%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:98%;margin-top:30px}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:6px;border:1px solid red;outline:none;padding:8px;font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;background-color:#000d}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{padding:5px;margin-left:40%;background-color:#000;outline:none;border-radius:6px}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[type=button] a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;text-decoration:none}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:5px;margin-left:40%;background-color:#000;outline:none;border-radius:6px;font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff}']}),n})(),ID=(()=>{class n{constructor(t,r){this.store=t,this.myRoute=r,this.user={id:0,name:"",email:"",password:"",userTasks:{taskName:"",description:"",startDate:"",dueDate:"",status:"",difficulty:"",level:"",userId:"",id:0}}}Register(){""!=this.user.name?""!=this.user.email?0!=this.user.email.includes("@")?""!=this.user.password?(this.store.signUp(this.user),this.myRoute.navigate(["/sign-in"])):alert("password required"):alert("valid email required"):alert("User email required"):alert("User name required")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wu),d.Y36(Fr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-sign-up"]],decls:18,vars:3,consts:[[1,"hero"],["action",""],[1,"heading"],[1,"el-h"],["type","text","name","name","placeholder","User name","required","required",3,"ngModel","ngModelChange"],["type","text","name","email","placeholder","User email","required","",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","password","required","required",3,"ngModel","ngModelChange"],[1,"reg-sign-in"],["type","submit",3,"click"],["type","button"],["routerLink","/sign-in"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"form",1)(2,"h1",2),d._uU(3,"Register"),d.qZA(),d.TgZ(4,"div",3)(5,"input",4),d.NdJ("ngModelChange",function(a){return r.user.name=a}),d.qZA()(),d.TgZ(6,"div",3)(7,"input",5),d.NdJ("ngModelChange",function(a){return r.user.email=a}),d.qZA()(),d.TgZ(8,"div",3)(9,"input",6),d.NdJ("ngModelChange",function(a){return r.user.password=a}),d.qZA()(),d.TgZ(10,"div",7)(11,"div",3)(12,"button",8),d.NdJ("click",function(){return r.Register()}),d._uU(13,"Register"),d.qZA()(),d.TgZ(14,"div",3)(15,"button",9)(16,"a",10),d._uU(17,"Sign In"),d.qZA()()()()()()),2&t&&(d.xp6(5),d.Q6J("ngModel",r.user.name),d.xp6(2),d.Q6J("ngModel",r.user.email),d.xp6(2),d.Q6J("ngModel",r.user.password))},dependencies:[_a,Ml,_l,Ku,bl,rd,dc,uc],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}section.hero[_ngcontent-%COMP%]{background-color:teal;height:100vh;width:90%;margin-left:5%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:35%;margin-left:35%;padding-top:10%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:25%;font-family:Poppins,sans-serif;font-size:25px;font-weight:300px;color:#fff;padding-bottom:10%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:98%;margin-top:30px}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:6px;border:1px solid red;outline:none;padding:8px;font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;background-color:#000d}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{padding:5px;margin-left:40%;background-color:#000;outline:none;border-radius:6px}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[type=button] a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;text-decoration:none}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:5px;margin-left:40%;background-color:#000;outline:none;border-radius:6px;font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff}div.reg-sign-in[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}div.reg-sign-in[_ngcontent-%COMP%]   .el-h[_ngcontent-%COMP%]{margin-left:60px}div.reg-sign-in[_ngcontent-%COMP%]   .el-h[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none;border:none;background-color:#000;padding:4px;border-radius:5px}div.reg-sign-in[_ngcontent-%COMP%]   .el-h[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;text-decoration:none}']}),n})(),CD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-tasks-list"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"tasks-list works!"),d.qZA())}}),n})(),DD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-task-main"]],decls:14,vars:0,consts:[[1,"container"],[1,"router-outlet-display"],[1,"task-buttons"],[1,"add-task"],["type","button"],["routerLink","/add-task"],["routerLink","/user/tasks"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"h1"),d._uU(2," Welcome User "),d.qZA(),d.TgZ(3,"div",1),d._UZ(4,"router-outlet"),d.qZA(),d.TgZ(5,"div",2)(6,"div",3)(7,"button",4)(8,"a",5),d._uU(9,"Add Task"),d.qZA()()(),d.TgZ(10,"div",3)(11,"button",4)(12,"a",6),d._uU(13,"view Tasks"),d.qZA()()()()())},dependencies:[ee,_a],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}section.container[_ngcontent-%COMP%]{width:80%;margin-left:10%;background-color:teal}section.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px;font-weight:400px;color:#fff}section.container[_ngcontent-%COMP%]   div.task-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}section.container[_ngcontent-%COMP%]   div.task-buttons[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{outline:none;border:none;padding:5px;background-color:#000}section.container[_ngcontent-%COMP%]   div.task-buttons[_ngcontent-%COMP%]   button[type=button] a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px;font-weight:400px;color:#fff;text-decoration:none}']}),n})(),id=(()=>{class n{constructor(t,r,i,a,l){this.localStore=t,this.userStore=r,this.userService=i,this.sessionstore=a,this.route=l,this.task={taskName:"",description:"",dueDate:"",startDate:"",level:"",difficulty:"",status:"",userId:"",id:0}}addTask(t){const r=this.localStore.get("Tasks");let i=[];return!0===r.status&&(i=r.data),t.userId=this.userStore.getsession()?.id,t.id=Date.now(),i.push(t),this.localStore.set("Tasks",i),!0}getTasks(t){const r=this.localStore.get("Tasks").data;t=this.userStore.getsession()?.id;let i=[];for(const a of r){if(null==t)return alert("Login before creating a task"),void this.route.navigate([""]);t===a.userId&&i.push(a)}return console.log(i),i}delTask(t,r){let a,l,i=this.getTasks(t);a=i.findIndex(p=>p.id),l=i[a]}editTask(t){const r=this.localStore.get("Tasks").data;let i={status:!1,data:null};for(const a of r)if(t==a.id){console.log(a),i={status:!0,data:a};break}}viewTaskDetails(t){const r=this.localStore.get("Tasks").data;console.log(r);let i={status:!1,data:null};for(const a of r)if(t==a.id){console.log(a),i={status:!0,data:a};break}return i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oc),d.LFG(Gu),d.LFG(Wu),d.LFG(Qh),d.LFG(Fr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ff(n,e){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.Oqu(t)}}function TD(n,e){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.Oqu(t)}}function Xw(n,e){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.Oqu(t)}}let SD=(()=>{class n{constructor(t,r){this.addTask=t,this.myrouter=r,this.task={taskName:"",description:"",dueDate:"",startDate:"",level:"",difficulty:"",status:"",userId:"",id:0},this.taskLevel=["COMPLETED","PROGRESS","NOT_STARTED"],this.taskDifficulty=["HIGH","MEDIUM","STANDARD"],this.taskStatus=["SUCCESS","FAILED","PROGRESS","PAUSED"]}saveTask(){this.addTask.addTask(this.task),this.myrouter.navigate([`/view-task/${this.task.userId}`])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(id),d.Y36(Fr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-add-task"]],decls:33,vars:10,consts:[[1,"add-task-section"],["action","#","method","post"],[1,"input-holder"],["type","text","name","taskName","placeholder","Task name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description","placeholder","Task description","rows","5","cols","50",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","dueDate","placeholder","Task due date",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","startDate","placeholder","Task start date",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-selects"],["name","level","id","level",3,"ngModel","ngModelChange"],["value","","disabled","disabled"],[3,"value",4,"ngFor","ngForOf"],["name","difficulty","id","difficulty",3,"ngModel","ngModelChange"],["name","status","id","status",3,"ngModel","ngModelChange"],["task.status",""],[1,"button"],[3,"click"],[3,"value"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"form",1)(2,"h1"),d._uU(3,"Fill in the fields to create a task"),d.qZA(),d.TgZ(4,"div",2)(5,"input",3),d.NdJ("ngModelChange",function(a){return r.task.taskName=a}),d.qZA()(),d.TgZ(6,"div",2)(7,"textarea",4),d.NdJ("ngModelChange",function(a){return r.task.description=a}),d._uU(8,"        "),d.qZA()(),d.TgZ(9,"div",2)(10,"input",5),d.NdJ("ngModelChange",function(a){return r.task.dueDate=a}),d.qZA()(),d.TgZ(11,"div",2)(12,"input",6),d.NdJ("ngModelChange",function(a){return r.task.startDate=a}),d.qZA()(),d.TgZ(13,"div",7)(14,"div",2)(15,"select",8),d.NdJ("ngModelChange",function(a){return r.task.level=a}),d.TgZ(16,"option",9),d._uU(17,"Select Task Level"),d.qZA(),d.YNc(18,ff,2,2,"option",10),d.qZA()(),d.TgZ(19,"div",2)(20,"select",11),d.NdJ("ngModelChange",function(a){return r.task.difficulty=a}),d.TgZ(21,"option",9),d._uU(22,"Select Task Difficulty"),d.qZA(),d.YNc(23,TD,2,2,"option",10),d.qZA()(),d.TgZ(24,"div",2)(25,"select",12,13),d.NdJ("ngModelChange",function(a){return r.task.status=a}),d.TgZ(27,"option",9),d._uU(28,"Select Task Status"),d.qZA(),d.YNc(29,Xw,2,2,"option",10),d.qZA()()(),d.TgZ(30,"div",14)(31,"button",15),d.NdJ("click",function(){return r.saveTask()}),d._uU(32,"Save task"),d.qZA()()()()),2&t&&(d.xp6(5),d.Q6J("ngModel",r.task.taskName),d.xp6(2),d.Q6J("ngModel",r.task.description),d.xp6(3),d.Q6J("ngModel",r.task.dueDate),d.xp6(2),d.Q6J("ngModel",r.task.startDate),d.xp6(3),d.Q6J("ngModel",r.task.level),d.xp6(3),d.Q6J("ngForOf",r.taskLevel),d.xp6(2),d.Q6J("ngModel",r.task.difficulty),d.xp6(3),d.Q6J("ngForOf",r.taskDifficulty),d.xp6(2),d.Q6J("ngModel",r.task.status),d.xp6(4),d.Q6J("ngForOf",r.taskStatus))},dependencies:[pi,Ml,td,hf,_l,ed,Ku,bl,dc,uc],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}section.add-task-section[_ngcontent-%COMP%]{background:teal;width:90%;margin-left:5%;height:100vh}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:70%;margin-left:15%;padding-top:60px}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-family:Poppins,sans-serif;font-size:38px;font-weight:400px;color:#fff}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]{padding-top:20px;display:block;width:80%;margin-left:10%;background-color:teal}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:1px solid rgba(255,0,0,0);border-radius:3px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#000;background-color:#fff;padding:6px;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{margin-left:50%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;outline:none;border:none;border-radius:3px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#000;background-color:#fff;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]{margin-top:30px;margin-left:45%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:teal;outline:none;border:1px solid white;border-radius:5px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#fff;padding:10px}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]{margin:30px 0 0;display:block}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:block;outline:none}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000;margin-top:10px}']}),n})();function AD(n,e){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.Oqu(t)}}function eE(n,e){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.Oqu(t)}}function tE(n,e){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.Oqu(t)}}let pf=(()=>{class n{constructor(t,r){this.taskService=t,this.activeRoute=r,this.task={taskName:"",description:"",dueDate:"",startDate:"",level:"",difficulty:"",status:"",userId:"",id:0},this.taskLevel=["COMPLETED","PROGRESS","NOT_STARTED"],this.taskDifficulty=["HIGH","MEDIUM","STANDARD"],this.taskStatus=["SUCCESS","FAILED","PROGRESS","PAUSED"]}ngOnInit(){this.activeRoute.params.subscribe(t=>{})}editTask(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(id),d.Y36(Sr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-edit-task"]],decls:33,vars:10,consts:[[1,"add-task-section"],["action","#","method","post"],[1,"input-holder"],["type","text","name","taskName","placeholder","Task name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description","placeholder","Task description","rows","5","cols","50",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","dueDate","placeholder","Task due date",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","startDate","placeholder","Task start date",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-selects"],["name","level","id","level",3,"ngModel","ngModelChange"],["value","","disabled","disabled"],[3,"value",4,"ngFor","ngForOf"],["name","difficulty","id","difficulty",3,"ngModel","ngModelChange"],["name","status","id","status",3,"ngModel","ngModelChange"],["task.status",""],[1,"button"],[3,"click"],[3,"value"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"form",1)(2,"h1"),d._uU(3,"Edit task"),d.qZA(),d.TgZ(4,"div",2)(5,"input",3),d.NdJ("ngModelChange",function(a){return r.task.taskName=a}),d.qZA()(),d.TgZ(6,"div",2)(7,"textarea",4),d.NdJ("ngModelChange",function(a){return r.task.description=a}),d._uU(8,"        "),d.qZA()(),d.TgZ(9,"div",2)(10,"input",5),d.NdJ("ngModelChange",function(a){return r.task.dueDate=a}),d.qZA()(),d.TgZ(11,"div",2)(12,"input",6),d.NdJ("ngModelChange",function(a){return r.task.startDate=a}),d.qZA()(),d.TgZ(13,"div",7)(14,"div",2)(15,"select",8),d.NdJ("ngModelChange",function(a){return r.task.level=a}),d.TgZ(16,"option",9),d._uU(17,"Select Task Level"),d.qZA(),d.YNc(18,AD,2,2,"option",10),d.qZA()(),d.TgZ(19,"div",2)(20,"select",11),d.NdJ("ngModelChange",function(a){return r.task.difficulty=a}),d.TgZ(21,"option",9),d._uU(22,"Select Task Difficulty"),d.qZA(),d.YNc(23,eE,2,2,"option",10),d.qZA()(),d.TgZ(24,"div",2)(25,"select",12,13),d.NdJ("ngModelChange",function(a){return r.task.status=a}),d.TgZ(27,"option",9),d._uU(28,"Select Task Status"),d.qZA(),d.YNc(29,tE,2,2,"option",10),d.qZA()()(),d.TgZ(30,"div",14)(31,"button",15),d.NdJ("click",function(){return r.editTask()}),d._uU(32,"Edit task"),d.qZA()()()()),2&t&&(d.xp6(5),d.Q6J("ngModel",r.task.taskName),d.xp6(2),d.Q6J("ngModel",r.task.description),d.xp6(3),d.Q6J("ngModel",r.task.dueDate),d.xp6(2),d.Q6J("ngModel",r.task.startDate),d.xp6(3),d.Q6J("ngModel",r.task.level),d.xp6(3),d.Q6J("ngForOf",r.taskLevel),d.xp6(2),d.Q6J("ngModel",r.task.difficulty),d.xp6(3),d.Q6J("ngForOf",r.taskDifficulty),d.xp6(2),d.Q6J("ngModel",r.task.status),d.xp6(4),d.Q6J("ngForOf",r.taskStatus))},dependencies:[pi,Ml,td,hf,_l,ed,Ku,bl,dc,uc],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}section.add-task-section[_ngcontent-%COMP%]{background:teal;width:90%;margin-left:5%;height:100vh}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:70%;margin-left:15%;padding-top:60px}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-family:Poppins,sans-serif;font-size:38px;font-weight:400px;color:#fff}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]{padding-top:20px;display:block;width:80%;margin-left:10%;background-color:teal}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:1px solid rgba(255,0,0,0);border-radius:3px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#000;background-color:#fff;padding:6px;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{margin-left:50%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;outline:none;border:none;border-radius:3px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#000;background-color:#fff;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]{margin-top:30px;margin-left:45%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:teal;outline:none;border:1px solid white;border-radius:5px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#fff;padding:10px}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]{margin:30px 0 0;display:block}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:block;outline:none}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000;margin-top:10px}']}),n})();function MD(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2)(1,"div",3),d.NdJ("click",function(){const a=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.viewTaskDetails(a.id))}),d.TgZ(2,"div",4)(3,"span"),d._uU(4),d.qZA()(),d.TgZ(5,"div",5)(6,"span"),d._uU(7),d.qZA()()()()}if(2&n){const t=e.$implicit;d.xp6(4),d.Oqu(t.taskName),d.xp6(3),d.Oqu(t.description)}}let f_=(()=>{class n{constructor(t,r){this.taskService=t,this.myRouter=r,this.tasks=[],this.task={taskName:"",description:"",dueDate:"",startDate:"",level:"",difficulty:"",status:"",userId:"",id:0},this.taskname="",this.taskDescription=""}ngOnInit(){let t=this.taskService.getTasks(this.task.userId);this.tasks=[...this.tasks,...t]}searchId(){this.taskService.delTask(this.task.userId,this.task.id),this.myRouter.navigate([`/view-task/:${this.task.id}`])}viewTaskDetails(t){this.myRouter.navigate([`/task-details/${t}`]),console.log(this.task)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(id),d.Y36(Fr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-view-task"]],decls:4,vars:1,consts:[[1,"main-section"],["class","tasks-holder",4,"ngFor","ngForOf"],[1,"tasks-holder"],[1,"holder",3,"click"],[1,"name"],[1,"description"]],template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"view-task works!"),d.qZA(),d.TgZ(2,"section",0),d.YNc(3,MD,8,2,"div",1),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngForOf",r.tasks))},dependencies:[pi],styles:["div.edit-dlt[_ngcontent-%COMP%]{display:flex;align-items:center}div.edit-dlt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:red;padding:50px 60px 90px 30px;margin:10px}div.edit-dlt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:50px 60px 90px 30px}"]}),n})();const mg=[{path:"",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-main-landing"]],decls:3,vars:0,consts:[["type","submit"],["routerLink","/sign-in"]],template:function(t,r){1&t&&(d.TgZ(0,"button",0)(1,"a",1),d._uU(2,"Get started"),d.qZA()())},dependencies:[_a]}),n})()},{path:"main",component:Ry},{path:"tasks",component:DD,children:[{path:"",component:CD}]},{path:"add-task",component:SD},{path:"view-task/:userId",component:f_},{path:"user/tasks",component:f_},{path:"task/edit-task/:taskId",component:pf},{path:"task/edit-task",component:pf},{path:"task-details/:id",component:(()=>{class n{constructor(t,r){this.activeRoute=t,this.taskService=r}ngOnInit(){this.activeRoute.params.subscribe(t=>{console.log(t.id);let r=this.taskService.viewTaskDetails(t.id);console.log(r),this.task=r.data,console.log(this.task)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Sr),d.Y36(id))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-task-details"]],decls:47,vars:8,consts:[[1,"details-section"],["scope","col"],[1,"edit"],[1,"edit-button"],["routerLink","/task/edit-task"],[1,"delete-button"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"table")(2,"tbody")(3,"thead"),d._uU(4,"Task Details"),d.qZA(),d.TgZ(5,"tr")(6,"th",1),d._uU(7,"Id"),d.qZA(),d.TgZ(8,"th",1),d._uU(9,"Task Name"),d.qZA(),d.TgZ(10,"th",1),d._uU(11,"Description"),d.qZA(),d.TgZ(12,"th",1),d._uU(13,"start Date"),d.qZA(),d.TgZ(14,"th",1),d._uU(15,"Due date"),d.qZA(),d.TgZ(16,"th",1),d._uU(17,"Difficulty"),d.qZA(),d.TgZ(18,"th",1),d._uU(19,"Level"),d.qZA(),d.TgZ(20,"th",1),d._uU(21,"State"),d.qZA()(),d.TgZ(22,"tr")(23,"td"),d._uU(24),d.qZA(),d.TgZ(25,"td"),d._uU(26),d.qZA(),d.TgZ(27,"td"),d._uU(28),d.qZA(),d.TgZ(29,"td"),d._uU(30),d.qZA(),d.TgZ(31,"td"),d._uU(32),d.qZA(),d.TgZ(33,"td"),d._uU(34),d.qZA(),d.TgZ(35,"td"),d._uU(36),d.qZA(),d.TgZ(37,"td"),d._uU(38),d.qZA()()()(),d.TgZ(39,"div")(40,"p",2)(41,"button",3)(42,"a",4),d._uU(43,"Edit"),d.qZA()()(),d.TgZ(44,"p",2)(45,"button",5),d._uU(46,"Delete"),d.qZA()()()()),2&t&&(d.xp6(24),d.Oqu(r.task.id),d.xp6(2),d.Oqu(r.task.taskName),d.xp6(2),d.Oqu(r.task.description),d.xp6(2),d.Oqu(r.task.startDate),d.xp6(2),d.Oqu(r.task.dueDate),d.xp6(2),d.Oqu(r.task.difficulty),d.xp6(2),d.Oqu(r.task.level),d.xp6(2),d.Oqu(r.task.status))},dependencies:[_a]}),n})()},{path:"sign-in",component:bD},{path:"sign-up",component:ID}];let yg,rE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[jC.forRoot(mg),jC]}),n})();try{yg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yg=!1}let od,g_,sd=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Wl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _g(n){return function PD(){if(null==od&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>od=!0}))}finally{od=od||!1}return od}()?n:!!n.capture}function ad(n){return n.composedPath?n.composedPath()[0]:n.target}function uE(n){return gi((e,t)=>n<=t)}function yf(n,e=Eo.y){return n=n??w_,(0,Wr.e)((t,r)=>{let i,a=!0;t.subscribe((0,yr.x)(r,l=>{const p=e(l);(a||!n(i,p))&&(a=!1,i=p,r.next(l))}))})}function w_(n,e){return n===e}var dE=P(5032);function Dg(n){return(0,Wr.e)((e,t)=>{(0,ia.Xf)(n).subscribe((0,yr.x)(t,()=>t.complete(),dE.Z)),!t.closed&&e.subscribe(t)})}function Tg(n){return null!=n&&"false"!=`${n}`}function hE(n){return Array.isArray(n)?n:[n]}function Po(n){return n instanceof d.SBq?n.nativeElement:n}var fE=P(4986);const Sg=new Set;let ld,b_=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pE}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function DT(n){if(!Sg.has(n))try{ld||(ld=document.createElement("style"),ld.setAttribute("type","text/css"),document.head.appendChild(ld)),ld.sheet&&(ld.sheet.insertRule(`@media ${n} {body{ }}`,0),Sg.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pE(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let I_=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Pr.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return C_(hE(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=qc(C_(hE(t)).map(l=>this._registerQuery(l).observable));return a=qa(a.pipe(Co(1)),a.pipe(uE(1),function pP(n,e=fE.z){return(0,Wr.e)((t,r)=>{let i=null,a=null,l=null;const p=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function _(){const E=l+n,C=e.now();if(C<E)return i=this.schedule(void 0,E-C),void r.add(i);p()}t.subscribe((0,yr.x)(r,E=>{a=E,l=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe((0,kt.U)(l=>{const p={matches:!1,breakpoints:{}};return l.forEach(({matches:_,query:E})=>{p.matches=p.matches||_,p.breakpoints[E]=_}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Es.y(l=>{const p=_=>this._zone.run(()=>l.next(_));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(to(r),(0,kt.U)(({matches:l})=>({query:t,matches:l})),Dg(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(b_),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C_(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function yE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function _E(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const _f=new d.OlP("cdk-input-modality-detector-options"),jT={ignoreKeys:[18,17,224,91,16]},Gi=_g({passive:!0,capture:!0});let $T=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new ki(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(p=>p===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ad(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yE(l)?"keyboard":"mouse"),this._mostRecentTarget=ad(l))},this._onTouchstart=l=>{_E(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ad(l))},this._options={...jT,...a},this.modalityDetected=this._modality.pipe(uE(1)),this.modalityChanged=this.modalityDetected.pipe(yf()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Gi),i.addEventListener("mousedown",this._onMousedown,Gi),i.addEventListener("touchstart",this._onTouchstart,Gi)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gi),document.removeEventListener("mousedown",this._onMousedown,Gi),document.removeEventListener("touchstart",this._onTouchstart,Gi))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sd),d.LFG(d.R0b),d.LFG(ce),d.LFG(_f,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xg=new d.OlP("cdk-focus-monitor-default-options"),Og=_g({passive:!0,capture:!0});let HT=(()=>{class n{constructor(t,r,i,a,l){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pr.x,this._rootNodeFocusAndBlurListener=p=>{for(let E=ad(p);E;E=E.parentElement)"focus"===p.type?this._onFocus(p,E):this._onBlur(p,E)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(t,r=!1){const i=Po(t);if(!this._platform.isBrowser||1!==i.nodeType)return wt(null);const a=function ND(n){if(function RD(){if(null==g_){const n=typeof document<"u"?document.head:null;g_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return g_}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const p={checkChildren:r,subject:new Pr.x,rootNode:a};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=Po(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=Po(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([p,_])=>this._originChanged(p,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=ad(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Og),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Og)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Dg(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Og),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Og),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(sd),d.LFG($T),d.LFG(ce,8),d.LFG(xg,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const S_="cdk-high-contrast-black-on-white",kg="cdk-high-contrast-white-on-black",Pg="cdk-high-contrast-active";let A_=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,d.f3M)(I_).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Pg,S_,kg),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Pg,S_):2===r&&t.add(Pg,kg)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sd),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ud=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function qi(){return!0}});let Rg=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function FD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(A_),d.LFG(ud,8),d.LFG(ce))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[EE,EE]}),n})();function CE(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Tg(e)}constructor(...e){super(...e),this._disabled=!1}}}function k_(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function wf(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Tg(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function XT(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function ET(n,e=0){return function E_(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}class R_{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const aS=_g({passive:!0,capture:!0});class cS{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ad(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const l=a.get(r);l?l.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,aS)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);a&&(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,aS)))}}const lS={enterDuration:225,exitDuration:150},AE=_g({passive:!0,capture:!0}),ME=["mousedown","touchstart"],N_=["mouseup","mouseleave","touchend","touchcancel"];class dd{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Po(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...lS,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=r.radius||function dS(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),p=e-i.left,_=t-i.top,E=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=p-l+"px",C.style.top=_-l+"px",C.style.height=2*l+"px",C.style.width=2*l+"px",null!=r.color&&(C.style.backgroundColor=r.color),C.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(C);const M=window.getComputedStyle(C),B=M.transitionDuration,K="none"===M.transitionProperty||"0s"===B||"0s, 0s"===B||0===i.width&&0===i.height,te=new R_(this,C,r,K);C.style.transform="scale3d(1, 1, 1)",te.state=0,r.persistent||(this._mostRecentTransientRipple=te);let ue=null;return!K&&(E||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Je=()=>this._finishRippleTransition(te),it=()=>this._destroyRipple(te);C.addEventListener("transitionend",Je),C.addEventListener("transitioncancel",it),ue={onTransitionEnd:Je,onTransitionCancel:it}}),this._activeRipples.set(te,ue),(K||!E)&&this._finishRippleTransition(te),te}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...lS,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Po(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,ME.forEach(r=>{dd._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{N_.forEach(t=>{this._triggerElement.addEventListener(t,this,AE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=yE(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!_E(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(ME.forEach(t=>dd._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&N_.forEach(t=>e.removeEventListener(t,this,AE)))}}dd._eventManager=new cS;const xE=new d.OlP("mat-ripple-global-options");let OE=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,a,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new dd(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(sd),d.Y36(xE,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),hS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Rg,Rg]}),n})();const KP=["switch"],ZP=["*"],YP=new d.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),QP={provide:ao,useExisting:(0,d.Gpc)(()=>F_),multi:!0};class If{constructor(e,t){this.source=e,this.checked=t}}let JP=0;const kE=XT(k_(wf(CE(class{constructor(n){this._elementRef=n}}))));let Ng=(()=>{class n extends kE{get required(){return this._required}set required(t){this._required=Tg(t)}get checked(){return this._checked}set checked(t){this._checked=Tg(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,a,l,p,_){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=l,this._onChange=E=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new d.vpe,this.toggleChange=new d.vpe,this.tabIndex=parseInt(a)||0,this.color=this.defaultColor=l.color||"accent",this._noopAnimations="NoopAnimations"===p,this.id=this._uniqueId=`${_}${++JP}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[d.qOj]}),n})(),F_=(()=>{class n extends Ng{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,r,i,a,l,p){super(t,r,i,a,l,p,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new If(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new If(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(HT),d.Y36(d.sBO),d.$8M("tabindex"),d.Y36(YP),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,r){if(1&t&&d.Gf(KP,5),2&t){let i;d.iGM(i=d.CRH())&&(r._switchElement=i.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,r){2&t&&(d.Ikx("id",r.id),d.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),d.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[d._Bn([QP]),d.qOj],ngContentSelectors:ZP,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,r){if(1&t&&(d.F$t(),d.TgZ(0,"div",0)(1,"button",1,2),d.NdJ("click",function(){return r._handleClick()}),d._UZ(3,"div",3),d.TgZ(4,"div",4)(5,"div",5)(6,"div",6),d._UZ(7,"div",7),d.qZA(),d.TgZ(8,"div",8),d._UZ(9,"div",9),d.qZA(),d.TgZ(10,"div",10),d.O4$(),d.TgZ(11,"svg",11),d._UZ(12,"path",12),d.qZA(),d.TgZ(13,"svg",13),d._UZ(14,"path",14),d.qZA()()()()(),d.kcU(),d.TgZ(15,"label",15),d.NdJ("click",function(a){return a.stopPropagation()}),d.Hsn(16),d.qZA()()),2&t){const i=d.MAs(2);d.ekj("mdc-form-field--align-end","before"==r.labelPosition),d.xp6(1),d.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),d.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),d.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),d.xp6(8),d.Q6J("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),d.xp6(6),d.Q6J("for",r.buttonId),d.uIk("id",r._labelId)}},dependencies:[OE],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),Fg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),RE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Fg,Rg,hS,Ys,Fg,Rg]}),n})(),vS=(()=>{class n{constructor(){this.copyright=(new Date).getFullYear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:2,vars:1,consts:[[1,"copyright"]],template:function(t,r){1&t&&(d.TgZ(0,"p",0),d._uU(1),d.qZA()),2&t&&(d.xp6(1),d.hij(" All rights reserved \xa9 ",r.copyright,".\n"))},styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}p.copyright[_ngcontent-%COMP%]{text-align:center;font-family:Poppins,sans-serif;font-size:13px;font-weight:400;color:red}']}),n})(),eR=(()=>{class n{constructor(){this.title="harmNation",this.white="color:white; font-size:30px"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["tracy"]],decls:4,vars:0,template:function(t,r){1&t&&(d._UZ(0,"router-outlet")(1,"app-footer"),d.TgZ(2,"mat-slide-toggle"),d._uU(3,"Toggle Me"),d.qZA())},dependencies:[ee,F_,vS]}),n})();class NE{}class wS{}const Ia="*";function ES(n,e=null){return{type:2,steps:n,options:e}}function bS(n){return{type:6,styles:n,offset:null}}function zs(n){Promise.resolve().then(n)}class Cf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zs(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Lg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?zs(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,p)=>Math.max(l,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const V_="!";function Ts(n){return new d.vHH(3e3,!1)}function ZE(){return typeof window<"u"&&typeof window.document<"u"}function hd(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function uo(n){switch(n.length){case 0:return new Cf;case 1:return n[0];default:return new Lg(n)}}function z_(n,e,t,r,i=new Map,a=new Map){const l=[],p=[];let _=-1,E=null;if(r.forEach(C=>{const M=C.get("offset"),F=M==_,B=F&&E||new Map;C.forEach((K,te)=>{let ue=te,Je=K;if("offset"!==te)switch(ue=e.normalizePropertyName(ue,l),Je){case V_:Je=i.get(te);break;case Ia:Je=a.get(te);break;default:Je=e.normalizeStyleValue(te,ue,Je,l)}B.set(ue,Je)}),F||p.push(B),E=B,_=M}),l.length)throw function PS(n){return new d.vHH(3502,!1)}();return p}function G_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&q_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&q_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&q_(t,"destroy",n)))}}function q_(n,e,t){const a=YE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function YE(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function Gs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function LS(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Vg=(n,e)=>!1,QE=(n,e,t)=>[],JE=null;function W_(n){const e=n.parentNode||n.host;return e===JE?null:e}(hd()||typeof Element<"u")&&(ZE()?(JE=(()=>document.documentElement)(),Vg=(n,e)=>{for(;e;){if(e===n)return!0;e=W_(e)}return!1}):Vg=(n,e)=>n.contains(e),QE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let fd=null,VS=!1;const XE=Vg,eb=QE;let pc=(()=>{class n{validateStyleProperty(t){return function dR(n){fd||(fd=function Ug(){return typeof document<"u"?document.body:null}()||{},VS=!!fd.style&&"WebkitAppearance"in fd.style);let e=!0;return fd.style&&!function uR(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in fd.style,!e&&VS&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in fd.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return XE(t,r)}getParentElement(t){return W_(t)}query(t,r,i){return eb(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,p=[],_){return new Cf(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Bg=(()=>{class n{}return n.NOOP=new pc,n})();const K_=1e3,Df="ng-enter",pd="ng-leave",Pl="ng-trigger",Z_=".ng-trigger",jS="ng-animating",tb=".ng-animating";function gc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$g(parseFloat(e[1]),e[2])}function $g(n,e){return"s"===e?n*K_:n}function Hg(n,e,t){return n.hasOwnProperty("duration")?n:function $S(n,e,t){let i,a=0,l="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(Ts()),{duration:0,delay:0,easing:""};i=$g(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(a=$g(parseFloat(_),p[4]));const E=p[5];E&&(l=E)}else i=n;if(!t){let p=!1,_=e.length;i<0&&(e.push(function DS(){return new d.vHH(3100,!1)}()),p=!0),a<0&&(e.push(function U_(){return new d.vHH(3101,!1)}()),p=!0),p&&e.splice(_,0,Ts())}return{duration:i,delay:a,easing:l}}(n,e,t)}function Tf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function nb(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Da(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function ib(n,e,t){return t?e+":"+t+";":""}function sb(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ib(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ib(0,HS(t),n.style[t]));n.setAttribute("style",e)}function ho(n,e,t){n.style&&(e.forEach((r,i)=>{const a=J_(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),hd()&&sb(n))}function Ta(n,e){n.style&&(e.forEach((t,r)=>{const i=J_(r);n.style[i]=""}),hd()&&sb(n))}function zg(n){return Array.isArray(n)?1==n.length?n[0]:ES(n):n}const Sf=new RegExp("{{\\s*(.+?)\\s*}}","g");function ab(n){let e=[];if("string"==typeof n){let t;for(;t=Sf.exec(n);)e.push(t[1]);Sf.lastIndex=0}return e}function Af(n,e,t){const r=n.toString(),i=r.replace(Sf,(a,l)=>{let p=e[l];return null==p&&(t.push(function SS(n){return new d.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function Q_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const fR=/-+([a-z0-9])/g;function J_(n){return n.replace(fR,(...e)=>e[1].toUpperCase())}function HS(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function B_(n){return new d.vHH(3004,!1)}()}}function GS(n,e){return window.getComputedStyle(n)[e]}const ev="*";function s(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function o(n,e,t){if(":"==n[0]){const _=function c(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function xS(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function $E(n){return new d.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(m(i,l));"<"==a[0]&&!(i==ev&&l==ev)&&e.push(m(l,i))}(r,t,e)):t.push(n),t}const u=new Set(["true","1"]),h=new Set(["false","0"]);function m(n,e){const t=u.has(n)||h.has(n),r=u.has(e)||h.has(e);return(i,a)=>{let l=n==ev||n==i,p=e==ev||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?u.has(n):h.has(n)),!p&&r&&"boolean"==typeof a&&(p=a?u.has(e):h.has(e)),l&&p}}const v=":self",b=new RegExp(`s*${v}s*,?`,"g");function I(n,e,t,r){return new k(n).build(e,t,r)}class k{constructor(e){this._driver=e}build(e,t,r){const i=new ie(t);return this._resetContextStyleTimingState(i),qs(this,zg(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function LE(){return new d.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,E=_.name;E.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,a.push(this.visitState(_,t))}),_.name=E}else if(1==p.type){const _=this.visitTransition(p,t);r+=_.queryCount,i+=_.depCount,l.push(_)}else t.errors.push(function AS(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(_=>{ab(_).forEach(E=>{l.hasOwnProperty(E)||a.add(E)})})}),a.size&&(Q_(a.values()),t.errors.push(function VE(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=qs(this,zg(e.animation),t);return{type:1,matchers:s(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rt(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>qs(this,r,t)),options:rt(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const p=qs(this,l,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:a,options:rt(e.options)}}visitAnimate(e,t){const r=function Ye(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return bt(Hg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=bt(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Hg(t,e);return bt(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:bS({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,p=!1;if(!l){p=!0;const E={};r.easing&&(E.easing=r.easing),l=bS(E)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(l,t);_.isEmptyStep=p,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Ia?r.push(p):t.errors.push(new d.vHH(3002,!1)):r.push(nb(p));let a=!1,l=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(l=p.get("easing"),p.delete("easing")),!a))for(let _ of p.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((p,_)=>{const E=t.collectedStyles.get(t.currentQuerySelector),C=E.get(_);let M=!0;C&&(a!=i&&a>=C.startTime&&i<=C.endTime&&(t.errors.push(function BE(n,e,t,r,i){return new d.vHH(3010,!1)}()),M=!1),a=C.startTime),M&&E.set(_,{startTime:a,endTime:i}),t.options&&function ob(n,e,t){const r=e.params||{},i=ab(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function TS(n){return new d.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function MS(){return new d.vHH(3011,!1)}()),r;let a=0;const l=[];let p=!1,_=!1,E=0;const C=e.steps.map(Je=>{const it=this._makeStyleAst(Je,t);let pt=null!=it.offset?it.offset:function De(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(it.styles),At=0;return null!=pt&&(a++,At=it.offset=pt),_=_||At<0||At>1,p=p||At<E,E=At,l.push(At),it});_&&t.errors.push(function j_(){return new d.vHH(3012,!1)}()),p&&t.errors.push(function Ca(){return new d.vHH(3200,!1)}());const M=e.steps.length;let F=0;a>0&&a<M?t.errors.push(function fc(){return new d.vHH(3202,!1)}()):0==a&&(F=1/(M-1));const B=M-1,K=t.currentTime,te=t.currentAnimateTimings,ue=te.duration;return C.forEach((Je,it)=>{const pt=F>0?it==B?1:F*it:l[it],At=pt*ue;t.currentTime=K+te.delay+At,te.duration=At,this._validateStyleAst(Je,t),Je.offset=pt,r.styles.push(Je)}),r}visitReference(e,t){return{type:8,animation:qs(this,zg(e.animation),t),options:rt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rt(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rt(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function R(n){const e=!!n.split(/\s*,\s*/).find(t=>t==v);return e&&(n=n.replace(b,"")),n=n.replace(/@\*/g,Z_).replace(/@\w+/g,t=>Z_+"-"+t.slice(1)).replace(/:animating/g,tb),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Gs(t.collectedStyles,t.currentQuerySelector,new Map);const p=qs(this,zg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:p,originalSelector:e.selector,options:rt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function jE(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Hg(e.timings,t.errors,!0);return{type:12,animation:qs(this,zg(e.animation),t),timings:r,options:null}}}class ie{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rt(n){return n?(n=Tf(n)).params&&(n.params=function q(n){return n?Tf(n):null}(n.params)):n={},n}function bt(n,e,t){return{duration:n,delay:e,easing:t}}function Ut(n,e,t,r,i,a,l=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:p}}class $e{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Vr=new RegExp(":enter","g"),YV=new RegExp(":leave","g");function qS(n,e,t,r,i,a=new Map,l=new Map,p,_,E=[]){return(new QV).buildKeyframes(n,e,t,r,i,a,l,p,_,E)}class QV{buildKeyframes(e,t,r,i,a,l,p,_,E,C=[]){E=E||new $e;const M=new WS(e,t,E,i,a,C,[]);M.options=_;const F=_.delay?gc(_.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([l],null,M.errors,_),qs(this,r,M);const B=M.timelines.filter(K=>K.containsAnimation());if(B.length&&p.size){let K;for(let te=B.length-1;te>=0;te--){const ue=B[te];if(ue.element===t){K=ue;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([p],null,M.errors,_)}return B.length?B.map(K=>K.buildKeyframes()):[Ut(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:gc(Af(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?gc(r.duration):null,p=null!=r.delay?gc(r.delay):null;return 0!==l&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,l,p);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),qs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=cb);const l=gc(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>qs(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?gc(e.options.delay):0;e.steps.forEach(l=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),qs(this,l,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Hg(t.params?Af(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*a),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?gc(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=cb);let l=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((E,C)=>{t.currentQueryIndex=C;const M=t.createSubContext(e.options,E);a&&M.delayNextStep(a),E===t.element&&(_=M.currentTimeline),qs(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),p=l*(t.currentQueryTotal-1);let _=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=p-_;break;case"full":_=r.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const M=C.currentTime;qs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const cb={};class WS{constructor(e,t,r,i,a,l,p,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new lb(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=gc(r.duration)),null!=r.delay&&(i.delay=gc(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!l.hasOwnProperty(p))&&(l[p]=Af(a[p],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new WS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=cb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new JV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(Vr,"."+this._enterClassName)).replace(YV,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),p.push(...E)}return!a&&0==p.length&&l.push(function $_(n){return new d.vHH(3014,!1)}()),p}}class lb{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ia),this._currentKeyframe.set(t,Ia);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function XV(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Ia)}else Da(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,_]of l){const E=Af(_,a,r);this._pendingStyles.set(p,E),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Ia),this._updateStyle(p,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,_)=>{const E=Da(p,new Map,this._backFill);E.forEach((C,M)=>{C===V_?e.add(M):C===Ia&&t.add(M)}),r||E.set("offset",_/this.duration),i.push(E)});const a=e.size?Q_(e.values()):[],l=t.size?Q_(t.values()):[];if(r){const p=i[0],_=new Map(p);p.set("offset",0),_.set("offset",1),i=[p,_]}return Ut(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class JV extends lb{constructor(e,t,r,i,a,l,p=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,p=t/l,_=Da(e[0]);_.set("offset",0),a.push(_);const E=Da(e[0]);E.set("offset",vR(p)),a.push(E);const C=e.length-1;for(let M=1;M<=C;M++){let F=Da(e[M]);const B=F.get("offset");F.set("offset",vR((t+B*r)/l)),a.push(F)}r=l,t=0,i="",e=a}return Ut(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function vR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class KS{}const eU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class tU extends KS{normalizePropertyName(e,t){return J_(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(eU.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function FE(n,e){return new d.vHH(3005,!1)}())}return l+a}}function wR(n,e,t,r,i,a,l,p,_,E,C,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:p,queriedElements:_,preStyleProps:E,postStyleProps:C,totalTime:M,errors:F}}const ZS={};class ER{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function nU(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,p,_,E,C){const M=[],F=this.ast.options&&this.ast.options.params||ZS,K=this.buildStyles(r,p&&p.params||ZS,M),te=_&&_.params||ZS,ue=this.buildStyles(i,te,M),Je=new Set,it=new Map,pt=new Map,At="void"===i,Wt={params:rU(te,F),delay:this.ast.options?.delay},dn=C?[]:qS(e,t,this.ast.animation,a,l,K,ue,Wt,E,M);let Bn=0;if(dn.forEach(Uo=>{Bn=Math.max(Uo.duration+Uo.delay,Bn)}),M.length)return wR(t,this._triggerName,r,i,At,K,ue,[],[],it,pt,Bn,M);dn.forEach(Uo=>{const Gl=Uo.element,vV=Gs(it,Gl,new Set);Uo.preStyleProps.forEach(tp=>vV.add(tp));const v0=Gs(pt,Gl,new Set);Uo.postStyleProps.forEach(tp=>v0.add(tp)),Gl!==t&&Je.add(Gl)});const Xi=Q_(Je.values());return wR(t,this._triggerName,r,i,At,K,ue,dn,Xi,it,pt,Bn)}}function rU(n,e){const t=Tf(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class iU{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Tf(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,p)=>{l&&(l=Af(l,i,t));const _=this.normalizer.normalizePropertyName(p,t);l=this.normalizer.normalizeStyleValue(p,_,l,t),r.set(p,l)})}),r}}class oU{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new iU(i.style,i.options&&i.options.params||{},r))}),bR(this.states,"true","1"),bR(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ER(e,i,this.states))}),this.fallbackTransition=function aU(n,e,t){return new ER(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function bR(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const cU=new $e;class lU{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=I(this._driver,t,r,i);if(r.length)throw function RS(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=z_(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const p=new Map;if(a?(l=qS(this._driver,t,a,Df,pd,new Map,new Map,r,cU,i),l.forEach(C=>{const M=Gs(p,C.element,new Map);C.postStyleProps.forEach(F=>M.set(F,null))})):(i.push(function HE(){return new d.vHH(3300,!1)}()),l=[]),i.length)throw function cR(n){return new d.vHH(3504,!1)}();p.forEach((C,M)=>{C.forEach((F,B)=>{C.set(B,this._driver.computeStyle(M,B,Ia))})});const E=uo(l.map(C=>{const M=p.get(C.element);return this._buildPlayer(C,new Map,M)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function zE(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=YE(t,"","","");return G_(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const IR="ng-animate-queued",YS="ng-animate-disabled",pU=[],CR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ro="__ng_removed";class QS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function vU(n){return n??null}(r?e.value:e),r){const a=Tf(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const tv="void",JS=new QS(tv);class mU{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,No(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function NS(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function GE(n){return new d.vHH(3303,!1)}();if(!function wU(n){return"start"==n||"done"==n}(r))throw function lR(n,e){return new d.vHH(3400,!1)}();const a=Gs(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const p=Gs(this._engine.statesByElement,e,new Map);return p.has(t)||(No(e,Pl),No(e,Pl+"-"+t),p.set(t,JS)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(l);_>=0&&a.splice(_,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function H_(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new XS(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(No(e,Pl),No(e,Pl+"-"+t),this._engine.statesByElement.set(e,p=new Map));let _=p.get(t);const E=new QS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),p.set(t,E),_||(_=JS),E.value!==tv&&_.value===E.value){if(!function IU(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,E.params)){const te=[],ue=a.matchStyles(_.value,_.params,te),Je=a.matchStyles(E.value,E.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Ta(e,ue),ho(e,Je)})}return}const F=Gs(this._engine.playersByElement,e,[]);F.forEach(te=>{te.namespaceId==this.id&&te.triggerName==t&&te.queued&&te.destroy()});let B=a.matchTransition(_.value,E.value,e,E.params),K=!1;if(!B){if(!i)return;B=a.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:E,player:l,isFallbackTransition:K}),K||(No(e,IR),l.onStart(()=>{qg(e,IR)})),l.onDone(()=>{let te=this.players.indexOf(l);te>=0&&this.players.splice(te,1);const ue=this._engine.playersByElement.get(e);if(ue){let Je=ue.indexOf(l);Je>=0&&ue.splice(Je,1)}}),this.players.push(l),F.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Z_,!0);r.forEach(i=>{if(i[Ro])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const p=[];if(a.forEach((_,E)=>{if(l.set(E,_.value),this._triggers.has(E)){const C=this.trigger(e,E,tv,i);C&&p.push(C)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&uo(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const _=this._triggers.get(l).fallbackTransition,E=r.get(l)||JS,C=new QS(tv),M=new XS(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:_,fromState:E,toState:C,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ro];(!a||a===CR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){No(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(p=>{if(p.name==r.triggerName){const _=YE(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,G_(r.player,p.phase,_,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class yU{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new mU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,p=this.driver.getParentElement(t);for(;p;){const _=i.get(p);if(_){const E=r.indexOf(_);r.splice(E+1,0,e),l=!0;break}p=this.driver.getParentElement(p)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(ub(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ub(t))return;const a=t[Ro];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),No(e,YS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qg(e,YS))}removeNode(e,t,r,i){if(ub(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ro]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return ub(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Z_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,tb,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return uo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ro];if(t&&t.setForRemoval){if(e[Ro]=CR,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(YS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)No(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?uo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function qE(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new $e,i=[],a=new Map,l=[],p=new Map,_=new Map,E=new Map,C=new Set;this.disabledNodes.forEach(Ot=>{C.add(Ot);const Ht=this.driver.query(Ot,".ng-animate-queued",!0);for(let Qt=0;Qt<Ht.length;Qt++)C.add(Ht[Qt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=SR(F,this.collectedEnterElements),K=new Map;let te=0;B.forEach((Ot,Ht)=>{const Qt=Df+te++;K.set(Ht,Qt),Ot.forEach(Fn=>No(Fn,Qt))});const ue=[],Je=new Set,it=new Set;for(let Ot=0;Ot<this.collectedLeaveElements.length;Ot++){const Ht=this.collectedLeaveElements[Ot],Qt=Ht[Ro];Qt&&Qt.setForRemoval&&(ue.push(Ht),Je.add(Ht),Qt.hasAnimation?this.driver.query(Ht,".ng-star-inserted",!0).forEach(Fn=>Je.add(Fn)):it.add(Ht))}const pt=new Map,At=SR(F,Array.from(Je));At.forEach((Ot,Ht)=>{const Qt=pd+te++;pt.set(Ht,Qt),Ot.forEach(Fn=>No(Fn,Qt))}),e.push(()=>{B.forEach((Ot,Ht)=>{const Qt=K.get(Ht);Ot.forEach(Fn=>qg(Fn,Qt))}),At.forEach((Ot,Ht)=>{const Qt=pt.get(Ht);Ot.forEach(Fn=>qg(Fn,Qt))}),ue.forEach(Ot=>{this.processLeaveNode(Ot)})});const Wt=[],dn=[];for(let Ot=this._namespaceList.length-1;Ot>=0;Ot--)this._namespaceList[Ot].drainQueuedTransitions(t).forEach(Qt=>{const Fn=Qt.player,Ui=Qt.element;if(Wt.push(Fn),this.collectedEnterElements.length){const fs=Ui[Ro];if(fs&&fs.setForMove){if(fs.previousTriggersValues&&fs.previousTriggersValues.has(Qt.triggerName)){const np=fs.previousTriggersValues.get(Qt.triggerName),Bo=this.statesByElement.get(Qt.element);if(Bo&&Bo.has(Qt.triggerName)){const tC=Bo.get(Qt.triggerName);tC.value=np,Bo.set(Qt.triggerName,tC)}}return void Fn.destroy()}}const Cc=!M||!this.driver.containsElement(M,Ui),mo=pt.get(Ui),Vd=K.get(Ui),Ur=this._buildInstruction(Qt,r,Vd,mo,Cc);if(Ur.errors&&Ur.errors.length)return void dn.push(Ur);if(Cc)return Fn.onStart(()=>Ta(Ui,Ur.fromStyles)),Fn.onDestroy(()=>ho(Ui,Ur.toStyles)),void i.push(Fn);if(Qt.isFallbackTransition)return Fn.onStart(()=>Ta(Ui,Ur.fromStyles)),Fn.onDestroy(()=>ho(Ui,Ur.toStyles)),void i.push(Fn);const bV=[];Ur.timelines.forEach(fs=>{fs.stretchStartingKeyframe=!0,this.disabledNodes.has(fs.element)||bV.push(fs)}),Ur.timelines=bV,r.append(Ui,Ur.timelines),l.push({instruction:Ur,player:Fn,element:Ui}),Ur.queriedElements.forEach(fs=>Gs(p,fs,[]).push(Fn)),Ur.preStyleProps.forEach((fs,np)=>{if(fs.size){let Bo=_.get(np);Bo||_.set(np,Bo=new Set),fs.forEach((tC,$O)=>Bo.add($O))}}),Ur.postStyleProps.forEach((fs,np)=>{let Bo=E.get(np);Bo||E.set(np,Bo=new Set),fs.forEach((tC,$O)=>Bo.add($O))})});if(dn.length){const Ot=[];dn.forEach(Ht=>{Ot.push(function WE(n,e){return new d.vHH(3505,!1)}())}),Wt.forEach(Ht=>Ht.destroy()),this.reportError(Ot)}const Bn=new Map,Xi=new Map;l.forEach(Ot=>{const Ht=Ot.element;r.has(Ht)&&(Xi.set(Ht,Ht),this._beforeAnimationBuild(Ot.player.namespaceId,Ot.instruction,Bn))}),i.forEach(Ot=>{const Ht=Ot.element;this._getPreviousPlayers(Ht,!1,Ot.namespaceId,Ot.triggerName,null).forEach(Fn=>{Gs(Bn,Ht,[]).push(Fn),Fn.destroy()})});const Uo=ue.filter(Ot=>MR(Ot,_,E)),Gl=new Map;TR(Gl,this.driver,it,E,Ia).forEach(Ot=>{MR(Ot,_,E)&&Uo.push(Ot)});const v0=new Map;B.forEach((Ot,Ht)=>{TR(v0,this.driver,new Set(Ot),_,V_)}),Uo.forEach(Ot=>{const Ht=Gl.get(Ot),Qt=v0.get(Ot);Gl.set(Ot,new Map([...Array.from(Ht?.entries()??[]),...Array.from(Qt?.entries()??[])]))});const tp=[],wV=[],EV={};l.forEach(Ot=>{const{element:Ht,player:Qt,instruction:Fn}=Ot;if(r.has(Ht)){if(C.has(Ht))return Qt.onDestroy(()=>ho(Ht,Fn.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(Fn.totalTime),void i.push(Qt);let Ui=EV;if(Xi.size>1){let mo=Ht;const Vd=[];for(;mo=mo.parentNode;){const Ur=Xi.get(mo);if(Ur){Ui=Ur;break}Vd.push(mo)}Vd.forEach(Ur=>Xi.set(Ur,Ui))}const Cc=this._buildAnimation(Qt.namespaceId,Fn,Bn,a,v0,Gl);if(Qt.setRealPlayer(Cc),Ui===EV)tp.push(Qt);else{const mo=this.playersByElement.get(Ui);mo&&mo.length&&(Qt.parentPlayer=uo(mo)),i.push(Qt)}}else Ta(Ht,Fn.fromStyles),Qt.onDestroy(()=>ho(Ht,Fn.toStyles)),wV.push(Qt),C.has(Ht)&&i.push(Qt)}),wV.forEach(Ot=>{const Ht=a.get(Ot.element);if(Ht&&Ht.length){const Qt=uo(Ht);Ot.setRealPlayer(Qt)}}),i.forEach(Ot=>{Ot.parentPlayer?Ot.syncPlayerEvents(Ot.parentPlayer):Ot.destroy()});for(let Ot=0;Ot<ue.length;Ot++){const Ht=ue[Ot],Qt=Ht[Ro];if(qg(Ht,pd),Qt&&Qt.hasAnimation)continue;let Fn=[];if(p.size){let Cc=p.get(Ht);Cc&&Cc.length&&Fn.push(...Cc);let mo=this.driver.query(Ht,tb,!0);for(let Vd=0;Vd<mo.length;Vd++){let Ur=p.get(mo[Vd]);Ur&&Ur.length&&Fn.push(...Ur)}}const Ui=Fn.filter(Cc=>!Cc.destroyed);Ui.length?EU(this,Ht,Ui):this.processLeaveNode(Ht)}return ue.length=0,tp.forEach(Ot=>{this.players.push(Ot),Ot.onDone(()=>{Ot.destroy();const Ht=this.players.indexOf(Ot);this.players.splice(Ht,1)}),Ot.play()}),tp}elementContainsData(e,t){let r=!1;const i=t[Ro];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(l=p)}else{const p=this.playersByElement.get(e);if(p){const _=!a||a==tv;p.forEach(E=>{E.queued||!_&&E.triggerName!=i||l.push(E)})}}return(r||i)&&(l=l.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,C=E!==a,M=Gs(r,E,[]);this._getPreviousPlayers(E,C,l,p,t.toState).forEach(B=>{const K=B.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),B.destroy(),M.push(B)})}Ta(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const p=t.triggerName,_=t.element,E=[],C=new Set,M=new Set,F=t.timelines.map(K=>{const te=K.element;C.add(te);const ue=te[Ro];if(ue&&ue.removedBeforeQueried)return new Cf(K.duration,K.delay);const Je=te!==_,it=function bU(n){const e=[];return AR(n,e),e}((r.get(te)||pU).map(Bn=>Bn.getRealPlayer())).filter(Bn=>!!Bn.element&&Bn.element===te),pt=a.get(te),At=l.get(te),Wt=z_(0,this._normalizer,0,K.keyframes,pt,At),dn=this._buildPlayer(K,Wt,it);if(K.subTimeline&&i&&M.add(te),Je){const Bn=new XS(e,p,te);Bn.setRealPlayer(dn),E.push(Bn)}return dn});E.forEach(K=>{Gs(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function _U(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,K.element,K))}),C.forEach(K=>No(K,jS));const B=uo(F);return B.onDestroy(()=>{C.forEach(K=>qg(K,jS)),ho(_,t.toStyles)}),M.forEach(K=>{Gs(i,K,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Cf(e.duration,e.delay)}}class XS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Cf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>G_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ub(n){return n&&1===n.nodeType}function DR(n,e){const t=n.style.display;return n.style.display=e??"none",t}function TR(n,e,t,r,i){const a=[];t.forEach(_=>a.push(DR(_)));const l=[];r.forEach((_,E)=>{const C=new Map;_.forEach(M=>{const F=e.computeStyle(E,M,i);C.set(M,F),(!F||0==F.length)&&(E[Ro]=gU,l.push(E))}),n.set(E,C)});let p=0;return t.forEach(_=>DR(_,a[p++])),l}function SR(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(p){if(!p)return r;let _=a.get(p);if(_)return _;const E=p.parentNode;return _=t.has(E)?E:i.has(E)?r:l(E),a.set(p,_),_}return e.forEach(p=>{const _=l(p);_!==r&&t.get(_).push(p)}),t}function No(n,e){n.classList?.add(e)}function qg(n,e){n.classList?.remove(e)}function EU(n,e,t){uo(t).onDone(()=>n.processLeaveNode(e))}function AR(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Lg?AR(r.players,e):e.push(r)}}function MR(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class db{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new yU(e,t,r),this._timelineEngine=new lU(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let p=this._triggerCache[l];if(!p){const _=[],E=[],C=I(this._driver,a,_,E);if(_.length)throw function kS(n,e){return new d.vHH(3404,!1)}();p=function sU(n,e,t){return new oU(n,e,t)}(i,C,this._normalizer),this._triggerCache[l]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=LS(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,p]=LS(r);return this._timelineEngine.listen(l,t,p,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let DU=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ho(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ho(this._element,this._initialStyles),this._endStyles&&(ho(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ta(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ta(this._element,this._endStyles),this._endStyles=null),ho(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function eA(n){let e=null;return n.forEach((t,r)=>{(function TU(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class xR{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:GS(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class SU{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return XE(e,t)}getParentElement(e){return W_(e)}query(e,t,r){return eb(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const E=new Map,C=l.filter(B=>B instanceof xR);(function zS(n,e){return 0===n||0===e})(r,i)&&C.forEach(B=>{B.currentSnapshot.forEach((K,te)=>E.set(te,K))});let M=function rb(n){return n.length?n[0]instanceof Map?n:n.map(e=>nb(e)):[]}(t).map(B=>Da(B));M=function pR(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(p=>l.set(p,GS(n,p)))}}return e}(e,M,E);const F=function CU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=eA(e[0]),e.length>1&&(r=eA(e[e.length-1]))):e instanceof Map&&(t=eA(e)),t||r?new DU(n,t,r):null}(e,M);return new xR(e,M,_,F)}}let AU=(()=>{class n extends NE{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ES(t):t;return OR(this._renderer,null,r,"register",[i]),new MU(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class MU extends wS{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xU(this._id,e,t||{},this._renderer)}}class xU{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return OR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function OR(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const kR="@.disabled";let OU=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const p=l?.parentNode(a);p&&l.removeChild(p,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(a);return C||(C=new PR("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const l=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(l,p,t,C.name,C)};return r.data.animation.forEach(_),new kU(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,p]=a;l(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(db),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class PR{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==kR?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class kU extends PR{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kR?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function PU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function RU(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let NU=(()=>{class n extends db{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(Bg),d.LFG(KS),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const RR=[{provide:NE,useClass:AU},{provide:KS,useFactory:function FU(){return new tU}},{provide:db,useClass:NU},{provide:d.FYo,useFactory:function LU(n,e,t){return new OU(n,e,t)},deps:[ss,db,d.R0b]}],tA=[{provide:Bg,useFactory:()=>new SU},{provide:d.QbO,useValue:"BrowserAnimations"},...RR],NR=[{provide:Bg,useClass:pc},{provide:d.QbO,useValue:"NoopAnimations"},...RR];let VU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?NR:tA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:tA,imports:[na]}),n})();var Ss=P(2011),vr=P(3324);function fb(){return(0,Wr.e)((n,e)=>{let t,r=!1;n.subscribe((0,yr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}P(2644);var _t,UU=P(3942),Te=P(5861),Mf=P(6881),pb=P(4859),gd=P(1877),Un=P(2090),BU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sa={},nA=nA||{},gn=BU||self;function gb(){}function mb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rA="closure_uid_"+(1e9*Math.random()>>>0),$U=0;function HU(n,e,t){return n.call.apply(n.bind,arguments)}function zU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function cs(n,e,t){return(cs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HU:zU).apply(null,arguments)}function yb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ri(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),p=2;p<arguments.length;p++)l[p-2]=arguments[p];return e.prototype[i].apply(r,l)}}function md(){this.s=this.s,this.o=this.o}md.prototype.s=!1,md.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function jU(n){Object.prototype.hasOwnProperty.call(n,rA)&&n[rA]||(n[rA]=++$U)}(this)},md.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FR=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function iA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function LR(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(mb(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function ls(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ls.prototype.h=function(){this.defaultPrevented=!0};var qU=function(){if(!gn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{gn.addEventListener("test",gb,e),gn.removeEventListener("test",gb,e)}catch{}return n}();function _b(n){return/^[\s\xa0]*$/.test(n)}var VR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function sA(n,e){return n<e?-1:n>e?1:0}function vb(){var n=gn.navigator;return n&&(n=n.userAgent)?n:""}function mc(n){return-1!=vb().indexOf(n)}function oA(n){return oA[" "](n),n}function UR(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}oA[" "]=gb;var wb,n,WU=mc("Opera"),Wg=mc("Trident")||mc("MSIE"),BR=mc("Edge"),aA=BR||Wg,jR=mc("Gecko")&&!(-1!=vb().toLowerCase().indexOf("webkit")&&!mc("Edge"))&&!(mc("Trident")||mc("MSIE"))&&!mc("Edge"),KU=-1!=vb().toLowerCase().indexOf("webkit")&&!mc("Edge");function $R(){var n=gn.document;return n?n.documentMode:void 0}e:{var cA="",lA=(n=vb(),jR?/rv:([^\);]+)(\)|;)/.exec(n):BR?/Edge\/([\d\.]+)/.exec(n):Wg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KU?/WebKit\/(\S+)/.exec(n):WU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(lA&&(cA=lA?lA[1]:""),Wg){var uA=$R();if(null!=uA&&uA>parseFloat(cA)){wb=String(uA);break e}}wb=cA}var ZU={},QU=gn.document&&Wg&&($R()||parseInt(wb,10))||void 0;function rv(n,e){if(ls.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jR){e:{try{oA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rv.$.h.call(this)}}Ri(rv,ls);var JU={2:"touch",3:"pen",4:"mouse"};rv.prototype.h=function(){rv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var iv="closure_listenable_"+(1e6*Math.random()|0),XU=0;function eB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++XU,this.fa=this.ia=!1}function Eb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function hA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function zR(n){const e={};for(const t in n)e[t]=n[t];return e}const GR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qR(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<GR.length;a++)t=GR[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function bb(n){this.src=n,this.g={},this.h=0}function fA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=FR(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Eb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}bb.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=pA(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new eB(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var gA="closure_lm_"+(1e6*Math.random()|0),mA={};function WR(n,e,t,r,i){if(r&&r.once)return ZR(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)WR(n,e[a],t,r,i);return null}return t=wA(t),n&&n[iv]?n.O(e,t,nv(r)?!!r.capture:!!r,i):KR(n,e,t,!1,r,i)}function KR(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=nv(i)?!!i.capture:!!i,p=_A(n);if(p||(n[gA]=p=new bb(n)),(t=p.add(e,t,r,l,a)).proxy)return t;if(r=function tB(){const e=nB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)qU||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(QR(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ZR(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)ZR(n,e[a],t,r,i);return null}return t=wA(t),n&&n[iv]?n.P(e,t,nv(r)?!!r.capture:!!r,i):KR(n,e,t,!0,r,i)}function YR(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)YR(n,e[a],t,r,i);else r=nv(r)?!!r.capture:!!r,t=wA(t),n&&n[iv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pA(a=n.g[e],t,r,i))&&(Eb(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=_A(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pA(e,t,r,i)),(t=-1<n?e[n]:null)&&yA(t))}function yA(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[iv])fA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(QR(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_A(e))?(fA(t,n),0==t.h&&(t.src=null,e[gA]=null)):Eb(n)}}}function QR(n){return n in mA?mA[n]:mA[n]="on"+n}function nB(n,e){if(n.fa)n=!0;else{e=new rv(e,this);var t=n.listener,r=n.la||n.src;n.ia&&yA(n),n=t.call(r,e)}return n}function _A(n){return(n=n[gA])instanceof bb?n:null}var vA="__closure_events_fn_"+(1e9*Math.random()>>>0);function wA(n){return"function"==typeof n?n:(n[vA]||(n[vA]=function(e){return n.handleEvent(e)}),n[vA])}function Ni(){md.call(this),this.i=new bb(this),this.S=this,this.J=null}function Wi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ls(e,n);else if(e instanceof ls)e.target=e.target||n;else{var i=e;qR(e=new ls(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=Ib(l,r,!0,e)&&i}if(i=Ib(l=e.g=n,r,!0,e)&&i,i=Ib(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Ib(l=e.g=t[a],r,!1,e)&&i}function Ib(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var p=l.listener,_=l.la||l.src;l.ia&&fA(n.i,l),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Ri(Ni,md),Ni.prototype[iv]=!0,Ni.prototype.removeEventListener=function(n,e,t,r){YR(this,n,e,t,r)},Ni.prototype.N=function(){if(Ni.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Eb(t[r]);delete n.g[e],n.h--}}this.J=null},Ni.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ni.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var EA=gn.JSON.stringify;function rB(){var n=e1;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var bA,JR=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new sB,n=>n.reset());class sB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oB(n){gn.setTimeout(()=>{throw n},0)}function XR(n,e){bA||function aB(){var n=gn.Promise.resolve(void 0);bA=function(){n.then(cB)}}(),IA||(bA(),IA=!0),e1.add(n,e)}var IA=!1,e1=new class iB{constructor(){this.h=this.g=null}add(e,t){const r=JR.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function cB(){for(var n;n=rB();){try{n.h.call(n.g)}catch(t){oB(t)}var e=JR;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}IA=!1}function Cb(n,e){Ni.call(this),this.h=n||1,this.g=e||gn,this.j=cs(this.qb,this),this.l=Date.now()}function CA(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function DA(n,e,t){if("function"==typeof n)t&&(n=cs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cs(n.handleEvent,n)}return 2147483647<Number(e)?-1:gn.setTimeout(n,e||0)}function t1(n){n.g=DA(()=>{n.g=null,n.i&&(n.i=!1,t1(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ri(Cb,Ni),(_t=Cb.prototype).ga=!1,_t.T=null,_t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wi(this,"tick"),this.ga&&(CA(this),this.start()))}},_t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.N=function(){Cb.$.N.call(this),CA(this),delete this.g};class lB extends md{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:t1(this)}N(){super.N(),this.g&&(gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sv(n){md.call(this),this.h=n,this.g={}}Ri(sv,md);var n1=[];function r1(n,e,t,r){Array.isArray(t)||(t&&(n1[0]=t.toString()),t=n1);for(var i=0;i<t.length;i++){var a=WR(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function s1(n){hA(n.g,function(e,t){this.g.hasOwnProperty(t)&&yA(e)},n),n.g={}}function Db(){this.g=!0}function Kg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return EA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}sv.prototype.N=function(){sv.$.N.call(this),s1(this)},sv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Db.prototype.Ea=function(){this.g=!1},Db.prototype.info=function(){};var xf={},o1=null;function Tb(){return o1=o1||new Ni}function a1(n){ls.call(this,xf.Ta,n)}function ov(n){const e=Tb();Wi(e,new a1(e))}function c1(n,e){ls.call(this,xf.STAT_EVENT,n),this.stat=e}function As(n){const e=Tb();Wi(e,new c1(e,n))}function l1(n,e){ls.call(this,xf.Ua,n),this.size=e}function av(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return gn.setTimeout(function(){n()},e)}xf.Ta="serverreachability",Ri(a1,ls),xf.STAT_EVENT="statevent",Ri(c1,ls),xf.Ua="timingevent",Ri(l1,ls);var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},u1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function TA(){}function h1(){}TA.prototype.h=null;var MA,cv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function SA(){ls.call(this,"d")}function AA(){ls.call(this,"c")}function Ab(){}function lv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new sv(this),this.P=pB,this.V=new Cb(n=aA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new f1}function f1(){this.i=null,this.g="",this.h=!1}Ri(SA,ls),Ri(AA,ls),Ri(Ab,TA),Ab.prototype.g=function(){return new XMLHttpRequest},Ab.prototype.i=function(){return{}},MA=new Ab;var pB=45e3,xA={},Mb={};function OA(n,e,t){n.L=1,n.v=Pb(Rl(e)),n.s=t,n.S=!0,p1(n,null)}function p1(n,e){n.G=Date.now(),uv(n),n.A=Rl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),C1(t.i,"t",r),n.C=0,t=n.l.I,n.h=new f1,n.g=K1(n.l,t?e:null,!n.s),0<n.O&&(n.M=new lB(cs(n.Pa,n,n.g),n.O)),r1(n.U,n.g,"readystatechange",n.nb),e=n.I?zR(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ov(),function uB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",p=a.split("&"),_=0;_<p.length;_++){var E=p[_].split("=");if(1<E.length){var C=E[0];E=E[1];var M=C.split("_");l=2<=M.length&&"type"==M[1]?l+(C+"=")+E+"&":l+(C+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function g1(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function m1(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=gB(n,t),i==Mb){4==e&&(n.o=4,As(14),r=!1),Kg(n.j,n.m,null,"[Incomplete Response]");break}if(i==xA){n.o=4,As(15),Kg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kg(n.j,n.m,i,null),kA(n,i)}g1(n)&&i!=Mb&&i!=xA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,As(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),BA(e),e.L=!0,As(11))):(Kg(n.j,n.m,t,"[Invalid Chunked Response]"),Of(n),dv(n))}function gB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Mb:(t=Number(e.substring(t,r)),isNaN(t)?xA:(r+=1)+t>e.length?Mb:(e=e.substr(r,t),n.C=r+t,e))}function uv(n){n.Y=Date.now()+n.P,y1(n,n.P)}function y1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=av(cs(n.lb,n),e)}function xb(n){n.B&&(gn.clearTimeout(n.B),n.B=null)}function dv(n){0==n.l.H||n.J||z1(n.l,n)}function Of(n){xb(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,CA(n.V),s1(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function kA(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||PA(t.h,n)))if(!n.K&&PA(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ub(t),Lb(t)}UA(t),As(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=av(cs(t.ib,t),6e3));if(1>=S1(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Pf(t,11)}else if((n.K||t.g==n)&&Ub(t),!_b(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.J=E[1],t.oa=E[2];const C=E[3];null!=C&&(t.qa=C,t.j.info("VER="+t.qa));const M=E[4];null!=M&&(t.Ga=M,t.j.info("SVER="+t.Ga));const F=E[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const K=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var a=r.h;a.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(RA(a,a.h),a.h=null))}if(r.F){const te=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.Da=te,Ar(r.G,r.F,te))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=W1(r,r.I?r.oa:null,r.Y),l.K){A1(r.h,l);var p=l,_=r.K;_&&p.setTimeout(_),p.B&&(xb(p),uv(p)),r.g=l}else $1(r);0<t.i.length&&Vb(t)}else"stop"!=E[0]&&"close"!=E[0]||Pf(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Pf(t,7):VA(t):"noop"!=E[0]&&t.l&&t.l.Aa(E),t.A=0)}ov()}catch{}}function _1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function yB(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(mb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function mB(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(mb(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(_t=lv.prototype).setTimeout=function(n){this.P=n},_t.nb=function(n){n=n.target;const e=this.M;e&&3==Nl(n)?e.l():this.Pa(n)},_t.Pa=function(n){try{if(n==this.g)e:{const C=Nl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||aA||this.g&&(this.h.h||this.g.ja()||F1(this.g)))){this.J||4!=C||7==e||ov(),xb(this);var t=this.g.da();this.aa=t;t:if(g1(this)){var r=F1(this.g);n="";var i=r.length,a=4==Nl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Of(this),dv(this);var l="";break t}this.h.i=new gn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function dB(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_b(p)){var E=p;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,As(12),Of(this),dv(this);break e}Kg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kA(this,t)}this.S?(m1(this,C,l),aA&&this.i&&3==C&&(r1(this.U,this.V,"tick",this.mb),this.V.start())):(Kg(this.j,this.m,l,null),kA(this,l)),4==C&&Of(this),this.i&&!this.J&&(4==C?z1(this.l,this):(this.i=!1,uv(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,As(12)):(this.o=0,As(13)),Of(this),dv(this)}}}catch{}},_t.mb=function(){if(this.g){var n=Nl(this.g),e=this.g.ja();this.C<e.length&&(xb(this),m1(this,n,e),this.i&&4!=n&&uv(this))}},_t.cancel=function(){this.J=!0,Of(this)},_t.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ov(),As(17)),Of(this),this.o=2,dv(this)):y1(this,this.Y-n)};var v1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kf){this.h=void 0!==e?e:n.h,Ob(this,n.j),this.s=n.s,this.g=n.g,kb(this,n.m),this.l=n.l,e=n.i;var t=new pv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),w1(this,t),this.o=n.o}else n&&(t=String(n).match(v1))?(this.h=!!e,Ob(this,t[1]||"",!0),this.s=hv(t[2]||""),this.g=hv(t[3]||"",!0),kb(this,t[4]),this.l=hv(t[5]||"",!0),w1(this,t[6]||"",!0),this.o=hv(t[7]||"")):(this.h=!!e,this.i=new pv(null,this.h))}function Rl(n){return new kf(n)}function Ob(n,e,t){n.j=t?hv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function w1(n,e,t){e instanceof pv?(n.i=e,function CB(n,e){e&&!n.j&&(yd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(b1(this,r),C1(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fv(e,bB)),n.i=new pv(e,n.h))}function Ar(n,e,t){n.i.set(e,t)}function Pb(n){return Ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fv(e,E1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fv(e,E1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fv(t,"/"==t.charAt(0)?EB:wB,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fv(t,IB)),n.join("")};var E1=/[#\/\?@]/g,wB=/[#\?:]/g,EB=/[#\?]/g,bB=/[#\?@]/g,IB=/#/g;function pv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yd(n){n.g||(n.g=new Map,n.h=0,n.i&&function _B(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function b1(n,e){yd(n),e=Zg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function I1(n,e){return yd(n),e=Zg(n,e),n.g.has(e)}function C1(n,e,t){b1(n,e),0<t.length&&(n.i=null,n.g.set(Zg(n,e),iA(t)),n.h+=t.length)}function Zg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function D1(n){this.l=n||TB,n=gn.PerformanceNavigationTiming?0<(n=gn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(gn.g&&gn.g.Ka&&gn.g.Ka()&&gn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=pv.prototype).add=function(n,e){yd(this),this.i=null,n=Zg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_t.forEach=function(n,e){yd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},_t.sa=function(){yd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},_t.Z=function(n){yd(this);let e=[];if("string"==typeof n)I1(this,n)&&(e=e.concat(this.g.get(Zg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_t.set=function(n,e){return yd(this),this.i=null,I1(this,n=Zg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_t.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var TB=10;function T1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function S1(n){return n.h?1:n.g?n.g.size:0}function PA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RA(n,e){n.g?n.g.add(e):n.h=e}function A1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function M1(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return iA(n.i)}function NA(){}function SB(){this.g=new NA}function AB(n,e,t){const r=t||"";try{_1(n,function(i,a){let l=i;nv(i)&&(l=EA(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rb(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gv(n){this.l=n.fc||null,this.j=n.ob||!1}function Nb(n,e){Ni.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=FA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}D1.prototype.cancel=function(){if(this.i=M1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NA.prototype.stringify=function(n){return gn.JSON.stringify(n,void 0)},NA.prototype.parse=function(n){return gn.JSON.parse(n,void 0)},Ri(gv,TA),gv.prototype.g=function(){return new Nb(this.l,this.j)},gv.prototype.i=function(n){return function(){return n}}({}),Ri(Nb,Ni);var FA=0;function x1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function mv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yv(n)}function yv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=Nb.prototype).open=function(n,e){if(this.readyState!=FA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yv(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||gn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mv(this)),this.readyState=FA},_t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yv(this)),this.g&&(this.readyState=3,yv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof gn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mv(this):yv(this),3==this.readyState&&x1(this)}},_t.Za=function(n){this.g&&(this.response=this.responseText=n,mv(this))},_t.Ya=function(n){this.g&&(this.response=n,mv(this))},_t.ka=function(){this.g&&mv(this)},_t.setRequestHeader=function(n,e){this.v.append(n,e)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Nb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xB=gn.JSON.parse;function Zr(n){Ni.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=O1,this.L=this.M=!1}Ri(Zr,Ni);var O1="",OB=/^https?$/i,kB=["POST","PUT"];function k1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,P1(n),Fb(n)}function P1(n){n.F||(n.F=!0,Wi(n,"complete"),Wi(n,"error"))}function R1(n){if(n.h&&typeof nA<"u"&&(!n.C[1]||4!=Nl(n)||2!=n.da()))if(n.v&&4==Nl(n))DA(n.La,0,n);else if(Wi(n,"readystatechange"),4==Nl(n)){n.h=!1;try{const p=n.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.I).match(v1)[1]||null;if(!i&&gn.self&&gn.self.location){var a=gn.self.location.protocol;i=a.substr(0,a.length-1)}r=!OB.test(i?i.toLowerCase():"")}t=r}if(t)Wi(n,"complete"),Wi(n,"success");else{n.m=6;try{var l=2<Nl(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",P1(n)}}finally{Fb(n)}}}function Fb(n,e){if(n.g){N1(n);const t=n.g,r=n.C[0]?gb:null;n.g=null,n.C=null,e||Wi(n,"ready");try{t.onreadystatechange=r}catch{}}}function N1(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(gn.clearTimeout(n.A),n.A=null)}function Nl(n){return n.g?n.g.readyState:0}function F1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case O1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function L1(n){let e="";return hA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function LA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=L1(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ar(n,e,t))}function _v(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function V1(n){this.Ga=0,this.i=[],this.j=new Db,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_v("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_v("baseRetryDelayMs",5e3,n),this.hb=_v("retryDelaySeedMs",1e4,n),this.eb=_v("forwardChannelMaxRetries",2,n),this.xa=_v("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new D1(n&&n.concurrentRequestLimit),this.Ja=new SB,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function VA(n){if(U1(n),3==n.H){var e=n.W++,t=Rl(n.G);Ar(t,"SID",n.J),Ar(t,"RID",e),Ar(t,"TYPE","terminate"),vv(n,t),(e=new lv(n,n.j,e,void 0)).L=2,e.v=Pb(Rl(t)),t=!1,gn.navigator&&gn.navigator.sendBeacon&&(t=gn.navigator.sendBeacon(e.v.toString(),"")),!t&&gn.Image&&((new Image).src=e.v,t=!0),t||(e.g=K1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),uv(e)}q1(n)}function Lb(n){n.g&&(BA(n),n.g.cancel(),n.g=null)}function U1(n){Lb(n),n.u&&(gn.clearTimeout(n.u),n.u=null),Ub(n),n.h.cancel(),n.m&&("number"==typeof n.m&&gn.clearTimeout(n.m),n.m=null)}function Vb(n){T1(n.h)||n.m||(n.m=!0,XR(n.Na,n),n.C=0)}function B1(n,e){var t;t=e?e.m:n.W++;const r=Rl(n.G);Ar(r,"SID",n.J),Ar(r,"RID",t),Ar(r,"AID",n.V),vv(n,r),n.o&&n.s&&LA(r,n.o,n.s),t=new lv(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=j1(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),RA(n.h,t),OA(t,r,e)}function vv(n,e){n.ma&&hA(n.ma,function(t,r){Ar(e,r,t)}),n.l&&_1({},function(t,r){Ar(e,r,t)})}function j1(n,e,t){t=Math.min(n.i.length,t);var r=n.l?cs(n.l.Va,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let p=!0;for(let _=0;_<t;_++){let E=i[_].h;const C=i[_].g;if(E-=a,0>E)a=Math.max(0,i[_].h-100),p=!1;else try{AB(C,l,"req"+E+"_")}catch{r&&r(C)}}if(p){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function $1(n){n.g||n.u||(n.ba=1,XR(n.Ma,n),n.A=0)}function UA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=av(cs(n.Ma,n),G1(n,n.A)),n.A++,0))}function BA(n){null!=n.B&&(gn.clearTimeout(n.B),n.B=null)}function H1(n){n.g=new lv(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Rl(n.wa);Ar(e,"RID","rpc"),Ar(e,"SID",n.J),Ar(e,"CI",n.M?"0":"1"),Ar(e,"AID",n.V),Ar(e,"TYPE","xmlhttp"),vv(n,e),n.o&&n.s&&LA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=Pb(Rl(e)),t.s=null,t.S=!0,p1(t,n)}function Ub(n){null!=n.v&&(gn.clearTimeout(n.v),n.v=null)}function z1(n,e){var t=null;if(n.g==e){Ub(n),BA(n),n.g=null;var r=2}else{if(!PA(n.h,e))return;t=e.F,A1(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Wi(r=Tb(),new l1(r,t)),Vb(n)}else $1(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function RB(n,e){return!(S1(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=av(cs(n.Na,n,e),G1(n,n.C)),n.C++,0)))}(n,e)||2==r&&UA(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Pf(n,5);break;case 4:Pf(n,10);break;case 3:Pf(n,6);break;default:Pf(n,2)}}function G1(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Pf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=cs(n.pb,n);t||(t=new kf("//www.google.com/images/cleardot.gif"),gn.location&&"http"==gn.location.protocol||Ob(t,"https"),Pb(t)),function MB(n,e){const t=new Db;if(gn.Image){const r=new Image;r.onload=yb(Rb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yb(Rb,t,r,"TestLoadImage: error",!1,e),r.onabort=yb(Rb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yb(Rb,t,r,"TestLoadImage: timeout",!1,e),gn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else As(2);n.H=0,n.l&&n.l.za(e),q1(n),U1(n)}function q1(n){if(n.H=0,n.pa=[],n.l){const e=M1(n.h);(0!=e.length||0!=n.i.length)&&(LR(n.pa,e),LR(n.pa,n.i),n.h.i.length=0,iA(n.i),n.i.length=0),n.l.ya()}}function W1(n,e,t){var r=t instanceof kf?Rl(t):new kf(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),kb(r,r.m);else{var i=gn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new kf(null,void 0);r&&Ob(a,r),e&&(a.g=e),i&&kb(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Ar(r,t,e),Ar(r,"VER",n.qa),vv(n,r),r}function K1(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zr(t&&n.Ha&&!n.va?new gv({ob:!0}):n.va)).Oa(n.I),e}function Z1(){}function Bb(){if(Wg&&!(10<=Number(QU)))throw Error("Environmental error: no available transport.")}function fo(n,e){Ni.call(this),this.g=new V1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!_b(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_b(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yg(this)}function Y1(n){SA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Q1(){AA.call(this),this.status=1}function Yg(n){this.g=n}function Aa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jA(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Kn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(_t=Zr.prototype).Oa=function(n){this.M=n},_t.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():MA.g(),this.C=function d1(n){return n.h||(n.h=n.i())}(this.u?this.u:MA),this.g.onreadystatechange=cs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void k1(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=gn.FormData&&n instanceof gn.FormData,!(0<=FR(kB,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{N1(this),0<this.B&&((this.L=function PB(n){return Wg&&function YU(){return UR(ZU,9,function(){let n=0;const e=VR(String(wb)).split("."),t=VR("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=sA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||sA(0==i[2].length,0==a[2].length)||sA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cs(this.ua,this)):this.A=DA(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){k1(this,a)}},_t.ua=function(){typeof nA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wi(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wi(this,"complete"),Wi(this,"abort"),Fb(this))},_t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fb(this,!0)),Zr.$.N.call(this)},_t.La=function(){this.s||(this.G||this.v||this.l?R1(this):this.kb())},_t.kb=function(){R1(this)},_t.da=function(){try{return 2<Nl(this)?this.g.status:-1}catch{return-1}},_t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xB(e)}},_t.Ia=function(){return this.m},_t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=V1.prototype).qa=8,_t.H=1,_t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new lv(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=zR(a),qR(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=j1(this,i,e),Ar(t=Rl(this.G),"RID",n),Ar(t,"CVER",22),this.F&&Ar(t,"X-HTTP-Session-Id",this.F),vv(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(L1(a)))+"&"+e:this.o&&LA(t,this.o,a)),RA(this.h,i),this.bb&&Ar(t,"TYPE","init"),this.P?(Ar(t,"$req",e),Ar(t,"SID","null"),i.ba=!0,OA(i,t,null)):OA(i,t,e),this.H=2}}else 3==this.H&&(n?B1(this,n):0==this.i.length||T1(this.h)||B1(this))},_t.Ma=function(){if(this.u=null,H1(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=av(cs(this.jb,this),n)}},_t.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,As(10),Lb(this),H1(this))},_t.ib=function(){null!=this.v&&(this.v=null,Lb(this),UA(this),As(19))},_t.pb=function(n){n?(this.j.info("Successfully pinged google.com"),As(2)):(this.j.info("Failed to ping google.com"),As(1))},(_t=Z1.prototype).Ba=function(){},_t.Aa=function(){},_t.za=function(){},_t.ya=function(){},_t.Va=function(){},Bb.prototype.g=function(n,e){return new fo(n,e)},Ri(fo,Ni),fo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;As(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=W1(n,null,n.Y),Vb(n)},fo.prototype.close=function(){VA(this.g)},fo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=EA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Vb(e)},fo.prototype.N=function(){this.g.l=null,delete this.j,VA(this.g),delete this.g,fo.$.N.call(this)},Ri(Y1,SA),Ri(Q1,AA),Ri(Yg,Z1),Yg.prototype.Ba=function(){Wi(this.g,"a")},Yg.prototype.Aa=function(n){Wi(this.g,new Y1(n))},Yg.prototype.za=function(n){Wi(this.g,new Q1)},Yg.prototype.ya=function(){Wi(this.g,"b")},Ri(Aa,function NB(){this.blockSize=-1}),Aa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Aa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)jA(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){jA(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){jA(this,r),i=0;break}}this.h=i,this.i+=e},Aa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var FB={};function $A(n){return-128<=n&&128>n?UR(FB,n,function(e){return new Kn([0|e],0>e?-1:0)}):new Kn([0|n],0>n?-1:0)}function yc(n){if(isNaN(n)||!isFinite(n))return Qg;if(0>n)return Ki(yc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=HA;return new Kn(e,0)}var HA=4294967296,Qg=$A(0),zA=$A(1),X1=$A(16777216);function Fl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Fo(n){return-1==n.h}function Ki(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Kn(t,~n.h).add(zA)}function jb(n,e){return n.add(Ki(e))}function $b(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function wv(n,e){this.g=n,this.h=e}function Hb(n,e){if(Fl(e))throw Error("division by zero");if(Fl(n))return new wv(Qg,Qg);if(Fo(n))return e=Hb(Ki(n),e),new wv(Ki(e.g),Ki(e.h));if(Fo(e))return e=Hb(n,Ki(e)),new wv(Ki(e.g),e.h);if(30<n.g.length){if(Fo(n)||Fo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=zA,r=e;0>=r.X(n);)t=eN(t),r=eN(r);var i=Jg(t,1),a=Jg(r,1);for(r=Jg(r,2),t=Jg(t,2);!Fl(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Jg(r,1),t=Jg(t,1)}return e=jb(n,i.R(e)),new wv(i,e)}for(i=Qg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=yc(t)).R(e);Fo(l)||0<l.X(n);)l=(a=yc(t-=r)).R(e);Fl(a)&&(a=zA),i=i.add(a),n=jb(n,l)}return new wv(i,n)}function eN(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Kn(t,n.h)}function Jg(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Kn(i,n.h)}(_t=Kn.prototype).ea=function(){if(Fo(this))return-Ki(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:HA+r)*e,e*=HA}return n},_t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Fl(this))return"0";if(Fo(this))return"-"+Ki(this).toString(n);for(var e=yc(Math.pow(n,6)),t=this,r="";;){var i=Hb(t,e).g,a=((0<(t=jb(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Fl(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},_t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_t.X=function(n){return Fo(n=jb(this,n))?-1:Fl(n)?0:1},_t.abs=function(){return Fo(this)?Ki(this):this},_t.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new Kn(t,-2147483648&t[t.length-1]?-1:0)},_t.R=function(n){if(Fl(this)||Fl(n))return Qg;if(Fo(this))return Fo(n)?Ki(this).R(Ki(n)):Ki(Ki(this).R(n));if(Fo(n))return Ki(this.R(Ki(n)));if(0>this.X(X1)&&0>n.X(X1))return yc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),p=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=l*_,$b(t,2*r+2*i),t[2*r+2*i+1]+=a*_,$b(t,2*r+2*i+1),t[2*r+2*i+1]+=l*p,$b(t,2*r+2*i+1),t[2*r+2*i+2]+=a*p,$b(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Kn(t,0)},_t.gb=function(n){return Hb(this,n).h},_t.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Kn(t,this.h&n.h)},_t.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Kn(t,this.h|n.h)},_t.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Kn(t,this.h^n.h)},Bb.prototype.createWebChannel=Bb.prototype.g,fo.prototype.send=fo.prototype.u,fo.prototype.open=fo.prototype.m,fo.prototype.close=fo.prototype.close,Sb.NO_ERROR=0,Sb.TIMEOUT=8,Sb.HTTP_ERROR=6,u1.COMPLETE="complete",h1.EventType=cv,cv.OPEN="a",cv.CLOSE="b",cv.ERROR="c",cv.MESSAGE="d",Ni.prototype.listen=Ni.prototype.O,Zr.prototype.listenOnce=Zr.prototype.P,Zr.prototype.getLastError=Zr.prototype.Sa,Zr.prototype.getLastErrorCode=Zr.prototype.Ia,Zr.prototype.getStatus=Zr.prototype.da,Zr.prototype.getResponseJson=Zr.prototype.Wa,Zr.prototype.getResponseText=Zr.prototype.ja,Zr.prototype.send=Zr.prototype.ha,Zr.prototype.setWithCredentials=Zr.prototype.Oa,Aa.prototype.digest=Aa.prototype.l,Aa.prototype.reset=Aa.prototype.reset,Aa.prototype.update=Aa.prototype.j,Kn.prototype.add=Kn.prototype.add,Kn.prototype.multiply=Kn.prototype.R,Kn.prototype.modulo=Kn.prototype.gb,Kn.prototype.compare=Kn.prototype.X,Kn.prototype.toNumber=Kn.prototype.ea,Kn.prototype.toString=Kn.prototype.toString,Kn.prototype.getBits=Kn.prototype.D,Kn.fromNumber=yc,Kn.fromString=function J1(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ki(J1(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yc(Math.pow(e,8)),r=Qg,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=yc(Math.pow(e,a)),r=r.R(a).add(yc(l))):r=(r=r.R(t)).add(yc(l))}return r};var LB=Sa.createWebChannelTransport=function(){return new Bb},VB=Sa.getStatEventTarget=function(){return Tb()},GA=Sa.ErrorCode=Sb,UB=Sa.EventType=u1,BB=Sa.Event=xf,tN=Sa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jB=Sa.FetchXmlHttpFactory=gv,zb=Sa.WebChannel=h1,$B=Sa.XhrIo=Zr,HB=Sa.Md5=Aa,Xg=Sa.Integer=Kn;const nN="@firebase/firestore";class Fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let em="9.22.0";const _d=new gd.Yd("@firebase/firestore");function qA(){return _d.logLevel}function We(n,...e){if(_d.logLevel<=gd.in.DEBUG){const t=e.map(WA);_d.debug(`Firestore (${em}): ${n}`,...t)}}function li(n,...e){if(_d.logLevel<=gd.in.ERROR){const t=e.map(WA);_d.error(`Firestore (${em}): ${n}`,...t)}}function Lo(n,...e){if(_d.logLevel<=gd.in.WARN){const t=e.map(WA);_d.warn(`Firestore (${em}): ${n}`,...t)}}function WA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function It(n="Unexpected state"){const e=`FIRESTORE (${em}) INTERNAL ASSERTION FAILED: `+n;throw li(e),new Error(e)}function Rt(n,e){n||It()}function ht(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fi.UNAUTHENTICATED))}shutdown(){}}class WB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KB{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let l=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Di,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const E=l;e.enqueueRetryable((0,Te.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},_=E=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Di)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt("string"==typeof r.accessToken),new rN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new Fi(e)}}class ZB{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class YB{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ZB(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QB{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,We("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.T=t.token,new iN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function JB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function un(n,e){return n<e?-1:n>e?1:0}function tm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function oN(n){return n+"\0"}class Mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mr.fromMillis(Date.now())}static fromDate(e){return Mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Mr(0,0))}static max(){return new Lt(new Mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ev{constructor(e,t,r){void 0===t?t=0:t>e.length&&It(),void 0===r?r=e.length-t:r>e.length-t&&It(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ev.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ev?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kn extends Ev{construct(e,t,r){return new kn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new kn(t)}static emptyPath(){return new kn([])}}const XB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends Ev{construct(e,t,r){return new Yr(e,t,r)}static isValidIdentifier(e){return XB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Le(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Le(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Le(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(l=!l,i++):"."!==p||l?(r+=p,i++):(a(),i++)}if(a(),l)throw new Le(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yr(t)}static emptyPath(){return new Yr([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(kn.fromString(e))}static fromName(e){return new at(kn.fromString(e).popFirst(5))}static empty(){return new at(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new kn(e.slice()))}}class Gb{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function KA(n){return n.fields.find(e=>2===e.kind)}function Rf(n){return n.fields.filter(e=>2!==e.kind)}Gb.UNKNOWN_ID=-1;class qb{constructor(e,t){this.fieldPath=e,this.kind=t}}class bv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bv(0,po.min())}}function aN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(1e9===r?new Mr(t+1,0):new Mr(t,r));return new po(i,at.empty(),e)}function cN(n){return new po(n.readTime,n.key,-1)}class po{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new po(Lt.min(),at.empty(),-1)}static max(){return new po(Lt.max(),at.empty(),-1)}}function ZA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:un(n.largestBatchId,e.largestBatchId))}const lN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vd(n){return YA.apply(this,arguments)}function YA(){return YA=(0,Te.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==lN)throw n;We("LocalStore","Unexpectedly lost primary lease")}),YA.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,a=0,l=!1;e.forEach(p=>{++i,p.next(()=>{++a,l&&a===i&&t()},_=>r(_))}),l=!0,a===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const a=e.length,l=new Array(a);let p=0;for(let _=0;_<a;_++){const E=_;t(e[E]).next(C=>{l[E]=C,++p,p===a&&r(l)},C=>i(C))}})}static doWhile(e,t){return new le((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class Wb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Di,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Iv(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=QA(r.target.error);this.v.reject(new Iv(e,i))}}static open(e,t,r,i){try{return new Wb(t,e.transaction(i,r))}catch(a){throw new Iv(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(We("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new rj(t)}}class Ma{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ma.S((0,Un.z$)())&&li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return We("SimpleDb","Removing database:",e),Nf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Un.hl)())return!1;if(Ma.C())return!0;const e=(0,Un.z$)(),t=Ma.S(e),r=0<t&&t<10,i=Ma.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Te.Z)(function*(){return t.db||(We("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new Iv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const p=l.target.error;i("VersionError"===p.name?new Le(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Le(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Iv(e,p))},a.onupgradeneeded=l=>{We("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{We("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Te.Z)(function*(){const l="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.$(e);const _=Wb.open(a.db,e,l?"readonly":"readwrite",r),E=i(_).next(C=>(_.P(),C)).catch(C=>(_.abort(C),le.reject(C))).toPromise();return E.catch(()=>{}),yield _.R,E}catch(_){const E=_,C="FirebaseError"!==E.name&&p<3;if(We("SimpleDb","Transaction failed with error:",E.message,"Retrying:",C),a.close(),!C)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nj{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Nf(this.L.delete())}}class Iv extends Le{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wd(n){return"IndexedDbTransactionError"===n.name}class rj{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(We("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(We("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Nf(r)}add(e){return We("SimpleDb","ADD",this.store.name,e,e),Nf(this.store.add(e))}get(e){return Nf(this.store.get(e)).next(t=>(void 0===t&&(t=null),We("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return We("SimpleDb","DELETE",this.store.name,e),Nf(this.store.delete(e))}count(){return We("SimpleDb","COUNT",this.store.name),Nf(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,p)=>{a.push(p)}).next(()=>a)}{const i=this.store.getAll(r.range);return new le((a,l)=>{i.onerror=p=>{l(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){We("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,p)=>p.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=a=>{const l=QA(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(p=>{p?l.continue():r()}):r()}})}W(e,t){const r=[];return new le((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const p=l.target.result;if(!p)return void i();const _=new nj(p),E=t(p.primaryKey,p.value,_);if(E instanceof le){const C=E.catch(M=>(_.done(),le.reject(M)));r.push(C)}_.isDone?i():null===_.K?p.continue():p.continue(_.K)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nf(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=QA(r.target.error);t(i)}})}let dN=!1;function QA(n){const e=Ma.S((0,Un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dN||(dN=!0,setTimeout(()=>{throw r},0)),r}}return n}class ij{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;We("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{We("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){wd(r)?We("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield vd(r)}yield t.et(6e4)}))}}class sj{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return le.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return We("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(p=>{i-=p,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(p=>(We("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=cN(a);ZA(l,r)>0&&(r=l)}),new po(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let go=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Cv(n){return null==n}function Dv(n){return 0===n&&1/n==-1/0}function hN(n){return"number"==typeof n&&Number.isInteger(n)&&!Dv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function us(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fN(e)),e=oj(n.get(t),e);return fN(e)}function oj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function fN(n){return n+"\x01\x01"}function _c(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&It(),n.charAt(l+1)){case"\x01":const p=n.substring(a,l);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:It()}a=l+2}return new kn(r)}const pN=["userId","batchId"];function Kb(n,e){return[n,us(e)]}function gN(n,e,t){return[n,us(e),t]}const aj={},cj=["prefixPath","collectionGroup","readTime","documentId"],lj=["prefixPath","collectionGroup","documentId"],uj=["collectionGroup","readTime","prefixPath","documentId"],dj=["canonicalId","targetId"],hj=["targetId","path"],fj=["path","targetId"],pj=["collectionId","parent"],gj=["indexId","uid"],mj=["uid","sequenceNumber"],yj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_j=["indexId","uid","orderedDocumentKey"],vj=["userId","collectionPath","documentId"],wj=["userId","collectionPath","largestBatchId"],Ej=["userId","collectionGroup","largestBatchId"],mN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bj=[...mN,"documentOverlays"],yN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_N=yN,Ij=[..._N,"indexConfiguration","indexState","indexEntries"];class JA extends uN{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Li(n,e){const t=ht(n);return Ma.M(t.ht,e)}function vN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ed(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hr{constructor(e,t){this.comparator=e,this.root=t||Zi.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zb(this.root,e,this.comparator,!0)}}class Zb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Zi.RED,this.left=i??Zi.EMPTY,this.right=a??Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Zi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Zi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1,Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Zi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EN(this.data.getIterator())}getIteratorFrom(e){return new EN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wr(this.comparator);return t.data=e,t}}class EN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nm(n){return n.hasNext()?n.getNext():void 0}class Ws{constructor(e){this.fields=e,e.sort(Yr.comparator)}static empty(){return new Ws([])}unionWith(e){let t=new wr(Yr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bN("Invalid base64 string: "+i):i}}(e);return new Ti(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const Dj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bd(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=Dj.exec(n);if(Rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ll(n){return"string"==typeof n?Ti.fromBase64String(n):Ti.fromUint8Array(n)}function Yb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qb(n){const e=n.mapValue.fields.__previous_value__;return Yb(e)?Qb(e):e}function Tv(n){const e=bd(n.mapValue.fields.__local_write_time__.timestampValue);return new Mr(e.seconds,e.nanos)}class Tj{constructor(e,t,r,i,a,l,p,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=E}}class Id{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Id("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}const Cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jb={nullValue:"NULL_VALUE"};function Dd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yb(n)?4:TN(n)?9007199254740991:10:It()}function vc(n,e){if(n===e)return!0;const t=Dd(n);if(t!==Dd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tv(n).isEqual(Tv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=bd(r.timestampValue),l=bd(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ll(n.bytesValue).isEqual(Ll(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Qr(r.geoPointValue.latitude)===Qr(i.geoPointValue.latitude)&&Qr(r.geoPointValue.longitude)===Qr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qr(r.integerValue)===Qr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Qr(r.doubleValue),l=Qr(i.doubleValue);return a===l?Dv(a)===Dv(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return tm(n.arrayValue.values||[],e.arrayValue.values||[],vc);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(vN(a)!==vN(l))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===l[p]||!vc(a[p],l[p])))return!1;return!0}(n,e);default:return It()}var i}function Sv(n,e){return void 0!==(n.values||[]).find(t=>vc(t,e))}function Td(n,e){if(n===e)return 0;const t=Dd(n),r=Dd(e);if(t!==r)return un(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return un(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Qr(i.integerValue||i.doubleValue),p=Qr(a.integerValue||a.doubleValue);return l<p?-1:l>p?1:l===p?0:isNaN(l)?isNaN(p)?0:-1:1}(n,e);case 3:return IN(n.timestampValue,e.timestampValue);case 4:return IN(Tv(n),Tv(e));case 5:return un(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Ll(i),p=Ll(a);return l.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),p=a.split("/");for(let _=0;_<l.length&&_<p.length;_++){const E=un(l[_],p[_]);if(0!==E)return E}return un(l.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=un(Qr(i.latitude),Qr(a.latitude));return 0!==l?l:un(Qr(i.longitude),Qr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],p=a.values||[];for(let _=0;_<l.length&&_<p.length;++_){const E=Td(l[_],p[_]);if(E)return E}return un(l.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Cd.mapValue&&a===Cd.mapValue)return 0;if(i===Cd.mapValue)return 1;if(a===Cd.mapValue)return-1;const l=i.fields||{},p=Object.keys(l),_=a.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let C=0;C<p.length&&C<E.length;++C){const M=un(p[C],E[C]);if(0!==M)return M;const F=Td(l[p[C]],_[E[C]]);if(0!==F)return F}return un(p.length,E.length)}(n.mapValue,e.mapValue);default:throw It()}}function IN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return un(n,e);const t=bd(n),r=bd(e),i=un(t.seconds,r.seconds);return 0!==i?i:un(t.nanos,r.nanos)}function rm(n){return XA(n)}function XA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=bd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ll(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=XA(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const p of i)l?l=!1:a+=",",a+=`${p}:${XA(r.fields[p])}`;return a+"}"}(n.mapValue):It();var e}function Ff(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eM(n){return!!n&&"integerValue"in n}function Av(n){return!!n&&"arrayValue"in n}function CN(n){return!!n&&"nullValue"in n}function DN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eI(n){return!!n&&"mapValue"in n}function Mv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ed(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sj(n){return"nullValue"in n?Jb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ff(Id.empty(),at.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:It()}function Aj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ff(Id.empty(),at.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Cd:It()}function SN(n,e){const t=Td(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function AN(n,e){const t=Td(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mv(t)}setAll(e){let t=Yr.emptyPath(),r={},i=[];e.forEach((l,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}l?r[p.lastSegment()]=Mv(l):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());eI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];eI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ed(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Yi(Mv(this.value))}}function MN(n){const e=[];return Ed(n.fields,(t,r)=>{const i=new Yr([t]);if(eI(r)){const a=MN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Ws(e)}class Er{constructor(e,t,r,i,a,l,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=p}static newInvalidDocument(e){return new Er(e,0,Lt.min(),Lt.min(),Lt.min(),Yi.empty(),0)}static newFoundDocument(e,t,r,i){return new Er(e,1,t,Lt.min(),r,i,0)}static newNoDocument(e,t){return new Er(e,2,t,Lt.min(),Lt.min(),Yi.empty(),0)}static newUnknownDocument(e,t){return new Er(e,3,t,Lt.min(),Lt.min(),Yi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sd{constructor(e,t){this.position=e,this.inclusive=t}}function xN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?at.comparator(at.fromName(l.referenceValue),t.key):Td(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ON(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vc(n.position[t],e.position[t]))return!1;return!0}class im{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kN{}class Sn extends kN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new xj(e,t,r):"array-contains"===t?new Pj(e,r):"in"===t?new VN(e,r):"not-in"===t?new Rj(e,r):"array-contains-any"===t?new Nj(e,r):new Sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Oj(e,r):new kj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Td(t,this.value)):null!==t&&Dd(this.value)===Dd(t)&&this.matchesComparison(Td(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zn extends kN{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Zn(e,t)}matches(e){return sm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sm(n){return"and"===n.op}function tM(n){return"or"===n.op}function nM(n){return PN(n)&&sm(n)}function PN(n){for(const e of n.filters)if(e instanceof Zn)return!1;return!0}function rM(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+rm(n.value);if(nM(n))return n.filters.map(e=>rM(e)).join(",");{const e=n.filters.map(t=>rM(t)).join(",");return`${n.op}(${e})`}}function RN(n,e){return n instanceof Sn?(t=n,(r=e)instanceof Sn&&t.op===r.op&&t.field.isEqual(r.field)&&vc(t.value,r.value)):n instanceof Zn?function(t,r){return r instanceof Zn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&RN(a,r.filters[l]),!0)}(n,e):void It();var t,r}function NN(n,e){const t=n.filters.concat(e);return Zn.create(t,n.op)}function FN(n){return n instanceof Sn?`${(e=n).field.canonicalString()} ${e.op} ${rm(e.value)}`:n instanceof Zn?function(e){return e.op.toString()+" {"+e.getFilters().map(FN).join(" ,")+"}"}(n):"Filter";var e}class xj extends Sn{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.matchesComparison(t)}}class Oj extends Sn{constructor(e,t){super(e,"in",t),this.keys=LN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kj extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=LN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>at.fromName(r.referenceValue))}class Pj extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Av(t)&&Sv(t.arrayValue,this.value)}}class VN extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sv(this.value.arrayValue,t)}}class Rj extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sv(this.value.arrayValue,t)}}class Nj extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sv(this.value.arrayValue,r))}}class Fj{constructor(e,t=null,r=[],i=[],a=null,l=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=p,this.dt=null}}function iM(n,e=null,t=[],r=[],i=null,a=null,l=null){return new Fj(n,e,t,r,i,a,l)}function Lf(n){const e=ht(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>rM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Cv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rm(r)).join(",")),e.dt=t}return e.dt}function xv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ON(n.startAt,e.startAt)&&ON(n.endAt,e.endAt)}function tI(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function nI(n,e){return n.filters.filter(t=>t instanceof Sn&&t.field.isEqual(e))}function UN(n,e,t){let r=Jb,i=!0;for(const a of nI(n,e)){let l=Jb,p=!0;switch(a.op){case"<":case"<=":l=Sj(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,p=!1;break;case"!=":case"not-in":l=Jb}SN({value:r,inclusive:i},{value:l,inclusive:p})<0&&(r=l,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];SN({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function BN(n,e,t){let r=Cd,i=!0;for(const a of nI(n,e)){let l=Cd,p=!0;switch(a.op){case">=":case">":l=Aj(a.value),p=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,p=!1;break;case"!=":case"not-in":l=Cd}AN({value:r,inclusive:i},{value:l,inclusive:p})>0&&(r=l,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];AN({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Vl{constructor(e,t=null,r=[],i=[],a=null,l="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=p,this.endAt=_,this.wt=null,this._t=null}}function jN(n,e,t,r,i,a,l,p){return new Vl(n,e,t,r,i,a,l,p)}function om(n){return new Vl(n)}function $N(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function sM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function oM(n){return null!==n.collectionGroup}function Vf(n){const e=ht(n);if(null===e.wt){e.wt=[];const t=rI(e),r=sM(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new im(t)),e.wt.push(new im(Yr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new im(Yr.keyField(),a))}}}return e.wt}function Ms(n){const e=ht(n);if(!e._t)if("F"===e.limitType)e._t=iM(e.path,e.collectionGroup,Vf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Vf(e))t.push(new im(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Sd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sd(e.startAt.position,e.startAt.inclusive):null;e._t=iM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function aM(n,e){e.getFirstInequalityField(),rI(n);const t=n.filters.concat([e]);return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iI(n,e,t){return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ov(n,e){return xv(Ms(n),Ms(e))&&n.limitType===e.limitType}function HN(n){return`${Lf(Ms(n))}|lt:${n.limitType}`}function cM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>FN(r)).join(", ")}]`),Cv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rm(r)).join(",")),`Target(${t})`}(Ms(n))}; limitType=${n.limitType})`}function kv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):at.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Vf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const p=xN(i,a,l);return i.inclusive?p<=0:p<0}(t.startAt,Vf(t),r)||t.endAt&&!function(i,a,l){const p=xN(i,a,l);return i.inclusive?p>=0:p>0}(t.endAt,Vf(t),r)));var t,r}function zN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GN(n){return(e,t)=>{let r=!1;for(const i of Vf(n)){const a=Lj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Lj(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):function(i,a,l){const p=a.data.field(i),_=l.data.field(i);return null!==p&&null!==_?Td(p,_):It()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return It()}}class Ul{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ed(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return wN(this.inner)}size(){return this.innerSize}}const Vj=new hr(at.comparator);function Ks(){return Vj}const qN=new hr(at.comparator);function Pv(...n){let e=qN;for(const t of n)e=e.insert(t.key,t);return e}function WN(n){let e=qN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wc(){return Rv()}function KN(){return Rv()}function Rv(){return new Ul(n=>n.toString(),(n,e)=>n.isEqual(e))}const Uj=new hr(at.comparator),Bj=new wr(at.comparator);function yn(...n){let e=Bj;for(const t of n)e=e.add(t);return e}const jj=new wr(un);function lM(){return jj}function ZN(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dv(e)?"-0":e}}function YN(n){return{integerValue:""+n}}function QN(n,e){return hN(e)?YN(e):ZN(n,e)}class sI{constructor(){this._=void 0}}function $j(n,e,t){return n instanceof am?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Yb(i)&&(i=Qb(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Uf?XN(n,e):n instanceof Bf?eF(n,e):function(r,i){const a=JN(r,i),l=tF(a)+tF(r.gt);return eM(a)&&eM(r.gt)?YN(l):ZN(r.serializer,l)}(n,e)}function Hj(n,e,t){return n instanceof Uf?XN(n,e):n instanceof Bf?eF(n,e):t}function JN(n,e){return n instanceof cm?eM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class am extends sI{}class Uf extends sI{constructor(e){super(),this.elements=e}}function XN(n,e){const t=nF(e);for(const r of n.elements)t.some(i=>vc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bf extends sI{constructor(e){super(),this.elements=e}}function eF(n,e){let t=nF(e);for(const r of n.elements)t=t.filter(i=>!vc(i,r));return{arrayValue:{values:t}}}class cm extends sI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function tF(n){return Qr(n.integerValue||n.doubleValue)}function nF(n){return Av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Nv{constructor(e,t){this.field=e,this.transform=t}}class Gj{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class aI{}function rF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new um(n.key,xr.none()):new lm(n.key,n.data,xr.none());{const t=n.data,r=Yi.empty();let i=new wr(Yr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new Bl(n.key,r,new Ws(i.toArray()),xr.none())}}function qj(n,e,t){n instanceof lm?function(r,i,a){const l=r.value.clone(),p=oF(r.fieldTransforms,i,a.transformResults);l.setAll(p),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Bl?function(r,i,a){if(!oI(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=oF(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(sF(r)),p.setAll(l),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fv(n,e,t,r){return n instanceof lm?function(i,a,l,p){if(!oI(i.precondition,a))return l;const _=i.value.clone(),E=aF(i.fieldTransforms,p,a);return _.setAll(E),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Bl?function(i,a,l,p){if(!oI(i.precondition,a))return l;const _=aF(i.fieldTransforms,p,a),E=a.data;return E.setAll(sF(i)),E.setAll(_),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(l=t,oI(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function Wj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=JN(r.transform,i||null);null!=a&&(null===t&&(t=Yi.empty()),t.set(r.field,a))}return t||null}function iF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&tm(t,r,(i,a)=>function zj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Uf&&r instanceof Uf||t instanceof Bf&&r instanceof Bf?tm(t.elements,r.elements,vc):t instanceof cm&&r instanceof cm?vc(t.gt,r.gt):t instanceof am&&r instanceof am);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class lm extends aI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bl extends aI{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function oF(n,e,t){const r=new Map;Rt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,p=e.data.field(a.field);r.set(a.field,Hj(l,p,t[i]))}return r}function aF(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,$j(a,l,e))}return r}class um extends aI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uM extends aI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&qj(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=KN();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let p=this.applyToLocalView(l,a.mutatedFields);p=t.has(i.key)?null:p;const _=rF(l,p);null!==_&&r.set(i.key,_),l.isValidDocument()||l.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yn())}isEqual(e){return this.batchId===e.batchId&&tm(this.mutations,e.mutations,(t,r)=>iF(t,r))&&tm(this.baseMutations,e.baseMutations,(t,r)=>iF(t,r))}}class hM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Rt(e.mutations.length===r.length);let i=Uj;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new hM(e,t,r,i)}}class fM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zj{constructor(e,t){this.count=e,this.unchangedNames=t}}var mi,Pn;function cF(n){switch(n){default:return It();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function lF(n){if(void 0===n)return li("GRPC error has no .code"),de.UNKNOWN;switch(n){case mi.OK:return de.OK;case mi.CANCELLED:return de.CANCELLED;case mi.UNKNOWN:return de.UNKNOWN;case mi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case mi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case mi.INTERNAL:return de.INTERNAL;case mi.UNAVAILABLE:return de.UNAVAILABLE;case mi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case mi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case mi.NOT_FOUND:return de.NOT_FOUND;case mi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case mi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case mi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case mi.ABORTED:return de.ABORTED;case mi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case mi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case mi.DATA_LOSS:return de.DATA_LOSS;default:return It()}}(Pn=mi||(mi={}))[Pn.OK=0]="OK",Pn[Pn.CANCELLED=1]="CANCELLED",Pn[Pn.UNKNOWN=2]="UNKNOWN",Pn[Pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pn[Pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pn[Pn.NOT_FOUND=5]="NOT_FOUND",Pn[Pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pn[Pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pn[Pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pn[Pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pn[Pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pn[Pn.ABORTED=10]="ABORTED",Pn[Pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pn[Pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pn[Pn.INTERNAL=13]="INTERNAL",Pn[Pn.UNAVAILABLE=14]="UNAVAILABLE",Pn[Pn.DATA_LOSS=15]="DATA_LOSS";class pM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cI}static getOrCreateInstance(){return null===cI&&(cI=new pM),cI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let cI=null;function uF(){return new TextEncoder}const Yj=new Xg([4294967295,4294967295],0);function dF(n){const e=uF().encode(n),t=new HB;return t.update(e),new Uint8Array(t.digest())}function hF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xg([t,r],0),new Xg([i,a],0)]}class gM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Lv(`Invalid padding: ${t}`);if(r<0)throw new Lv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Lv(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Lv(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Xg.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Xg.fromNumber(r)));return 1===i.compare(Yj)&&(i=new Xg([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=dF(e),[r,i]=hF(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new gM(a,i,t);return r.forEach(p=>l.insert(p)),l}insert(e){if(0===this.It)return;const t=dF(e),[r,i]=hF(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Lv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vv{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Uv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Vv(Lt.min(),i,new hr(un),Ks(),yn())}}class Uv{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uv(r,t,yn(),yn(),yn())}}class lI{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class fF{constructor(e,t){this.targetId=e,this.Vt=t}}class pF{constructor(e,t,r=Ti.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class gF{constructor(){this.St=0,this.Dt=yF(),this.Ct=Ti.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yn(),t=yn(),r=yn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:It()}}),new Uv(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=yF()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ks(),this.zt=mF(),this.Wt=new hr(un)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:It()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(tI(l))if(0===i){const p=new at(l.path);this.Yt(r,p,Er.newNoDocument(p,Lt.min()))}else Rt(1===i);else{const p=this.ie(r);if(p!==i){const _=this.re(e,p);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=pM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(E,C,M){var F,B,K,te,ue,Je;const it={localCacheCount:C,existenceFilterCount:M.count},pt=M.unchangedNames;return pt&&(it.bloomFilter={applied:0===E,hashCount:null!==(F=pt?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(te=null===(K=null===(B=pt?.bits)||void 0===B?void 0:B.bitmap)||void 0===K?void 0:K.length)&&void 0!==te?te:0,padding:null!==(Je=null===(ue=pt?.bits)||void 0===ue?void 0:ue.padding)&&void 0!==Je?Je:0}),it}(_,p,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:p=0}=r;let _,E;try{_=Ll(a).toUint8Array()}catch(C){if(C instanceof bN)return Lo("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{E=new gM(_,l,p)}catch(C){return Lo(C instanceof Lv?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===E.It?1:i!==t-this.oe(e.targetId,E)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),p=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(p)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const p=this.se(l);if(p){if(a.current&&tI(p.target)){const _=new at(p.target.path);null!==this.jt.get(_)||this.ae(l,_)||this.Yt(l,_,Er.newNoDocument(_,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=yn();this.zt.forEach((a,l)=>{let p=!0;l.forEachWhile(_=>{const E=this.se(_);return!E||"TargetPurposeLimboResolution"===E.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new Vv(e,t,this.Wt,this.jt,r);return this.jt=Ks(),this.zt=mF(),this.Wt=new hr(un),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new gF,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new wr(un),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new gF),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function mF(){return new hr(at.comparator)}function yF(){return new hr(at.comparator)}const Jj={asc:"ASCENDING",desc:"DESCENDING"},Xj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e$={and:"AND",or:"OR"};class t${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mM(n,e){return n.useProto3Json||Cv(e)?e:{value:e}}function dm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _F(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function n$(n,e){return dm(n,e.toTimestamp())}function ui(n){return Rt(!!n),Lt.fromTimestamp(function(e){const t=bd(e);return new Mr(t.seconds,t.nanos)}(n))}function yM(n,e){return(t=n,new kn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vF(n){const e=kn.fromString(n);return Rt(AF(e)),e}function Bv(n,e){return yM(n.databaseId,e.path)}function Ec(n,e){const t=vF(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(EF(t))}function _M(n,e){return yM(n.databaseId,e)}function wF(n){const e=vF(n);return 4===e.length?kn.emptyPath():EF(e)}function jv(n){return new kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EF(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bF(n,e,t){return{name:Bv(n,e),fields:t.value.mapValue.fields}}function IF(n,e,t){const r=Ec(n,e.name),i=ui(e.updateTime),a=e.createTime?ui(e.createTime):Lt.min(),l=new Yi({mapValue:{fields:e.fields}}),p=Er.newFoundDocument(r,i,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function $v(n,e){let t;if(e instanceof lm)t={update:bF(n,e.key,e.value)};else if(e instanceof um)t={delete:Bv(n,e.key)};else if(e instanceof Bl)t={update:bF(n,e.key,e.data),updateMask:u$(e.fieldMask)};else{if(!(e instanceof uM))return It();t={verify:Bv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof am)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Uf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Bf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof cm)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw It()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:n$(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:It()),t;var i}function vM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?xr.updateTime(ui(i.updateTime)):void 0!==i.exists?xr.exists(i.exists):xr.none():xr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let p=null;"setToServerValue"in l?(Rt("REQUEST_TIME"===l.setToServerValue),p=new am):"appendMissingElements"in l?p=new Uf(l.appendMissingElements.values||[]):"removeAllFromArray"in l?p=new Bf(l.removeAllFromArray.values||[]):"increment"in l?p=new cm(a,l.increment):It();const _=Yr.fromServerFormat(l.fieldPath);return new Nv(_,p)}(n,i)):[];var i;if(e.update){const i=Ec(n,e.update.name),a=new Yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Ws((e.updateMask.fieldPaths||[]).map(E=>Yr.fromServerFormat(E)));return new Bl(i,a,l,t,r)}return new lm(i,a,t,r)}if(e.delete){const i=Ec(n,e.delete);return new um(i,t)}if(e.verify){const i=Ec(n,e.verify);return new uM(i,t)}return It()}function CF(n,e){return{documents:[_M(n,e.path)]}}function wM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=_M(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_M(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return SF(Zn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(E=>{return{field:Ad((C=E).field),direction:a$(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=mM(n,e.limit);var p,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function DF(n){let e=wF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Rt(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const M=TF(C);return M instanceof Zn&&nM(M)?M.getFilters():[M]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new im(hm((M=C).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(C){let M;return M="object"==typeof C?C.value:C,Cv(M)?null:M}(t.limit));let _=null;var C;t.startAt&&(_=new Sd((C=t.startAt).values||[],!!C.before));let E=null;return t.endAt&&(E=function(C){return new Sd(C.values||[],!C.before)}(t.endAt)),jN(e,i,l,a,p,"F",_,E)}function TF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hm(e.unaryFilter.field);return Sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=hm(e.unaryFilter.field);return Sn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hm(e.unaryFilter.field);return Sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hm(e.unaryFilter.field);return Sn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(n):void 0!==n.fieldFilter?Sn.create(hm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Zn.create(e.compositeFilter.filters.map(t=>TF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return It()}}(e.compositeFilter.op))}(n):It();var e}function a$(n){return Jj[n]}function c$(n){return Xj[n]}function l$(n){return e$[n]}function Ad(n){return{fieldPath:n.canonicalString()}}function hm(n){return Yr.fromServerFormat(n.fieldPath)}function SF(n){return n instanceof Sn?function(e){if("=="===e.op){if(DN(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NAN"}};if(CN(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(DN(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NOT_NAN"}};if(CN(e.value))return{unaryFilter:{field:Ad(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ad(e.field),op:c$(e.op),value:e.value}}}(n):n instanceof Zn?function(e){const t=e.getFilters().map(r=>SF(r));return 1===t.length?t[0]:{compositeFilter:{op:l$(e.op),filters:t}}}(n):It()}function u$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class jl{constructor(e,t,r,i,a=Lt.min(),l=Lt.min(),p=Ti.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MF{constructor(e){this.fe=e}}function xF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Bv(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:dm(i,a.version.toTimestamp()),createTime:dm(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:jf(e.version)};else{if(!e.isUnknownDocument())return It();r.unknownDocument={path:t.path.toArray(),version:jf(e.version)}}var i,a;return r}function uI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function jf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $f(n){const e=new Mr(n.seconds,n.nanoseconds);return Lt.fromTimestamp(e)}function Hf(n,e){const t=(e.baseMutations||[]).map(a=>vM(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>vM(n.fe,a)),i=Mr.fromMillis(e.localWriteTimeMs);return new dM(e.batchId,i,t,r)}function Hv(n){const e=$f(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?$f(n.lastLimboFreeSnapshotVersion):Lt.min();let r;var i;return void 0!==n.query.documents?(Rt(1===(i=n.query).documents.length),r=Ms(om(wF(i.documents[0])))):r=Ms(DF(n.query)),new jl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ti.fromBase64String(n.resumeToken))}function OF(n,e){const t=jf(e.snapshotVersion),r=jf(e.lastLimboFreeSnapshotVersion);let i;i=tI(e.target)?CF(n.fe,e.target):wM(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function EM(n){const e=DF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iI(e,e.limit,"L"):e}function bM(n,e){return new fM(e.largestBatchId,vM(n.fe,e.overlayMutation))}function kF(n,e){const t=e.path.lastSegment();return[n,us(e.path.popLast()),t]}function PF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:jf(r.readTime),documentKey:us(r.documentKey.path),largestBatchId:r.largestBatchId}}class h${getBundleMetadata(e,t){return RF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:$f(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return RF(e).put({bundleId:(r=t).id,createTime:jf(ui(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return NF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:EM(i.bundledQuery),readTime:$f(i.readTime)};var i})}saveNamedQuery(e,t){return NF(e).put({name:(r=t).name,readTime:jf(ui(r.readTime)),bundledQuery:r.bundledQuery});var r}}function RF(n){return Li(n,"bundles")}function NF(n){return Li(n,"namedQueries")}class dI{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new dI(e,t.uid||"")}getOverlay(e,t){return zv(e).get(kF(this.userId,t)).next(r=>r?bM(this.serializer,r):null)}getOverlays(e,t){const r=wc();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const p=new fM(t,l);i.push(this.we(e,p))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(us(l.getCollectionPath())));const a=[];return i.forEach(l=>{const p=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(zv(e).J("collectionPathOverlayIndex",p))}),le.waitFor(a)}getOverlaysForCollection(e,t,r){const i=wc(),a=us(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return zv(e).j("collectionPathOverlayIndex",l).next(p=>{for(const _ of p){const E=bM(this.serializer,_);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=wc();let l;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zv(e).X({index:"collectionGroupOverlayIndex",range:p},(_,E,C)=>{const M=bM(this.serializer,E);a.size()<i||M.largestBatchId===l?(a.set(M.getKey(),M),l=M.largestBatchId):C.done()}).next(()=>a)}we(e,t){return zv(e).put(function(r,i,a){const[l,p,_]=kF(i,a.mutation.key);return{userId:i,collectionPath:p,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:$v(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function zv(n){return Li(n,"documentOverlays")}class zf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Qr(e.integerValue));else if("doubleValue"in e){const r=Qr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Dv(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ll(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?TN(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):It()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),at.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function f$(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function FF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=f$(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}zf.Ve=new zf;class p${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=FF(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=FF(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class g${constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class m${constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Gv{constructor(){this.je=new p$,this.ze=new g$(this.je),this.We=new m$(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Gf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gf(this.indexId,this.documentKey,this.arrayValue,r)}}function Md(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=LF(n.arrayValue,e.arrayValue),0!==t?t:(t=LF(n.directionalValue,e.directionalValue),0!==t?t:at.comparator(n.documentKey,e.documentKey)))}function LF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class y${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Rt(e.collectionGroup===this.collectionId);const t=KA(e);if(void 0!==t&&!this.en(t))return!1;const r=Rf(e);let i=0,a=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const l=r[i];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[a++],l))return!1;++i}for(;i<r.length;++i)if(a>=this.Ye.length||!this.sn(this.Ye[a++],r[i]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function VF(n){var e,t;if(Rt(n instanceof Sn||n instanceof Zn),n instanceof Sn){if(n instanceof VN){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>Sn.create(n.field,"==",a)))||[];return Zn.create(i,"or")}return n}const r=n.filters.map(i=>VF(i));return Zn.create(r,n.op)}function _$(n){if(0===n.getFilters().length)return[];const e=DM(VF(n));return Rt(UF(e)),IM(e)||CM(e)?[e]:e.getFilters()}function IM(n){return n instanceof Sn}function CM(n){return n instanceof Zn&&nM(n)}function UF(n){return IM(n)||CM(n)||function(e){if(e instanceof Zn&&tM(e)){for(const t of e.getFilters())if(!IM(t)&&!CM(t))return!1;return!0}return!1}(n)}function DM(n){if(Rt(n instanceof Sn||n instanceof Zn),n instanceof Sn)return n;if(1===n.filters.length)return DM(n.filters[0]);const e=n.filters.map(r=>DM(r));let t=Zn.create(e,n.op);return t=hI(t),UF(t)?t:(Rt(t instanceof Zn),Rt(sm(t)),Rt(t.filters.length>1),t.filters.reduce((r,i)=>TM(r,i)))}function TM(n,e){let t;return Rt(n instanceof Sn||n instanceof Zn),Rt(e instanceof Sn||e instanceof Zn),t=n instanceof Sn?e instanceof Sn?Zn.create([n,e],"and"):BF(n,e):e instanceof Sn?BF(e,n):function(r,i){if(Rt(r.filters.length>0&&i.filters.length>0),sm(r)&&sm(i))return NN(r,i.getFilters());const a=tM(r)?r:i,l=tM(r)?i:r,p=a.filters.map(_=>TM(_,l));return Zn.create(p,"or")}(n,e),hI(t)}function BF(n,e){if(sm(e))return NN(e,n.getFilters());{const t=e.filters.map(r=>TM(n,r));return Zn.create(t,"or")}}function hI(n){if(Rt(n instanceof Sn||n instanceof Zn),n instanceof Sn)return n;const e=n.getFilters();if(1===e.length)return hI(e[0]);if(PN(n))return n;const t=e.map(i=>hI(i)),r=[];return t.forEach(i=>{i instanceof Sn?r.push(i):i instanceof Zn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Zn.create(r,n.op)}class v${constructor(){this.rn=new SM}addToCollectionParentIndex(e,t){return this.rn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(po.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(po.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class SM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wr(kn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wr(kn.comparator)).toArray()}}const fI=new Uint8Array(0);class w${constructor(e,t){this.user=e,this.databaseId=t,this.on=new SM,this.un=new Ul(r=>Lf(r),(r,i)=>xv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:us(i)};return jF(e).put(a)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[oN(t),""],!1,!0);return jF(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(_c(l.parent))}return r})}addFieldIndex(e,t){const r=pI(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=Wv(e);return a.next(p=>{l.put(PF(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=pI(e),i=Wv(e),a=qv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=qv(e);let i=!0;const a=new Map;return le.forEach(this.cn(t),l=>this.an(e,l).next(p=>{i&&(i=!!p),a.set(l,p)})).next(()=>{if(i){let l=yn();const p=[];return le.forEach(a,(_,E)=>{var C;We("IndexedDbIndexManager",`Using index ${C=_,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${Lf(t)}`);const M=function(pt,At){const Wt=KA(At);if(void 0===Wt)return null;for(const dn of nI(pt,Wt.fieldPath))switch(dn.op){case"array-contains-any":return dn.value.arrayValue.values||[];case"array-contains":return[dn.value]}return null}(E,_),F=function(pt,At){const Wt=new Map;for(const dn of Rf(At))for(const Bn of nI(pt,dn.fieldPath))switch(Bn.op){case"==":case"in":Wt.set(dn.fieldPath.canonicalString(),Bn.value);break;case"not-in":case"!=":return Wt.set(dn.fieldPath.canonicalString(),Bn.value),Array.from(Wt.values())}return null}(E,_),B=function(pt,At){const Wt=[];let dn=!0;for(const Bn of Rf(At)){const Xi=0===Bn.kind?UN(pt,Bn.fieldPath,pt.startAt):BN(pt,Bn.fieldPath,pt.startAt);Wt.push(Xi.value),dn&&(dn=Xi.inclusive)}return new Sd(Wt,dn)}(E,_),K=function(pt,At){const Wt=[];let dn=!0;for(const Bn of Rf(At)){const Xi=0===Bn.kind?BN(pt,Bn.fieldPath,pt.endAt):UN(pt,Bn.fieldPath,pt.endAt);Wt.push(Xi.value),dn&&(dn=Xi.inclusive)}return new Sd(Wt,dn)}(E,_),te=this.hn(_,E,B),ue=this.hn(_,E,K),Je=this.ln(_,E,F),it=this.fn(_.indexId,M,te,B.inclusive,ue,K.inclusive,Je);return le.forEach(it,pt=>r.H(pt,t.limit).next(At=>{At.forEach(Wt=>{const dn=at.fromSegments(Wt.documentKey);l.has(dn)||(l=l.add(dn),p.push(dn))})}))}).next(()=>p)}return le.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:_$(Zn.create(e.filters,"and")).map(r=>iM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,p){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),E=_/(null!=t?t.length:1),C=[];for(let M=0;M<_;++M){const F=t?this.dn(t[M/E]):fI,B=this.wn(e,F,r[M%E],i),K=this._n(e,F,a[M%E],l),te=p.map(ue=>this.wn(e,F,ue,!0));C.push(...this.createRange(B,K,te))}return C}wn(e,t,r,i){const a=new Gf(e,at.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new Gf(e,at.empty(),t,r);return i?a.Je():a}an(e,t){const r=new y$(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const p of a)r.tn(p)&&(!l||p.fields.length>l.fields.length)&&(l=p);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return le.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(p){let _=new wr(Yr.comparator),E=!1;for(const C of p.filters)for(const M of C.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?E=!0:_=_.add(M.field));for(const C of p.orderBy)C.field.isKeyField()||(_=_.add(C.field));return _.size+(E?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Gv;for(const i of Rf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);zf.Ve._e(a,l)}return r.Qe()}dn(e){const t=new Gv;return zf.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Gv;return zf.Ve._e(Ff(this.databaseId,t),r.He(function(i){const a=Rf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Gv);let a=0;for(const l of Rf(e)){const p=r[a++];for(const _ of i)if(this.yn(t,l.fieldPath)&&Av(p))i=this.pn(i,l,p);else{const E=_.He(l.kind);zf.Ve._e(p,E)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const p of i){const _=new Gv;_.seed(p.Qe()),zf.Ve._e(l,_.He(t.kind)),a.push(_)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof Sn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=pI(e),i=Wv(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return le.forEach(a,p=>i.get([p.indexId,this.uid]).next(_=>{l.push(function(E,C){const M=C?new bv(C.sequenceNumber,new po($f(C.readTime),new at(_c(C.documentKey)),C.largestBatchId)):bv.empty(),F=E.fields.map(([B,K])=>new qb(Yr.fromServerFormat(B),K));return new Gb(E.indexId,E.collectionGroup,F,M)}(p,_))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:un(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=pI(e),a=Wv(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>le.forEach(p,_=>a.put(PF(_.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?le.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),le.forEach(p,_=>this.En(e,i,_).next(E=>{const C=this.An(a,_);return E.isEqual(C)?le.resolve():this.vn(e,a,_,E,C)}))))})}Rn(e,t,r,i){return qv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return qv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=qv(e);let a=new wr(Md);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,p)=>{a=a.add(new Gf(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}An(e,t){let r=new wr(Md);const i=this.mn(t,e);if(null==i)return r;const a=KA(t);if(null!=a){const l=e.data.field(a.fieldPath);if(Av(l))for(const p of l.arrayValue.values||[])r=r.add(new Gf(t.indexId,e.key,this.dn(p),i))}else r=r.add(new Gf(t.indexId,e.key,fI,i));return r}vn(e,t,r,i,a){We("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(p,_,E,C,M){const F=p.getIterator(),B=_.getIterator();let K=nm(F),te=nm(B);for(;K||te;){let ue=!1,Je=!1;if(K&&te){const it=E(K,te);it<0?Je=!0:it>0&&(ue=!0)}else null!=K?Je=!0:ue=!0;ue?(C(te),te=nm(B)):Je?(M(K),K=nm(F)):(K=nm(F),te=nm(B))}}(i,a,Md,p=>{l.push(this.Rn(e,t,r,p))},p=>{l.push(this.Pn(e,t,r,p))}),le.waitFor(l)}Tn(e){let t=1;return Wv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,p)=>Md(l,p)).filter((l,p,_)=>!p||0!==Md(l,_[p-1]));const i=[];i.push(e);for(const l of r){const p=Md(l,e),_=Md(l,t);if(0===p)i[0]=e.Je();else if(p>0&&_<0)i.push(l),i.push(l.Je());else if(_>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,fI,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,fI,[]]))}return a}bn(e,t){return Md(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($F)}getMinOffset(e,t){return le.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||It())).next($F)}}function jF(n){return Li(n,"collectionParents")}function qv(n){return Li(n,"indexEntries")}function pI(n){return Li(n,"indexConfiguration")}function Wv(n){return Li(n,"indexState")}function $F(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;ZA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new po(e.readTime,e.documentKey,t)}const HF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let p=0;const _=r.X({range:l},(C,M,F)=>(p++,F.delete()));a.push(_.next(()=>{Rt(1===p)}));const E=[];for(const C of t.mutations){const M=gN(e,C.key.path,t.batchId);a.push(i.delete(M)),E.push(C.key)}return le.waitFor(a).next(()=>E)}function gI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw It();e=n.noDocument}return JSON.stringify(e).length}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(41943040,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class mI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Rt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new mI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xd(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=fm(e),l=xd(e);return l.add({}).next(p=>{Rt("number"==typeof p);const _=new dM(p,t,r,i),E=function(F,B,K){const te=K.baseMutations.map(Je=>$v(F.fe,Je)),ue=K.mutations.map(Je=>$v(F.fe,Je));return{userId:B,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:te,mutations:ue}}(this.serializer,this.userId,_),C=[];let M=new wr((F,B)=>un(F.canonicalString(),B.canonicalString()));for(const F of i){const B=gN(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),C.push(l.put(E)),C.push(a.put(B,aj))}return M.forEach(F=>{C.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Vn[p]=_.keys()}),le.waitFor(C).next(()=>_)})}lookupMutationBatch(e,t){return xd(e).get(t).next(r=>r?(Rt(r.userId===this.userId),Hf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?le.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xd(e).X({index:"userMutationsIndex",range:i},(l,p,_)=>{p.userId===this.userId&&(Rt(p.batchId>=r),a=Hf(this.serializer,p)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xd(e).j("userMutationsIndex",t).next(r=>r.map(i=>Hf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Kb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return fm(e).X({range:i},(l,p,_)=>{const[E,C,M]=l,F=_c(C);if(E===this.userId&&t.path.isEqual(F))return xd(e).get(M).next(B=>{if(!B)throw It();Rt(B.userId===this.userId),a.push(Hf(this.serializer,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wr(un);const i=[];return t.forEach(a=>{const l=Kb(this.userId,a.path),p=IDBKeyRange.lowerBound(l),_=fm(e).X({range:p},(E,C,M)=>{const[F,B,K]=E,te=_c(B);F===this.userId&&a.path.isEqual(te)?r=r.add(K):M.done()});i.push(_)}),le.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Kb(this.userId,r),l=IDBKeyRange.lowerBound(a);let p=new wr(un);return fm(e).X({range:l},(_,E,C)=>{const[M,F,B]=_,K=_c(F);M===this.userId&&r.isPrefixOf(K)?K.length===i&&(p=p.add(B)):C.done()}).next(()=>this.Dn(e,p))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(xd(e).get(a).next(l=>{if(null===l)throw It();Rt(l.userId===this.userId),r.push(Hf(this.serializer,l))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return zF(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return fm(e).X({range:r},(a,l,p)=>{if(a[0]===this.userId){const _=_c(a[1]);i.push(_)}else p.done()}).next(()=>{Rt(0===i.length)})})}containsKey(e,t){return GF(e,this.userId,t)}xn(e){return qF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function GF(n,e,t){const r=Kb(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return fm(n).X({range:a,Y:!0},(p,_,E)=>{const[C,M,F]=p;C===e&&M===i&&(l=!0),E.done()}).next(()=>l)}function xd(n){return Li(n,"mutations")}function fm(n){return Li(n,"documentMutations")}function qF(n){return Li(n,"mutationQueues")}class qf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new qf(0)}static Mn(){return new qf(-1)}}class E${constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new qf(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Lt.fromTimestamp(new Mr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pm(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Rt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return pm(e).X((l,p)=>{const _=Hv(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>le.waitFor(a)).next(()=>i)}forEachTarget(e,t){return pm(e).X((r,i)=>{const a=Hv(i);t(a)})}$n(e){return WF(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}On(e,t){return WF(e).put("targetGlobalKey",t)}Fn(e,t){return pm(e).put(OF(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return pm(e).X({range:i,index:"queryTargetsIndex"},(l,p,_)=>{const E=Hv(p);xv(t,E.target)&&(a=E,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Od(e);return t.forEach(l=>{const p=us(l.path);i.push(a.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,l))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=Od(e);return le.forEach(t,a=>{const l=us(a.path);return le.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Od(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Od(e);let a=yn();return i.X({range:r,Y:!0},(l,p,_)=>{const E=_c(l[1]),C=new at(E);a=a.add(C)}).next(()=>a)}containsKey(e,t){const r=us(t.path),i=IDBKeyRange.bound([r],[oN(r)],!1,!0);let a=0;return Od(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,p],_,E)=>{0!==l&&(a++,E.done())}).next(()=>a>0)}le(e,t){return pm(e).get(t).next(r=>r?Hv(r):null)}}function pm(n){return Li(n,"targets")}function WF(n){return Li(n,"targetGlobal")}function Od(n){return Li(n,"targetDocuments")}function KF([n,e],[t,r]){const i=un(n,t);return 0===i?un(e,r):i}class b${constructor(e){this.Ln=e,this.buffer=new wr(KF),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();KF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;We("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){wd(r)?We("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield vd(r)}yield t.Qn(3e5)}))}}class I${constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(go.ct);const r=new b$(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(HF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HF):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,p,_,E;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,l=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(E=Date.now(),qA()<=gd.in.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-C}ms\n\tDetermined least recently used ${i} in `+(p-l)+`ms\n\tRemoved ${a} targets in `+(_-p)+`ms\n\tRemoved ${M} documents in `+(E-_)+`ms\nTotal Duration: ${E-C}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class C${constructor(e,t){this.db=e,this.garbageCollector=function YF(n,e){return new I$(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return yI(e,r)}removeReference(e,t,r){return yI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return yI(e,t)}Xn(e,t){return function(r,i){let a=!1;return qF(r).Z(l=>GF(r,l,i).next(p=>(p&&(a=!0),le.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,p)=>{if(p<=t){const _=this.Xn(e,l).next(E=>{if(!E)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Lt.min()),Od(e).delete([0,us(l.path)])))});i.push(_)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return yI(e,t)}Yn(e,t){const r=Od(e);let i,a=go.ct;return r.X({index:"documentTargetsIndex"},([l,p],{path:_,sequenceNumber:E})=>{0===l?(a!==go.ct&&t(new at(_c(i)),a),a=E,i=_):a=go.ct}).next(()=>{a!==go.ct&&t(new at(_c(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yI(n,e){return Od(n).put((r=n.currentSequenceNumber,{targetId:0,path:us(e.path),sequenceNumber:r}));var r}class QF{constructor(){this.changes=new Ul(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wf(e).put(r)}removeEntry(e,t,r){return Wf(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],uI(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Er.newInvalidDocument(t);return Wf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kv(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Er.newInvalidDocument(t)};return Wf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kv(t))},(i,a)=>{r={document:this.ts(t,a),size:gI(a)}}).next(()=>r)}getEntries(e,t){let r=Ks();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=Ks(),i=new hr(at.comparator);return this.ns(e,t,(a,l)=>{const p=this.ts(a,l);r=r.insert(a,p),i=i.insert(a,gI(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return le.resolve();let i=new wr(tL);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Kv(i.first()),Kv(i.last())),l=i.getIterator();let p=l.getNext();return Wf(e).X({index:"documentKeyIndex",range:a},(_,E,C)=>{const M=at.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;p&&tL(p,M)<0;)r(p,null),p=l.getNext();p&&p.isEqual(M)&&(r(p,E),p=l.hasNext()?l.getNext():null),p?C.G(Kv(p)):C.done()}).next(()=>{for(;p;)r(p,null),p=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),uI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wf(e).j(IDBKeyRange.bound(l,p,!0)).next(_=>{let E=Ks();for(const C of _){const M=this.ts(at.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);M.isFoundDocument()&&(kv(t,M)||i.has(M.key))&&(E=E.insert(M.key,M))}return E})}getAllFromCollectionGroup(e,t,r,i){let a=Ks();const l=eL(t,r),p=eL(t,po.max());return Wf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,p,!0)},(_,E,C)=>{const M=this.ts(at.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(M.key,M),a.size===i&&C.done()}).next(()=>a)}newChangeBuffer(e){return new T$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return XF(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}Zn(e,t){return XF(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function d$(n,e){let t;if(e.document)t=IF(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=at.fromSegments(e.noDocument.path),i=$f(e.noDocument.readTime);t=Er.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return It();{const r=at.fromSegments(e.unknownDocument.path),i=$f(e.unknownDocument.version);t=Er.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Mr(r[0],r[1]);return Lt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Lt.min()))return r}return Er.newInvalidDocument(e)}}function JF(n){return new D$(n)}class T$ extends QF{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ul(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new wr((a,l)=>un(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const p=this.us.get(a);if(t.push(this.os.removeEntry(e,a,p.readTime)),l.isValidDocument()){const _=xF(this.os.serializer,l);i=i.add(a.path.popLast());const E=gI(_);r+=E-p.size,t.push(this.os.addEntry(e,a,_))}else if(r-=p.size,this.trackRemovals){const _=xF(this.os.serializer,l.convertToNoDocument(Lt.min()));t.push(this.os.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function XF(n){return Li(n,"remoteDocumentGlobal")}function Wf(n){return Li(n,"remoteDocumentsV14")}function Kv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eL(n,e){const t=e.documentKey.path.toArray();return[n,uI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=un(t[a],r[a]),i)return i;return i=un(t.length,r.length),i||(i=un(t[t.length-2],r[r.length-2]),i||un(t[t.length-1],r[r.length-1]))}class S${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Fv(r.mutation,i,Ws.empty(),Mr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=yn()){const i=wc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Pv();return a.forEach((p,_)=>{l=l.insert(p,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=wc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,yn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,p)=>{t.set(l,p)})})}computeViews(e,t,r,i){let a=Ks();const l=Rv(),p=Rv();return t.forEach((_,E)=>{const C=r.get(E.key);i.has(E.key)&&(void 0===C||C.mutation instanceof Bl)?a=a.insert(E.key,E):void 0!==C?(l.set(E.key,C.mutation.getFieldMask()),Fv(C.mutation,E,C.mutation.getFieldMask(),Mr.now())):l.set(E.key,Ws.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((E,C)=>l.set(E,C)),t.forEach((E,C)=>{var M;return p.set(E,new S$(C,null!==(M=l.get(E))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Rv();let i=new hr((l,p)=>l-p),a=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const p of l)p.keys().forEach(_=>{const E=t.get(_);if(null===E)return;let C=r.get(_)||Ws.empty();C=p.applyToLocalView(E,C),r.set(_,C);const M=(i.get(p.batchId)||yn()).add(_);i=i.insert(p.batchId,M)})}).next(()=>{const l=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),E=_.key,C=_.value,M=KN();C.forEach(F=>{if(!a.has(F)){const B=rF(t.get(F),r.get(F));null!==B&&M.set(F,B),a=a.add(F)}}),l.push(this.documentOverlayCache.saveOverlays(e,E,M))}return le.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return at.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):oM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):le.resolve(wc());let p=-1,_=a;return l.next(E=>le.forEach(E,(C,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),a.get(C)?le.resolve():this.remoteDocumentCache.getEntry(e,C).next(F=>{_=_.insert(C,F)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,_,E,yn())).next(C=>({batchId:p,changes:WN(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(r=>{let i=Pv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Pv();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,p=>{const _=(E=t,C=p.child(i),new Vl(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,C;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(E=>{E.forEach((C,M)=>{a=a.insert(C,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((p,_)=>{const E=_.getKey();null===a.get(E)&&(a=a.insert(E,Er.newInvalidDocument(E)))});let l=Pv();return a.forEach((p,_)=>{const E=i.get(p);void 0!==E&&Fv(E.mutation,_,Ws.empty(),Mr.now()),kv(t,_)&&(l=l.insert(p,_))}),l})}}class A${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return le.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ui(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:EM(r.bundledQuery),readTime:ui(r.readTime)}),le.resolve();var r}}class M${constructor(){this.overlays=new hr(at.comparator),this.ls=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wc();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=wc(),a=t.length+1,l=new at(t.child("")),p=this.overlays.getIteratorFrom(l);for(;p.hasNext();){const _=p.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new hr((E,C)=>E-C);const l=this.overlays.getIterator();for(;l.hasNext();){const E=l.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let C=a.get(E.largestBatchId);null===C&&(C=wc(),a=a.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const p=wc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,C)=>p.set(E,C)),!(p.size()>=i)););return le.resolve(p)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new fM(t,r));let a=this.ls.get(t);void 0===a&&(a=yn(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class AM{constructor(){this.fs=new wr(Vi.ds),this.ws=new wr(Vi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Vi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Vi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new at(new kn([])),r=new Vi(t,e),i=new Vi(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new at(new kn([])),r=new Vi(t,e),i=new Vi(t,e+1);let a=yn();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Vi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return at.comparator(e.key,t.key)||un(e.As,t.As)}static _s(e,t){return un(e.As,t.As)||at.comparator(e.key,t.key)}}class x${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new wr(Vi.ds)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new dM(a,t,r,i);this.mutationQueue.push(l);for(const p of i)this.Rs=this.Rs.add(new Vi(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(l)}lookupMutationBatch(e,t){return le.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vi(t,0),i=new Vi(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const p=this.Ps(l.As);a.push(p)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wr(un);return t.forEach(i=>{const a=new Vi(i,0),l=new Vi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],p=>{r=r.add(p.As)})}),le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;at.isDocumentKey(a)||(a=a.child(""));const l=new Vi(new at(a),0);let p=new wr(un);return this.Rs.forEachWhile(_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(p=p.add(_.As)),!0)},l),le.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Rt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return le.forEach(t.mutations,i=>{const a=new Vi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Vi(t,0),i=this.Rs.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class O${constructor(e){this.Ds=e,this.docs=new hr(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(t))}getEntries(e,t){let r=Ks();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Er.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ks();const l=t.path,p=new at(l.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:E,value:{document:C}}=_.getNext();if(!l.isPrefixOf(E.path))break;E.path.length>l.length+1||ZA(cN(C),r)<=0||(i.has(C.key)||kv(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,t,r,i){It()}Cs(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new k$(this)}getSize(e){return le.resolve(this.size)}}class k$ extends QF{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class P${constructor(e){this.persistence=e,this.xs=new Ul(t=>Lf(t),xv),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new AM,this.targetCount=0,this.Ms=qf.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),le.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new qf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Fn(t),le.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.ks.containsKey(t))}}class MM{constructor(e,t){this.$s={},this.overlays={},this.Os=new go(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new P$(this),this.indexManager=new v$,this.remoteDocumentCache=new O$(r=>this.referenceDelegate.Ls(r)),this.serializer=new MF(t),this.qs=new A$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new M$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new x$(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){We("MemoryPersistence","Starting transaction:",e);const i=new R$(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return le.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class R$ extends uN{constructor(e){super(),this.currentSequenceNumber=e}}class _I{constructor(e){this.persistence=e,this.Qs=new AM,this.js=null}static zs(e){return new _I(e)}get Ws(){if(this.js)return this.js;throw It()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),le.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,r=>{const i=at.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Lt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return le.or([()=>le.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class N${constructor(e){this.serializer=e}O(e,t,r,i){const a=new Wb("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pN,{unique:!0}),p.createObjectStore("documentMutations"),rL(e),function(p){p.createObjectStore("remoteDocuments")}(e));let l=le.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),rL(e)),l=l.next(()=>function(p){const _=p.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(p,_){return _.store("mutations").j().next(E=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pN,{unique:!0});const C=_.store("mutations"),M=E.map(F=>C.put(F));return le.waitFor(M)})}(e,a))),l=l.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:vj});_.createIndex("collectionPathOverlayIndex",wj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Ej,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:cj});_.createIndex("documentKeyIndex",lj),_.createIndex("collectionGroupIndex",uj)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:gj}).createIndex("sequenceNumberIndex",mj,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:yj}).createIndex("documentKeyIndex",_j,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=gI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>le.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(p=>le.forEach(p,_=>{Rt(_.userId===a.userId);const E=Hf(this.serializer,_);return zF(e,a.userId,E).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,p)=>{const _=new kn(l),E=[0,us(_)];a.push(t.get(E).next(C=>C?le.resolve():t.put({targetId:0,path:us(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:pj});const r=t.store("collectionParents"),i=new SM,a=l=>{if(i.add(l)){const p=l.lastSegment(),_=l.popLast();return r.put({collectionId:p,parent:us(_)})}};return t.store("remoteDocuments").X({Y:!0},(l,p)=>{const _=new kn(l);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,p,_],E)=>{const C=_c(p);return a(C.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=Hv(i),l=OF(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const p=t.store("remoteDocumentsV14"),_=(E=l,E.document?new at(kn.fromString(E.document.name).popFirst(5)):E.noDocument?at.fromSegments(E.noDocument.path):E.unknownDocument?at.fromSegments(E.unknownDocument.path):It()).path.toArray();var E;const C={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(p.put(C))}).next(()=>le.waitFor(i))}si(e,t){const r=t.store("mutations"),i=JF(this.serializer),a=new MM(_I.zs,this.serializer.fe);return r.j().next(l=>{const p=new Map;return l.forEach(_=>{var E;let C=null!==(E=p.get(_.userId))&&void 0!==E?E:yn();Hf(this.serializer,_).keys().forEach(M=>C=C.add(M)),p.set(_.userId,C)}),le.forEach(p,(_,E)=>{const C=new Fi(E),M=dI.de(this.serializer,C),F=a.getIndexManager(C),B=mI.de(C,this.serializer,F,a.referenceDelegate);return new nL(i,B,M,F).recalculateAndSaveOverlaysForDocumentKeys(new JA(t,go.ct),_).next()})})}}function rL(n){n.createObjectStore("targetDocuments",{keyPath:hj}).createIndex("documentTargetsIndex",fj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dj,{unique:!0}),n.createObjectStore("targetGlobal")}const xM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class OM{constructor(e,t,r,i,a,l,p,_,E,C,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=p,this.ri=E,this.oi=C,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=F=>Promise.resolve(),!OM.D())throw new Le(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new C$(this,i),this.di=t+"main",this.serializer=new MF(_),this.wi=new Ma(this.di,this.ui,new N$(this.serializer)),this.Bs=new E$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=JF(this.serializer),this.qs=new h$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(de.FAILED_PRECONDITION,xM);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new go(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Te.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(wd(e))return We("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return We("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Zv(e).get("owner").next(t=>le.resolve(this.Ri(t)))}Pi(e){return wI(e).delete(this.clientId)}bi(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Li(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),p=a.filter(_=>-1===l.indexOf(_));return le.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?le.resolve(!0):Zv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Le(de.FAILED_PRECONDITION,xM);return!1}}return!(!this.networkEnabled||!this.inForeground)||wI(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&We("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new JA(t,go.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>wI(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return mI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new w$(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return dI.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){We("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?Ij:14===l?_N:13===l?yN:12===l?bj:11===l?mN:void It();var l;let p;return this.wi.runTransaction(e,i,a,_=>(p=new JA(_,this.Os?this.Os.next():go.ct),"readwrite-primary"===t?this.Ti(p).next(E=>!!E||this.Ei(p)).next(E=>{if(!E)throw li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Le(de.FAILED_PRECONDITION,lN);return r(p)}).next(E=>this.vi(p).next(()=>E)):this.Oi(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Oi(e){return Zv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(de.FAILED_PRECONDITION,xM)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zv(e).put("owner",t)}static D(){return Ma.D()}Ai(e){const t=Zv(e);return t.get("owner").next(r=>this.Ri(r)?(We("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(li(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Un.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return We("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return li("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){li("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zv(n){return Li(n,"owner")}function wI(n){return Li(n,"clientMetadata")}function kM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class PM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=yn(),i=yn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new PM(e,t.fromCache,r,i)}}class iL{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if($N(t))return le.resolve(null);let r=Ms(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=iI(t,null,"F"),r=Ms(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=yn(...a);return this.Ui.getDocuments(e,l).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const E=this.ji(t,p);return this.zi(t,E,l,_.readTime)?this.Ki(e,iI(t,null,"F")):this.Wi(e,E,t,_)}))})))}Gi(e,t,r,i){return $N(t)||i.isEqual(Lt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(qA()<=gd.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cM(t)),this.Wi(e,l,t,aN(i,-1)))})}ji(e,t){let r=new wr(GN(e));return t.forEach((i,a)=>{kv(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return qA()<=gd.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",cM(t)),this.Ui.getDocumentsMatchingQuery(e,t,po.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class F${constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new hr(un),this.Yi=new Ul(a=>Lf(a),xv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function sL(n,e,t,r){return new F$(n,e,t,r)}function oL(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,Te.Z)(function*(n,e){const t=ht(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],p=[];let _=yn();for(const E of i){l.push(E.batchId);for(const C of E.mutations)_=_.add(C.key)}for(const E of a){p.push(E.batchId);for(const C of E.mutations)_=_.add(C.key)}return t.localDocuments.getDocuments(r,_).next(E=>({er:E,removedBatchIds:l,addedBatchIds:p}))})})}),RM.apply(this,arguments)}function aL(n){const e=ht(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function cL(n,e,t){let r=yn(),i=yn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Ks();return t.forEach((p,_)=>{const E=a.get(p);_.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(Lt.min())?(e.removeEntry(p,_.readTime),l=l.insert(p,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||0===_.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(_),l=l.insert(p,_)):We("LocalStore","Ignoring outdated watch update for ",p,". Current version:",E.version," Watch version:",_.version)}),{nr:l,sr:i}})}function U$(n,e){const t=ht(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gm(n,e){const t=ht(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new jl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function mm(n,e,t){return NM.apply(this,arguments)}function NM(){return NM=(0,Te.Z)(function*(n,e,t){const r=ht(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!wd(l))throw l;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),NM.apply(this,arguments)}function EI(n,e,t){const r=ht(n);let i=Lt.min(),a=yn();return r.persistence.runTransaction("Execute query","readonly",l=>function(p,_,E){const C=ht(p),M=C.Yi.get(E);return void 0!==M?le.resolve(C.Ji.get(M)):C.Bs.getTargetData(_,E)}(r,l,Ms(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,p.targetId).next(_=>{a=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Lt.min(),t?a:yn())).next(p=>(dL(r,zN(e),p),{documents:p,ir:a})))}function lL(n,e){const t=ht(n),r=ht(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function uL(n,e){const t=ht(n),r=t.Xi.get(e)||Lt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,aN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(dL(t,e,i),i))}function dL(n,e,t){let r=n.Xi.get(e)||Lt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function FM(){return FM=(0,Te.Z)(function*(n,e,t,r){const i=ht(n);let a=yn(),l=Ks();for(const E of t){const C=e.rr(E.metadata.name);E.document&&(a=a.add(C));const M=e.ur(E);M.setReadTime(e.cr(E.metadata.readTime)),l=l.insert(C,M)}const p=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield gm(i,(E=r,Ms(om(kn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>cL(E,p,l).next(C=>(p.apply(E),C)).next(C=>i.Bs.removeMatchingKeysForTargetId(E,_.targetId).next(()=>i.Bs.addMatchingKeys(E,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,C.nr,C.sr)).next(()=>C.nr)))}),FM.apply(this,arguments)}function j$(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,Te.Z)(function*(n,e,t=yn()){const r=yield gm(n,Ms(EM(e.bundledQuery))),i=ht(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=ui(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const p=r.withResumeToken(Ti.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(p.targetId,p),i.Bs.updateTargetData(a,p).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),LM.apply(this,arguments)}function hL(n,e){return`firestore_clients_${n}_${e}`}function fL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function VM(n,e){return`firestore_targets_${n}_${e}`}class bI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Le(i.error.code,i.error.message))),l?new bI(e,t,i.state,a):(li("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Le(r.error.code,r.error.message))),a?new Yv(e,r.state,i):(li("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class II{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=lM();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=hN(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new II(e,a):(li("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class UM{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new UM(t.clientId,t.onlineState):(li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class BM{constructor(){this.activeTargetIds=lM()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jM{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new hr(un),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=hL(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new BM),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(hL(e.persistenceKey,i));if(a){const l=II.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(VM(this.persistenceKey,e));if(r){const i=Yv.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(VM(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return We("SharedClientState","READ",e,t),t}setItem(e,t){We("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){We("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(We("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=go.ct;if(null!=a)try{const p=JSON.parse(a);Rt("number"==typeof p),l=p}catch(p){li("SharedClientState","Failed to read sequence number from WebStorage",p)}return l}(r.newValue);i!==go.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new bI(this.currentUser,e,t,r),a=fL(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=fL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=VM(this.persistenceKey,e),a=new Yv(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return II.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return bI.ar(new Fi(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Yv.ar(i,t)}br(e){return UM.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);We("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],p=[];return a.forEach(_=>{i.has(_)||l.push(_)}),i.forEach(_=>{a.has(_)||p.push(_)}),this.syncEngine.Wr(l,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=lM();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class pL{constructor(){this.Hr=new BM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new BM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $${Yr(e){}shutdown(){}}class gL{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let CI=null;function $M(){return null===CI?CI=268435456+Math.round(2147483648*Math.random()):CI++,"0x"+CI.toString(16)}const H$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const hs="WebChannelConnection";class G$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=$M(),p=this.To(e,t);We("RestConnection",`Sending RPC '${e}' ${l}:`,p,r);const _={};return this.Eo(_,i,a),this.Ao(e,p,_,r).then(E=>(We("RestConnection",`Received RPC '${e}' ${l}: `,E),E),E=>{throw Lo("RestConnection",`RPC '${e}' ${l} failed with error: `,E,"url: ",p,"request:",r),E})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+em,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${H$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=$M();return new Promise((l,p)=>{const _=new $B;_.setWithCredentials(!0),_.listenOnce(UB.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case GA.NO_ERROR:const C=_.getResponseJson();We(hs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),l(C);break;case GA.TIMEOUT:We(hs,`RPC '${e}' ${a} timed out`),p(new Le(de.DEADLINE_EXCEEDED,"Request time out"));break;case GA.HTTP_ERROR:const M=_.getStatus();if(We(hs,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const K=function(te){const ue=te.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(ue)>=0?ue:de.UNKNOWN}(B.status);p(new Le(K,B.message))}else p(new Le(de.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Le(de.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{We(hs,`RPC '${e}' ${a} completed.`)}});const E=JSON.stringify(i);We(hs,`RPC '${e}' ${a} sending request:`,i),_.send(t,"POST",E,r,15)})}Ro(e,t,r){const i=$M(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=LB(),p=VB(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.xmlHttpFactory=new jB({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const C=a.join("");We(hs,`Creating RPC '${e}' stream ${i}: ${C}`,_);const M=l.createWebChannel(C,_);let F=!1,B=!1;const K=new z$({ro:ue=>{B?We(hs,`Not sending because RPC '${e}' stream ${i} is closed:`,ue):(F||(We(hs,`Opening RPC '${e}' stream ${i} transport.`),M.open(),F=!0),We(hs,`RPC '${e}' stream ${i} sending:`,ue),M.send(ue))},oo:()=>M.close()}),te=(ue,Je,it)=>{ue.listen(Je,pt=>{try{it(pt)}catch(At){setTimeout(()=>{throw At},0)}})};return te(M,zb.EventType.OPEN,()=>{B||We(hs,`RPC '${e}' stream ${i} transport opened.`)}),te(M,zb.EventType.CLOSE,()=>{B||(B=!0,We(hs,`RPC '${e}' stream ${i} transport closed`),K.wo())}),te(M,zb.EventType.ERROR,ue=>{B||(B=!0,Lo(hs,`RPC '${e}' stream ${i} transport errored:`,ue),K.wo(new Le(de.UNAVAILABLE,"The operation could not be completed")))}),te(M,zb.EventType.MESSAGE,ue=>{var Je;if(!B){const it=ue.data[0];Rt(!!it);const At=it.error||(null===(Je=it[0])||void 0===Je?void 0:Je.error);if(At){We(hs,`RPC '${e}' stream ${i} received error:`,At);const Wt=At.status;let dn=function(Xi){const Uo=mi[Xi];if(void 0!==Uo)return lF(Uo)}(Wt),Bn=At.message;void 0===dn&&(dn=de.INTERNAL,Bn="Unknown error status: "+Wt+" with message "+At.message),B=!0,K.wo(new Le(dn,Bn)),M.close()}else We(hs,`RPC '${e}' stream ${i} received:`,it),K._o(it)}}),te(p,BB.STAT_EVENT,ue=>{ue.stat===tN.PROXY?We(hs,`RPC '${e}' stream ${i} detected buffering proxy`):ue.stat===tN.NOPROXY&&We(hs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{K.fo()},0),K}}function mL(){return typeof window<"u"?window:null}function DI(){return typeof document<"u"?document:null}function Qv(n){return new t$(n,!0)}class HM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class yL{constructor(e,t,r,i,a,l,p,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new HM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Le(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Te.Z)(function*(){e.state=0,e.start()}))}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q$ extends yL{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function i$(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:It(),i=e.targetChange.targetIds||[],a=function(_,E){return _.useProto3Json?(Rt(void 0===E||"string"==typeof E),Ti.fromBase64String(E||"")):(Rt(void 0===E||E instanceof Uint8Array),Ti.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,p=l&&function(_){const E=void 0===_.code?de.UNKNOWN:lF(_.code);return new Le(E,_.message||"")}(l);t=new pF(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Ec(n,r.document.name),a=ui(r.document.updateTime),l=r.document.createTime?ui(r.document.createTime):Lt.min(),p=new Yi({mapValue:{fields:r.document.fields}}),_=Er.newFoundDocument(i,a,l,p);t=new lI(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Ec(n,r.document),a=r.readTime?ui(r.readTime):Lt.min(),l=Er.newNoDocument(i,a);t=new lI([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Ec(n,r.document);t=new lI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return It();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new Zj(i,a);t=new fF(r.targetId,l)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Lt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Lt.min():a.readTime?ui(a.readTime):Lt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=jv(this.serializer),t.addTarget=function(i,a){let l;const p=a.target;if(l=tI(p)?{documents:CF(i,p)}:{query:wM(i,p)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=_F(i,a.resumeToken);const _=mM(i,a.expectedCount);null!==_&&(l.expectedCount=_)}else if(a.snapshotVersion.compareTo(Lt.min())>0){l.readTime=dm(i,a.snapshotVersion.toTimestamp());const _=mM(i,a.expectedCount);null!==_&&(l.expectedCount=_)}return l}(this.serializer,e);const r=function o$(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=jv(this.serializer),t.removeTarget=e,this.Wo(t)}}class W$ extends yL{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function s$(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(r,i){let a=ui(r.updateTime?r.updateTime:i);return a.isEqual(Lt.min())&&(a=ui(i)),new Gj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.cu(r,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=jv(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$v(this.serializer,r))};this.Wo(t)}}class K$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Le(de.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(de.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(de.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class Y${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(li(t),this.mu=!1):We("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Q${constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(p=>{r.enqueueAndForget((0,Te.Z)(function*(){var _;kd(l)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Te.Z)(function*(E){const C=ht(E);C.vu.add(4),yield ym(C),C.bu.set("Unknown"),C.vu.delete(4),yield Jv(C)}),function(E){return _.apply(this,arguments)})(l))}))}),this.bu=new Y$(r,i)}}function Jv(n){return GM.apply(this,arguments)}function GM(){return GM=(0,Te.Z)(function*(n){if(kd(n))for(const e of n.Ru)yield e(!0)}),GM.apply(this,arguments)}function ym(n){return qM.apply(this,arguments)}function qM(){return qM=(0,Te.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),qM.apply(this,arguments)}function TI(n,e){const t=ht(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),ZM(t)?KM(t):vm(t).Ko()&&WM(t,e))}function Xv(n,e){const t=ht(n),r=vm(t);t.Au.delete(e),r.Ko()&&_L(t,e),0===t.Au.size&&(r.Ko()?r.jo():kd(t)&&t.bu.set("Unknown"))}function WM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vm(n).su(e)}function _L(n,e){n.Vu.qt(e),vm(n).iu(e)}function KM(n){n.Vu=new Qj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),vm(n).start(),n.bu.gu()}function ZM(n){return kd(n)&&!vm(n).Uo()&&n.Au.size>0}function kd(n){return 0===ht(n).vu.size}function vL(n){n.Vu=void 0}function J$(n){return YM.apply(this,arguments)}function YM(){return YM=(0,Te.Z)(function*(n){n.Au.forEach((e,t)=>{WM(n,e)})}),YM.apply(this,arguments)}function X$(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,Te.Z)(function*(n,e){vL(n),ZM(n)?(n.bu.Iu(e),KM(n)):n.bu.set("Unknown")}),QM.apply(this,arguments)}function eH(n,e,t){return JM.apply(this,arguments)}function JM(){return JM=(0,Te.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof pF&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(i,a){const l=a.cause;for(const p of a.targetIds)i.Au.has(p)&&(yield i.remoteSyncer.rejectListen(p,l),i.Au.delete(p),i.Vu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield SI(n,r)}else if(e instanceof lI?n.Vu.Ht(e):e instanceof fF?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Lt.min()))try{const r=yield aL(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=i.Au.get(_);E&&i.Au.set(_,E.withResumeToken(p.resumeToken,a))}}),l.targetMismatches.forEach((p,_)=>{const E=i.Au.get(p);if(!E)return;i.Au.set(p,E.withResumeToken(Ti.EMPTY_BYTE_STRING,E.snapshotVersion)),_L(i,p);const C=new jl(E.target,p,_,E.sequenceNumber);WM(i,C)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){We("RemoteStore","Failed to raise snapshot:",r),yield SI(n,r)}var r}),JM.apply(this,arguments)}function SI(n,e,t){return XM.apply(this,arguments)}function XM(){return XM=(0,Te.Z)(function*(n,e,t){if(!wd(e))throw e;n.vu.add(1),yield ym(n),n.bu.set("Offline"),t||(t=()=>aL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Jv(n)}))}),XM.apply(this,arguments)}function wL(n,e){return e().catch(t=>SI(n,t,e))}function _m(n){return ex.apply(this,arguments)}function ex(){return ex=(0,Te.Z)(function*(n){const e=ht(n),t=Pd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;tH(e);)try{const i=yield U$(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,nH(e,i)}catch(i){yield SI(e,i)}EL(e)&&bL(e)}),ex.apply(this,arguments)}function tH(n){return kd(n)&&n.Eu.length<10}function nH(n,e){n.Eu.push(e);const t=Pd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function EL(n){return kd(n)&&!Pd(n).Uo()&&n.Eu.length>0}function bL(n){Pd(n).start()}function rH(n){return tx.apply(this,arguments)}function tx(){return tx=(0,Te.Z)(function*(n){Pd(n).hu()}),tx.apply(this,arguments)}function iH(n){return nx.apply(this,arguments)}function nx(){return nx=(0,Te.Z)(function*(n){const e=Pd(n);for(const t of n.Eu)e.uu(t.mutations)}),nx.apply(this,arguments)}function sH(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Te.Z)(function*(n,e,t){const r=n.Eu.shift(),i=hM.from(r,e,t);yield wL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield _m(n)}),rx.apply(this,arguments)}function oH(n,e){return ix.apply(this,arguments)}function ix(){return ix=(0,Te.Z)(function*(n,e){var t;e&&Pd(n).ou&&(yield(t=(0,Te.Z)(function*(r,i){if(cF(a=i.code)&&a!==de.ABORTED){const l=r.Eu.shift();Pd(r).Qo(),yield wL(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield _m(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),EL(n)&&bL(n)}),ix.apply(this,arguments)}function IL(n,e){return sx.apply(this,arguments)}function sx(){return sx=(0,Te.Z)(function*(n,e){const t=ht(n);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=kd(t);t.vu.add(3),yield ym(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Jv(t)}),sx.apply(this,arguments)}function ox(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,Te.Z)(function*(n,e){const t=ht(n);e?(t.vu.delete(2),yield Jv(t)):e||(t.vu.add(2),yield ym(t),t.bu.set("Unknown"))}),ax.apply(this,arguments)}function vm(n){return n.Su||(n.Su=function(e,t,r){const i=ht(e);return i.fu(),new q$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:J$.bind(null,n),ao:X$.bind(null,n),nu:eH.bind(null,n)}),n.Ru.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Su.Qo(),ZM(n)?KM(n):n.bu.set("Unknown")):(yield n.Su.stop(),vL(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Pd(n){return n.Du||(n.Du=function(e,t,r){const i=ht(e);return i.fu(),new W$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:rH.bind(null,n),ao:oH.bind(null,n),au:iH.bind(null,n),cu:sH.bind(null,n)}),n.Ru.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Du.Qo(),yield _m(n)):(yield n.Du.stop(),n.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class cx{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,p=new cx(e,t,l,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(n,e){if(li("AsyncQueue",`${e}: ${n}`),wd(n))return new Le(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Em{constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=Pv(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new Em(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Em)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Em;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class CL{constructor(){this.Cu=new hr(at.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):It():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class bm{constructor(e,t,r,i,a,l,p,_,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new bm(e,t,Em.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class aH{constructor(){this.Nu=void 0,this.listeners=[]}}class cH{constructor(){this.queries=new Ul(e=>HN(e),Ov),this.onlineState="Unknown",this.ku=new Set}}function lx(n,e){return ux.apply(this,arguments)}function ux(){return ux=(0,Te.Z)(function*(n,e){const t=ht(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new aH),i)try{a.Nu=yield t.onListen(r)}catch(l){const p=wm(l,`Initialization of query '${cM(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&fx(t)}),ux.apply(this,arguments)}function dx(n,e){return hx.apply(this,arguments)}function hx(){return hx=(0,Te.Z)(function*(n,e){const t=ht(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),hx.apply(this,arguments)}function lH(n,e){const t=ht(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const p of l.listeners)p.$u(i)&&(r=!0);l.Nu=i}}r&&fx(t)}function uH(n,e,t){const r=ht(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function fx(n){n.ku.forEach(e=>{e.next()})}class px{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=bm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dH{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class DL{constructor(e){this.serializer=e}rr(e){return Ec(this.serializer,e)}ur(e){return e.metadata.exists?IF(this.serializer,e.document,!1):Er.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ui(e)}}class hH{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TL(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=kn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new DL(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const p=(t.get(l)||yn()).add(a);t.set(l,p)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function B$(n,e,t,r){return FM.apply(this,arguments)}(e.localStore,new DL(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield j$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function TL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class SL{constructor(e){this.key=e}}class AL{constructor(e){this.key=e}}class ML{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yn(),this.mutatedKeys=yn(),this.tc=GN(e),this.ec=new Em(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new CL,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,M)=>{const F=i.get(C),B=kv(this.query,M)?M:null,K=!!F&&this.mutatedKeys.has(F.key),te=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ue=!1;F&&B?F.data.isEqual(B.data)?K!==te&&(r.track({type:3,doc:B}),ue=!0):this.rc(F,B)||(r.track({type:2,doc:B}),ue=!0,(_&&this.tc(B,_)>0||E&&this.tc(B,E)<0)&&(p=!0)):!F&&B?(r.track({type:0,doc:B}),ue=!0):F&&!B&&(r.track({type:1,doc:F}),ue=!0,(_||E)&&(p=!0)),ue&&(B?(l=l.add(B),a=te?a.add(C):a.delete(C)):(l=l.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),a=a.delete(C.key),r.track({type:1,doc:C})}return{ec:l,ic:r,zi:p,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((E,C)=>function(M,F){const B=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return B(M)-B(F)}(E.type,C.type)||this.tc(E.doc,C.doc)),this.oc(r);const l=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,_=p!==this.Xu;return this.Xu=p,0!==a.length||_?{snapshot:new bm(this.query,e.ec,i,a,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new CL,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new AL(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new SL(r))}),t}hc(e){this.Yu=e.ir,this.Zu=yn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return bm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pH{constructor(e){this.key=e,this.fc=!1}}class gH{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Ul(p=>HN(p),Ov),this._c=new Map,this.mc=new Set,this.gc=new hr(at.comparator),this.yc=new Map,this.Ic=new AM,this.Tc={},this.Ec=new Map,this.Ac=qf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function mH(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,Te.Z)(function*(n,e){const t=Vx(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield gm(t.localStore,Ms(e)),p=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield mx(t,e,r,"current"===p,l.resumeToken),t.isPrimaryClient&&TI(t.remoteStore,l)}return i}),gx.apply(this,arguments)}function mx(n,e,t,r,i){return yx.apply(this,arguments)}function yx(){return yx=(0,Te.Z)(function*(n,e,t,r,i){n.Rc=(M,F,B)=>{return(K=(0,Te.Z)(function*(te,ue,Je,it){let pt=ue.view.sc(Je);pt.zi&&(pt=yield EI(te.localStore,ue.query,!1).then(({documents:dn})=>ue.view.sc(dn,pt)));const At=it&&it.targetChanges.get(ue.targetId),Wt=ue.view.applyChanges(pt,te.isPrimaryClient,At);return Sx(te,ue.targetId,Wt.cc),Wt.snapshot}),function(te,ue,Je,it){return K.apply(this,arguments)})(n,M,F,B);var K};const a=yield EI(n.localStore,e,!0),l=new ML(e,a.ir),p=l.sc(a.documents),_=Uv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=l.applyChanges(p,n.isPrimaryClient,_);Sx(n,t,E.cc);const C=new fH(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),E.snapshot}),yx.apply(this,arguments)}function yH(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,Te.Z)(function*(n,e){const t=ht(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!Ov(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Xv(t.remoteStore,r.targetId),Im(t,r.targetId)}).catch(vd))):(Im(t,r.targetId),yield mm(t.localStore,r.targetId,!0))}),_x.apply(this,arguments)}function vx(){return vx=(0,Te.Z)(function*(n,e,t){const r=Ux(n);try{const i=yield function(a,l){const p=ht(a),_=Mr.now(),E=l.reduce((F,B)=>F.add(B.key),yn());let C,M;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=Ks(),K=yn();return p.Zi.getEntries(F,E).next(te=>{B=te,B.forEach((ue,Je)=>{Je.isValidDocument()||(K=K.add(ue))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,B)).next(te=>{C=te;const ue=[];for(const Je of l){const it=Wj(Je,C.get(Je.key).overlayedDocument);null!=it&&ue.push(new Bl(Je.key,it,MN(it.value.mapValue),xr.exists(!0)))}return p.mutationQueue.addMutationBatch(F,_,ue,l)}).next(te=>{M=te;const ue=te.applyToLocalDocumentSet(C,K);return p.documentOverlayCache.saveOverlays(F,te.batchId,ue)})}).then(()=>({batchId:M.batchId,changes:WN(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,p){let _=a.Tc[a.currentUser.toKey()];_||(_=new hr(un)),_=_.insert(l,p),a.Tc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield $l(r,i.changes),yield _m(r.remoteStore)}catch(i){const a=wm(i,"Failed to persist write");t.reject(a)}}),vx.apply(this,arguments)}function xL(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,Te.Z)(function*(n,e){const t=ht(n);try{const r=yield function V$(n,e){const t=ht(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const p=[];e.targetChanges.forEach((C,M)=>{const F=i.get(M);if(!F)return;p.push(t.Bs.removeMatchingKeys(a,C.removedDocuments,M).next(()=>t.Bs.addMatchingKeys(a,C.addedDocuments,M)));let B=F.withSequenceNumber(a.currentSequenceNumber);var K,te,ue;null!==e.targetMismatches.get(M)?B=B.withResumeToken(Ti.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):C.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(C.resumeToken,r)),i=i.insert(M,B),te=B,ue=C,(0===(K=F).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(a,B))});let _=Ks(),E=yn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),p.push(cL(a,l,e.documentUpdates).next(C=>{_=C.nr,E=C.sr})),!r.isEqual(Lt.min())){const C=t.Bs.getLastRemoteSnapshotVersion(a).next(M=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(C)}return le.waitFor(p).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,E)).next(()=>_)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Rt(l.fc):i.removedDocuments.size>0&&(Rt(l.fc),l.fc=!1))}),yield $l(t,r,e)}catch(r){yield vd(r)}}),wx.apply(this,arguments)}function OL(n,e,t){const r=ht(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const p=l.view.Mu(e);p.snapshot&&i.push(p.snapshot)}),function(a,l){const p=ht(a);p.onlineState=l;let _=!1;p.queries.forEach((E,C)=>{for(const M of C.listeners)M.Mu(l)&&(_=!0)}),_&&fx(p)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vH(n,e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Te.Z)(function*(n,e,t){const r=ht(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new hr(at.comparator);l=l.insert(a,Er.newNoDocument(a,Lt.min()));const p=yn().add(a),_=new Vv(Lt.min(),new Map,new hr(un),l,p);yield xL(r,_),r.gc=r.gc.remove(a),r.yc.delete(e),Ax(r)}else yield mm(r.localStore,e,!1).then(()=>Im(r,e,t)).catch(vd)}),Ex.apply(this,arguments)}function wH(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,Te.Z)(function*(n,e){const t=ht(n),r=e.batch.batchId;try{const i=yield function L$(n,e){const t=ht(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,p,_,E){const C=_.batch,M=C.keys();let F=le.resolve();return M.forEach(B=>{F=F.next(()=>E.getEntry(p,B)).next(K=>{const te=_.docVersions.get(B);Rt(null!==te),K.version.compareTo(te)<0&&(C.applyToRemoteDocument(K,_),K.isValidDocument()&&(K.setReadTime(_.commitVersion),E.addEntry(K)))})}),F.next(()=>l.mutationQueue.removeMutationBatch(p,C))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let p=yn();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(p=p.add(l.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);Tx(t,r,null),Dx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $l(t,i)}catch(i){yield vd(i)}}),bx.apply(this,arguments)}function EH(n,e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,Te.Z)(function*(n,e,t){const r=ht(n);try{const i=yield function(a,l){const p=ht(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,l).next(C=>(Rt(null!==C),E=C.keys(),p.mutationQueue.removeMutationBatch(_,C))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,l)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(r.localStore,e);Tx(r,e,t),Dx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $l(r,i)}catch(i){yield vd(i)}}),Ix.apply(this,arguments)}function Cx(){return Cx=(0,Te.Z)(function*(n,e){const t=ht(n);kd(t.remoteStore)||We("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=ht(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>l.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=wm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Cx.apply(this,arguments)}function Dx(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Tx(n,e,t){const r=ht(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Im(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||kL(n,r)})}function kL(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Xv(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Ax(n))}function Sx(n,e,t){for(const r of t)r instanceof SL?(n.Ic.addReference(r.key,e),IH(n,r)):r instanceof AL?(We("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||kL(n,r.key)):It()}function IH(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(We("SyncEngine","New document in limbo: "+t),n.mc.add(r),Ax(n))}function Ax(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new at(kn.fromString(e)),r=n.Ac.next();n.yc.set(r,new pH(t)),n.gc=n.gc.insert(t,r),TI(n.remoteStore,new jl(Ms(om(t.path)),r,"TargetPurposeLimboResolution",go.ct))}}function $l(n,e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Te.Z)(function*(n,e,t){const r=ht(n),i=[],a=[],l=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,_)=>{l.push(r.Rc(_,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const C=PM.Li(_.targetId,E);a.push(C)}}))}),yield Promise.all(l),r.dc.nu(i),yield(p=(0,Te.Z)(function*(_,E){const C=ht(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>le.forEach(E,F=>le.forEach(F.Fi,B=>C.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>le.forEach(F.Bi,B=>C.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!wd(M))throw M;We("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const F=M.targetId;if(!M.fromCache){const B=C.Ji.get(F),te=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);C.Ji=C.Ji.insert(F,te)}}}),function(_,E){return p.apply(this,arguments)})(r.localStore,a))}),Mx.apply(this,arguments)}function CH(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,Te.Z)(function*(n,e){const t=ht(n);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=yield oL(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(p=>{p.reject(new Le(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $l(t,r.er)}var i}),xx.apply(this,arguments)}function DH(n,e){const t=ht(n),r=t.yc.get(e);if(r&&r.fc)return yn().add(r.key);{let i=yn();const a=t._c.get(e);if(!a)return i;for(const l of a){const p=t.wc.get(l);i=i.unionWith(p.view.nc)}return i}}function TH(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Te.Z)(function*(n,e){const t=ht(n),r=yield EI(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&Sx(t,e.targetId,i.cc),i}),Ox.apply(this,arguments)}function SH(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,Te.Z)(function*(n,e){const t=ht(n);return uL(t.localStore,e).then(r=>$l(t,r))}),kx.apply(this,arguments)}function AH(n,e,t,r){return Px.apply(this,arguments)}function Px(){return Px=(0,Te.Z)(function*(n,e,t,r){const i=ht(n),a=yield function(l,p){const _=ht(l),E=ht(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>E.Sn(C,p).next(M=>M?_.localDocuments.getDocuments(C,M):le.resolve(null)))}(i.localStore,e);var p;null!==a?("pending"===t?yield _m(i.remoteStore):"acknowledged"===t||"rejected"===t?(Tx(i,e,r||null),Dx(i,e),p=e,ht(ht(i.localStore).mutationQueue).Cn(p)):It(),yield $l(i,a)):We("SyncEngine","Cannot apply mutation batch with id: "+e)}),Px.apply(this,arguments)}function Rx(){return Rx=(0,Te.Z)(function*(n,e){const t=ht(n);if(Vx(t),Ux(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield PL(t,r.toArray());t.vc=!0,yield ox(t.remoteStore,!0);for(const a of i)TI(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Im(t,l),mm(t.localStore,l,!0))),Xv(t.remoteStore,l)}),yield i,yield PL(t,r),function(a){const l=ht(a);l.yc.forEach((p,_)=>{Xv(l.remoteStore,_)}),l.Ic.Ts(),l.yc=new Map,l.gc=new hr(at.comparator)}(t),t.vc=!1,yield ox(t.remoteStore,!1)}}),Rx.apply(this,arguments)}function PL(n,e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,Te.Z)(function*(n,e,t){const r=ht(n),i=[],a=[];for(const l of e){let p;const _=r._c.get(l);if(_&&0!==_.length){p=yield gm(r.localStore,Ms(_[0]));for(const E of _){const C=r.wc.get(E),M=yield TH(r,C);M.snapshot&&a.push(M.snapshot)}}else{const E=yield lL(r.localStore,l);p=yield gm(r.localStore,E),yield mx(r,RL(E),l,!1,p.resumeToken)}i.push(p)}return r.dc.nu(a),i}),Nx.apply(this,arguments)}function RL(n){return jN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xH(n){const e=ht(n);return ht(ht(e.localStore).persistence).$i()}function OH(n,e,t,r){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Te.Z)(function*(n,e,t,r){const i=ht(n);if(i.vc)return void We("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield uL(i.localStore,zN(a[0])),p=Vv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ti.EMPTY_BYTE_STRING);yield $l(i,l,p);break}case"rejected":yield mm(i.localStore,e,!0),Im(i,e,r);break;default:It()}}),Fx.apply(this,arguments)}function kH(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Te.Z)(function*(n,e,t){const r=Vx(n);if(r.vc){for(const i of e){if(r._c.has(i)){We("SyncEngine","Adding an already active target "+i);continue}const a=yield lL(r.localStore,i),l=yield gm(r.localStore,a);yield mx(r,RL(a),l.targetId,!1,l.resumeToken),TI(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield mm(r.localStore,i,!1).then(()=>{Xv(r.remoteStore,i),Im(r,i)}).catch(vd))}}),Lx.apply(this,arguments)}function Vx(n){const e=ht(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vH.bind(null,e),e.dc.nu=lH.bind(null,e.eventManager),e.dc.Pc=uH.bind(null,e.eventManager),e}function Ux(n){const e=ht(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EH.bind(null,e),e}class e0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.serializer=Qv(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return sL(this.persistence,new iL,e.initialUser,this.serializer)}createPersistence(e){return new MM(_I.zs,this.serializer)}createSharedClientState(e){return new pL}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bx extends e0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield Ux(r.Vc.syncEngine),yield _m(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return sL(this.persistence,new iL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ZF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new sj(t,this.persistence);return new ij(e.asyncQueue,r)}createPersistence(e){const t=kM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ds.withCacheSize(this.cacheSizeBytes):ds.DEFAULT;return new OM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,mL(),DI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pL}}class NL extends Bx{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof jM&&(r.sharedClientState.syncEngine={jr:AH.bind(null,i),zr:OH.bind(null,i),Wr:kH.bind(null,i),$i:xH.bind(null,i),Qr:SH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Te.Z)(function*(l){yield function MH(n,e){return Rx.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=mL();if(!jM.D(t))throw new Le(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=kM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Cm{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>OL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=CH.bind(null,r.syncEngine),yield ox(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cH}createDatastore(e){const t=Qv(e.databaseInfo.databaseId),r=new G$(e.databaseInfo);return new K$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>OL(this.syncEngine,p,0),l=gL.D()?new gL:new $$,new Q$(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,p,_,E){const C=new gH(r,i,a,l,p,_);return E&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=ht(t);We("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ym(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function FL(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class AI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NH{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Di,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new dH(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Te.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class FH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(a,l){const p=ht(a),_=jv(p.serializer)+"/documents",E={documents:l.map(B=>Bv(p.serializer,B))},C=yield p.vo("BatchGetDocuments",_,E,l.length),M=new Map;C.forEach(B=>{const K=function r$(n,e){return"found"in e?function(t,r){Rt(!!r.found);const i=Ec(t,r.found.name),a=ui(r.found.updateTime),l=r.found.createTime?ui(r.found.createTime):Lt.min(),p=new Yi({mapValue:{fields:r.found.fields}});return Er.newFoundDocument(i,a,l,p)}(n,e):"missing"in e?function(t,r){Rt(!!r.missing),Rt(!!r.readTime);const i=Ec(t,r.missing),a=ui(r.readTime);return Er.newNoDocument(i,a)}(n,e):It()}(p.serializer,B);M.set(K.key.toString(),K)});const F=[];return l.forEach(B=>{const K=M.get(B.toString());Rt(!!K),F.push(K)}),F}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new um(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=at.fromPath(i);e.mutations.push(new uM(a,e.precondition(a)))}),yield(r=(0,Te.Z)(function*(i,a){const l=ht(i),p=jv(l.serializer)+"/documents",_={writes:a.map(E=>$v(l.serializer,E))};yield l.Io("Commit",p,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw It();t=Lt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lt.min())?xr.exists(!1):xr.updateTime(t):xr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lt.min()))throw new Le(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xr.updateTime(t)}return xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class LH{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new HM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Te.Z)(function*(){const t=new FH(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Cv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cF(t)}return!1}}class VH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fi.UNAUTHENTICATED,this.clientId=sN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Te.Z)(function*(p){We("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(We("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=wm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function MI(n,e){return jx.apply(this,arguments)}function jx(){return jx=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(a){r.isEqual(a)||(yield oL(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),jx.apply(this,arguments)}function $x(n,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zx(n);We("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>IL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>IL(e.remoteStore,a)),n._onlineComponents=e}),Hx.apply(this,arguments)}function LL(n){return"FirebaseError"===n.name?n.code===de.FAILED_PRECONDITION||n.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function zx(n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,Te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{yield MI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!LL(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),yield MI(n,new e0)}}else We("FirestoreClient","Using default OfflineComponentProvider"),yield MI(n,new e0);return n._offlineComponents}),Gx.apply(this,arguments)}function xI(n){return qx.apply(this,arguments)}function qx(){return qx=(0,Te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),yield $x(n,n._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),yield $x(n,new Cm))),n._onlineComponents}),qx.apply(this,arguments)}function VL(n){return zx(n).then(e=>e.persistence)}function OI(n){return zx(n).then(e=>e.localStore)}function UL(n){return xI(n).then(e=>e.remoteStore)}function Wx(n){return xI(n).then(e=>e.syncEngine)}function Dm(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,Te.Z)(function*(n){const e=yield xI(n),t=e.eventManager;return t.onListen=mH.bind(null,e.syncEngine),t.onUnlisten=yH.bind(null,e.syncEngine),t}),Kx.apply(this,arguments)}function jL(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,a,l,p,_){const E=new AI({next:M=>{a.enqueueAndForget(()=>dx(i,C));const F=M.docs.has(l);!F&&M.fromCache?_.reject(new Le(de.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?_.reject(new Le(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new px(om(l.path),E,{includeMetadataChanges:!0,Ku:!0});return lx(i,C)}(yield Dm(n),n.asyncQueue,e,t,r)})),r.promise}function $L(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,a,l,p,_){const E=new AI({next:M=>{a.enqueueAndForget(()=>dx(i,C)),M.fromCache&&"server"===p.source?_.reject(new Le(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new px(l,E,{includeMetadataChanges:!0,Ku:!0});return lx(i,C)}(yield Dm(n),n.asyncQueue,e,t,r)})),r.promise}function HL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const zL=new Map;function Zx(n,e,t){if(!t)throw new Le(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GL(n,e,t,r){if(!0===e&&!0===r)throw new Le(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qL(n){if(!at.isDocumentKey(n))throw new Le(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WL(n){if(at.isDocumentKey(n))throw new Le(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":It()}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kI(n);throw new Le(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KL(n,e){if(e<=0)throw new Le(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ZL{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Le(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Le(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Le(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class t0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qB;switch(t.type){case"firstParty":return new YB(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zL.get(e);t&&(We("ComponentProvider","Removing Datastore"),zL.delete(e),t.terminate())}(this),Promise.resolve()}}class br{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}}class Qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class bc extends Qi{constructor(e,t,r){super(e,t,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new at(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function QL(n,e,...t){if(n=(0,Un.m9)(n),Zx("collection","path",e),n instanceof t0){const r=kn.fromString(e,...t);return WL(r),new bc(n,null,r)}{if(!(n instanceof br||n instanceof bc))throw new Le(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kn.fromString(e,...t));return WL(r),new bc(n.firestore,null,r)}}function PI(n,e,...t){if(n=(0,Un.m9)(n),1===arguments.length&&(e=sN.A()),Zx("doc","path",e),n instanceof t0){const r=kn.fromString(e,...t);return qL(r),new br(n,null,new at(r))}{if(!(n instanceof br||n instanceof bc))throw new Le(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kn.fromString(e,...t));return qL(r),new br(n.firestore,n instanceof bc?n.converter:null,new at(r))}}function JL(n,e){return n=(0,Un.m9)(n),e=(0,Un.m9)(e),(n instanceof br||n instanceof bc)&&(e instanceof br||e instanceof bc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Yx(n,e){return n=(0,Un.m9)(n),e=(0,Un.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&Ov(n._query,e._query)&&n.converter===e.converter}class KH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new HM(this,"async_queue_retry"),this.Xc=()=>{const t=DI();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=DI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=DI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Di;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!wd(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,li("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=cx.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&It()}verifyOperationInProgress(){}sa(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Qx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ZH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ir extends t0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new KH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XL(this),this._firestoreClient.terminate()}}function di(n){return n._firestoreClient||XL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function XL(n){var e,t,r;const i=n._freezeSettings(),a=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Tj(n._databaseId,p,n._persistenceKey,(E=i).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,HL(E.experimentalLongPollingOptions),E.useFetchStreams));var p,E;n._firestoreClient=new VH(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function e2(n,e,t){const r=new Di;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield MI(n,t),yield $x(n,e),r.resolve()}catch(i){const a=i;if(!LL(a))throw a;Lo("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function t2(n){if(n._initialized||n._terminated)throw new Le(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(Ti.fromBase64String(e))}catch(t){throw new Le(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ic(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kf{constructor(e){this._methodName=e}}class RI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}const a3=/^__.*__$/;class c3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Bl(e,this.data,this.fieldMask,t,this.fieldTransforms):new lm(e,this.data,t,this.fieldTransforms)}}class n2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function r2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class NI{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new NI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return VI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(r2(this.ca)&&a3.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class l3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qv(e)}ya(e,t,r,i=!1){return new NI({ca:e,methodName:t,ga:r,path:Yr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zf(n){const e=n._freezeSettings(),t=Qv(n._databaseId);return new l3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FI(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);tO("Data must be an object, but it was:",l,r);const p=a2(r,l);let _,E;if(a.merge)_=new Ws(l.fieldMask),E=l.fieldTransforms;else if(a.mergeFields){const C=[];for(const M of a.mergeFields){const F=s0(e,M,t);if(!l.contains(F))throw new Le(de.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);l2(C,F)||C.push(F)}_=new Ws(C),E=l.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,E=l.fieldTransforms;return new c3(new Yi(p),_,E)}class r0 extends Kf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r0}}function s2(n,e,t){return new NI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jx extends Kf{_toFieldTransform(e){return new Nv(e.path,new am)}isEqual(e){return e instanceof Jx}}class u3 extends Kf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=s2(this,e,!0),r=this.pa.map(a=>Yf(a,t)),i=new Uf(r);return new Nv(e.path,i)}isEqual(e){return this===e}}class d3 extends Kf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=s2(this,e,!0),r=this.pa.map(a=>Yf(a,t)),i=new Bf(r);return new Nv(e.path,i)}isEqual(e){return this===e}}class h3 extends Kf{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new cm(e.serializer,QN(e.serializer,this.Ia));return new Nv(e.path,t)}isEqual(e){return this===e}}function Xx(n,e,t,r){const i=n.ya(1,e,t);tO("Data must be an object, but it was:",i,r);const a=[],l=Yi.empty();Ed(r,(_,E)=>{const C=LI(e,_,t);E=(0,Un.m9)(E);const M=i.da(C);if(E instanceof r0)a.push(C);else{const F=Yf(E,M);null!=F&&(a.push(C),l.set(C,F))}});const p=new Ws(a);return new n2(l,p,i.fieldTransforms)}function eO(n,e,t,r,i,a){const l=n.ya(1,e,t),p=[s0(e,r,t)],_=[i];if(a.length%2!=0)throw new Le(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)p.push(s0(e,a[F])),_.push(a[F+1]);const E=[],C=Yi.empty();for(let F=p.length-1;F>=0;--F)if(!l2(E,p[F])){const B=p[F];let K=_[F];K=(0,Un.m9)(K);const te=l.da(B);if(K instanceof r0)E.push(B);else{const ue=Yf(K,te);null!=ue&&(E.push(B),C.set(B,ue))}}const M=new Ws(E);return new n2(C,M,l.fieldTransforms)}function o2(n,e,t,r=!1){return Yf(t,n.ya(r?4:3,e))}function Yf(n,e){if(c2(n=(0,Un.m9)(n)))return tO("Unsupported field value:",e,n),a2(n,e);if(n instanceof Kf)return function(t,r){if(!r2(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let p=Yf(l,r.wa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return QN(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Mr.fromDate(t);return{timestampValue:dm(r.serializer,i)}}if(t instanceof Mr){const i=new Mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dm(r.serializer,i)}}if(t instanceof RI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ic)return{bytesValue:_F(r.serializer,t._byteString)};if(t instanceof br){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${kI(t)}`)}(n,e)}function a2(n,e){const t={};return wN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ed(n,(r,i)=>{const a=Yf(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function c2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mr||n instanceof RI||n instanceof Ic||n instanceof br||n instanceof Kf)}function tO(n,e,t){if(!c2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=kI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function s0(n,e,t){if((e=(0,Un.m9)(e))instanceof Hl)return e._internalPath;if("string"==typeof e)return LI(n,e);throw VI("Field path arguments must be of type string or ",n,!1,void 0,t)}const f3=new RegExp("[~\\*/\\[\\]]");function LI(n,e,t){if(e.search(f3)>=0)throw VI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hl(...e.split("."))._internalPath}catch{throw VI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function VI(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(a||l)&&(_+=" (found",a&&(_+=` in field ${r}`),l&&(_+=` in document ${i}`),_+=")"),new Le(de.INVALID_ARGUMENT,p+n+_)}function l2(n,e){return n.some(t=>t.isEqual(e))}class o0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new p3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class p3 extends o0{data(){return super.data()}}function UI(n,e){return"string"==typeof e?LI(n,e):e instanceof Hl?e._internalPath:e._delegate._internalPath}function u2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nO{}class a0 extends nO{}function Rd(n,e,...t){let r=[];e instanceof nO&&r.push(e),r=r.concat(t),function(i){const a=i.filter(p=>p instanceof Tm).length,l=i.filter(p=>p instanceof c0).length;if(a>1||a>0&&l>0)throw new Le(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class c0 extends a0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new c0(e,t,r)}_apply(e){const t=this._parse(e);return p2(e._query,t),new Qi(e.firestore,e.converter,aM(e._query,t))}_parse(e){const t=Zf(e.firestore);return function(i,a,l,p,_,E,C){let M;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Le(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){f2(C,E);const F=[];for(const B of C)F.push(h2(p,i,B));M={arrayValue:{values:F}}}else M=h2(p,i,C)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||f2(C,E),M=o2(l,"where",C,"in"===E||"not-in"===E);return Sn.create(_,E,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Tm extends nO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const p of l)p2(a,p),a=aM(a,p)}(e._query,t),new Qi(e.firestore,e.converter,aM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rO extends a0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rO(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Le(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new im(i,a);return function(p,_){if(null===sM(p)){const E=rI(p);null!==E&&g2(0,E,_.field)}}(r,l),l}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Vl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class BI extends a0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new BI(e,t,r)}_apply(e){return new Qi(e.firestore,e.converter,iI(e._query,this._limit,this._limitType))}}class jI extends a0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jI(e,t,r)}_apply(e){const t=d2(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,(i=t,new Vl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class $I extends a0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new $I(e,t,r)}_apply(e){const t=d2(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,(i=t,new Vl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function d2(n,e,t,r){if(t[0]=(0,Un.m9)(t[0]),t[0]instanceof o0)return function(i,a,l,p,_){if(!p)throw new Le(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const E=[];for(const C of Vf(i))if(C.field.isKeyField())E.push(Ff(a,p.key));else{const M=p.data.field(C.field);if(Yb(M))throw new Le(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=C.field.canonicalString();throw new Le(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}E.push(M)}return new Sd(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Zf(n.firestore);return function(a,l,p,_,E,C){const M=a.explicitOrderBy;if(E.length>M.length)throw new Le(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<E.length;B++){const K=E[B];if(M[B].field.isKeyField()){if("string"!=typeof K)throw new Le(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof K}`);if(!oM(a)&&-1!==K.indexOf("/"))throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${K}' contains a slash.`);const te=a.path.child(kn.fromString(K));if(!at.isDocumentKey(te))throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const ue=new at(te);F.push(Ff(l,ue))}else{const te=o2(p,_,K);F.push(te)}}return new Sd(F,C)}(n._query,n.firestore._databaseId,i,e,t,r)}}function h2(n,e,t){if("string"==typeof(t=(0,Un.m9)(t))){if(""===t)throw new Le(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oM(e)&&-1!==t.indexOf("/"))throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(kn.fromString(t));if(!at.isDocumentKey(r))throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ff(n,new at(r))}if(t instanceof br)return Ff(n,t._key);throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kI(t)}.`)}function f2(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p2(n,e){if(e.isInequality()){const r=rI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Le(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=sM(n);null!==a&&g2(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Le(de.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function g2(n,e,t){if(!t.isEqual(e))throw new Le(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class iO{convertValue(e,t="none"){switch(Dd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw It()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ed(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new RI(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tv(e));default:return null}}convertTimestamp(e){const t=bd(e);return new Mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kn.fromString(e);Rt(AF(r));const i=new Id(r.get(1),r.get(3)),a=new at(r.popFirst(5));return i.isEqual(t)||li(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function HI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class I3 extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,t)}}class Qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zl extends o0{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new l0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class l0 extends zl{data(e={}){return super.data(e)}}class Nd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new l0(this._firestore,this._userDataWriter,r.key,r,new Qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new l0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Qf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const p=new l0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Qf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,E=-1;return 0!==l.type&&(_=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),E=a.indexOf(l.doc.key)),{type:D3(l.type),doc:p,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function D3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}function y2(n,e){return n instanceof zl&&e instanceof zl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nd&&e instanceof Nd&&n._firestore===e._firestore&&Yx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Fd extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,t)}}function _2(n,e,t){n=An(n,br);const r=An(n.firestore,Ir),i=HI(n.converter,e,t);return Sm(r,[FI(Zf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,xr.none())])}function v2(n,e,t,...r){n=An(n,br);const i=An(n.firestore,Ir),a=Zf(i);let l;return l="string"==typeof(e=(0,Un.m9)(e))||e instanceof Hl?eO(a,"updateDoc",n._key,e,t,r):Xx(a,"updateDoc",n._key,e),Sm(i,[l.toMutation(n._key,xr.exists(!0))])}function w2(n,...e){var t,r,i;n=(0,Un.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Qx(e[l])||(a=e[l],l++);const p={includeMetadataChanges:a.includeMetadataChanges};if(Qx(e[l])){const M=e[l];e[l]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[l+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[l+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,E,C;if(n instanceof br)E=An(n.firestore,Ir),C=om(n._key.path),_={next:M=>{e[l]&&e[l](sO(E,n,M))},error:e[l+1],complete:e[l+2]};else{const M=An(n,Qi);E=An(M.firestore,Ir),C=M._query;const F=new Fd(E);_={next:B=>{e[l]&&e[l](new Nd(E,F,M,B))},error:e[l+1],complete:e[l+2]},u2(n._query)}return function(M,F,B,K){const te=new AI(K),ue=new px(F,te,B);return M.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return lx(yield Dm(M),ue)})),()=>{te.Dc(),M.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return dx(yield Dm(M),ue)}))}}(di(E),C,p,_)}function Sm(n,e){return function(t,r){const i=new Di;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function _H(n,e,t){return vx.apply(this,arguments)}(yield Wx(t),r,i)})),i.promise}(di(n),e)}function sO(n,e,t){const r=t.docs.get(e._key),i=new Fd(n);return new zl(n,i,e._key,r,new Qf(t.hasPendingWrites,t.fromCache),e.converter)}const H3={maxAttempts:5};class E2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zf(e)}set(e,t,r){this._verifyNotCommitted();const i=Ld(e,this._firestore),a=HI(i.converter,t,r),l=FI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,xr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Ld(e,this._firestore);let l;return l="string"==typeof(t=(0,Un.m9)(t))||t instanceof Hl?eO(this._dataReader,"WriteBatch.update",a._key,t,r,i):Xx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ld(e,this._firestore);return this._mutations=this._mutations.concat(new um(t._key,xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ld(n,e){if((n=(0,Un.m9)(n)).firestore!==e)throw new Le(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class z3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zf(e)}get(e){const t=Ld(e,this._firestore),r=new I3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return It();const a=i[0];if(a.isFoundDocument())return new o0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new o0(this._firestore,r,t._key,null,t.converter);throw It()})}set(e,t,r){const i=Ld(e,this._firestore),a=HI(i.converter,t,r),l=FI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=Ld(e,this._firestore);let l;return l="string"==typeof(t=(0,Un.m9)(t))||t instanceof Hl?eO(this._dataReader,"Transaction.update",a._key,t,r,i):Xx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Ld(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ld(e,this._firestore),r=new Fd(this._firestore);return super.get(e).then(i=>new zl(this._firestore,r,t._key,i._document,new Qf(!1,!1),t.converter))}}!function(n,e=!0){em=Mf.SDK_VERSION,(0,Mf._registerComponent)(new pb.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Ir(new KB(t.getProvider("auth-internal")),new QB(t.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Le(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(p.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Mf.registerVersion)(nN,"3.12.0",n),(0,Mf.registerVersion)(nN,"3.12.0","esm2017")}();function oO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function I2(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function C2(){if(!function Cj(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class u0{constructor(e){this._delegate=e}static fromBase64String(e){return C2(),new u0(Ic.fromBase64String(e))}static fromUint8Array(e){return I2(),new u0(Ic.fromUint8Array(e))}toBase64(){return C2(),this._delegate.toBase64()}toUint8Array(){return I2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function aO(n){return function X3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class e4{enableIndexedDbPersistence(e,t){return function QH(n,e){t2(n=An(n,Ir));const t=di(n);if(t._uninitializedComponentsProvider)throw new Le(de.FAILED_PRECONDITION,"SDK cache is already specified.");Lo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Cm;return e2(t,i,new Bx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function JH(n){t2(n=An(n,Ir));const e=di(n);if(e._uninitializedComponentsProvider)throw new Le(de.FAILED_PRECONDITION,"SDK cache is already specified.");Lo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Cm;return e2(e,r,new NL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function XH(n){if(n._initialized&&!n._terminated)throw new Le(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!Ma.D())return Promise.resolve();const i=r+"main";yield Ma.delete(i)}),function(r){return t.apply(this,arguments)})(kM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class D2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Id||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Lo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function YL(n,e,t,r={}){var i;const a=(n=An(n,t0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Lo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,p;if("string"==typeof r.mockUserToken)l=r.mockUserToken,p=Fi.MOCK_USER;else{l=(0,Un.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Le(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Fi(_)}n._authCredentials=new WB(new rN(l,p))}}(this._delegate,e,t,r)}enableNetwork(){return function t3(n){return function UH(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield VL(n),t=yield UL(n);return e.setNetworkEnabled(!0),function(r){const i=ht(r);return i.vu.delete(0),Jv(i)}(t)}))}(di(n=An(n,Ir)))}(this._delegate)}disableNetwork(){return function n3(n){return function BH(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield VL(n),t=yield UL(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(i){const a=ht(i);a.vu.add(0),yield ym(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(di(n=An(n,Ir)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,GL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function e3(n){return function(e){const t=new Di;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function bH(n,e){return Cx.apply(this,arguments)}(yield Wx(e),t)})),t.promise}(di(n=An(n,Ir)))}(this._delegate)}onSnapshotsInSync(e){return function R3(n,e){return function HH(n,e){const t=new AI(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Dm(n),i=t,ht(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Dm(n),i=t,void ht(r).ku.delete(i);var r,i}))}}(di(n=An(n,Ir)),Qx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Am(this,QL(this._delegate,e))}catch(t){throw xs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Vo(this,PI(this._delegate,e))}catch(t){throw xs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Os(this,function WH(n,e){if(n=An(n,t0),Zx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(t=e,new Vl(kn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw xs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function G3(n,e,t){n=An(n,Ir);const r=Object.assign(Object.assign({},H3),t);return function(i){if(i.maxAttempts<1)throw new Le(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const p=new Di;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const _=yield function BL(n){return xI(n).then(e=>e.datastore)}(i);new LH(i.asyncQueue,_,l,a,p).run()})),p.promise}(di(n),i=>e(new z3(n,i)),r)}(this._delegate,t=>e(new T2(this,t)))}batch(){return di(this._delegate),new S2(new E2(this._delegate,e=>Sm(this._delegate,e)))}loadBundle(e){return function r3(n,e){const t=di(n=An(n,Ir)),r=new ZH;return function zH(n,e,t,r){const i=function(a,l){let p;return p="string"==typeof a?uF().encode(a):a,_=function(_,E){if(_ instanceof Uint8Array)return FL(_,E);if(_ instanceof ArrayBuffer)return FL(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new NH(_,l);var _}(t,Qv(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function PH(n,e,t){const r=ht(n);var i;(i=(0,Te.Z)(function*(a,l,p){try{const _=yield l.getMetadata();if(yield function(F,B){const K=ht(F),te=ui(B.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",ue=>K.qs.getBundleMetadata(ue,B.id)).then(ue=>!!ue&&ue.createTime.compareTo(te)>=0)}(a.localStore,_))return yield l.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(TL(_));const E=new hH(_,a.localStore,l.serializer);let C=yield l.bc();for(;C;){const F=yield E.zu(C);F&&p._updateProgress(F),C=yield l.bc()}const M=yield E.complete();return yield $l(a,M.Ju,void 0),yield function(F,B){const K=ht(F);return K.persistence.runTransaction("Save bundle","readwrite",te=>K.qs.saveBundleMetadata(te,B))}(a.localStore,_),p._completeWith(M.progress),Promise.resolve(M.Hu)}catch(_){return Lo("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var F}),function(a,l,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Wx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function s3(n,e){return function GH(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const i=ht(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield OI(n),e)}))}(di(n=An(n,Ir)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Os(this,t):null)}}class zI extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new u0(new Ic(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Vo.forKey(t,this.firestore,null)}}class T2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}get(e){const t=Xf(e);return this._delegate.get(t).then(r=>new d0(this._firestore,new zl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Xf(e);return r?(oO("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Xf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Xf(e);return this._delegate.delete(t),this}}class S2{constructor(e){this._delegate=e}set(e,t,r){const i=Xf(e);return r?(oO("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Xf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Xf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new l0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new h0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Jf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Jf(e,new zI(e),t),i.set(t,a)),a}}Jf.INSTANCES=new WeakMap;class Vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vo(t,new br(t._delegate,r,new at(e)))}static forKey(e,t,r){return new Vo(t,new br(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Am(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Am(this.firestore,QL(this._delegate,e))}catch(t){throw xs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Un.m9)(e))instanceof br&&JL(this._delegate,e)}set(e,t){t=oO("DocumentReference.set",t);try{return t?_2(this._delegate,e,t):_2(this._delegate,e)}catch(r){throw xs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?v2(this._delegate,e):v2(this._delegate,e,t,...r)}catch(i){throw xs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function k3(n){return Sm(An(n.firestore,Ir),[new um(n._key,xr.none())])}(this._delegate)}onSnapshot(...e){const t=A2(e),r=M2(e,i=>new d0(this.firestore,new zl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return w2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function S3(n){n=An(n,br);const e=An(n.firestore,Ir),t=di(e),r=new Fd(e);return function jH(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,a,l){try{const p=yield function(_,E){const C=ht(_);return C.persistence.runTransaction("read document","readonly",M=>C.localDocuments.getDocument(M,E))}(i,a);p.isFoundDocument()?l.resolve(p):p.isNoDocument()?l.resolve(null):l.reject(new Le(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=wm(p,`Failed to get document '${a} from cache`);l.reject(_)}}),function(i,a,l){return r.apply(this,arguments)})(yield OI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new zl(e,r,n._key,i,new Qf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function A3(n){n=An(n,br);const e=An(n.firestore,Ir);return jL(di(e),n._key,{source:"server"}).then(t=>sO(e,n,t))}(this._delegate):function T3(n){n=An(n,br);const e=An(n.firestore,Ir);return jL(di(e),n._key).then(t=>sO(e,n,t))}(this._delegate),t.then(r=>new d0(this.firestore,new zl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Vo(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function xs(n,e,t){return n.message=n.message.replace(e,t),n}function A2(n){for(const e of n)if("object"==typeof e&&!aO(e))return e;return{}}function M2(n,e){var t,r;let i;return i=aO(n[0])?n[0]:aO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class d0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return y2(this._delegate,e._delegate)}}class h0 extends d0{data(e){const t=this._delegate.data(e);return function GB(n,e){n||It()}(void 0!==t),t}}class Os{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}where(e,t,r){try{return new Os(this.firestore,Rd(this._delegate,function g3(n,e,t){const r=e,i=UI("where",n);return c0._create(i,r,t)}(e,t,r)))}catch(i){throw xs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Os(this.firestore,Rd(this._delegate,function m3(n,e="asc"){const t=e,r=UI("orderBy",n);return rO._create(r,t)}(e,t)))}catch(r){throw xs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Os(this.firestore,Rd(this._delegate,function y3(n){return KL("limit",n),BI._create("limit",n,"F")}(e)))}catch(t){throw xs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Os(this.firestore,Rd(this._delegate,function _3(n){return KL("limitToLast",n),BI._create("limitToLast",n,"L")}(e)))}catch(t){throw xs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Os(this.firestore,Rd(this._delegate,function v3(...n){return jI._create("startAt",n,!0)}(...e)))}catch(t){throw xs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Os(this.firestore,Rd(this._delegate,function w3(...n){return jI._create("startAfter",n,!1)}(...e)))}catch(t){throw xs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Os(this.firestore,Rd(this._delegate,function E3(...n){return $I._create("endBefore",n,!1)}(...e)))}catch(t){throw xs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Os(this.firestore,Rd(this._delegate,function b3(...n){return $I._create("endAt",n,!0)}(...e)))}catch(t){throw xs(t,"endAt()","Query.endAt()")}}isEqual(e){return Yx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function x3(n){n=An(n,Qi);const e=An(n.firestore,Ir),t=di(e),r=new Fd(e);return function $H(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,a,l){try{const p=yield EI(i,a,!0),_=new ML(a,p.ir),E=_.sc(p.documents),C=_.applyChanges(E,!1);l.resolve(C.snapshot)}catch(p){const _=wm(p,`Failed to execute query '${a} against cache`);l.reject(_)}}),function(i,a,l){return r.apply(this,arguments)})(yield OI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Nd(e,r,n,i))}(this._delegate):"server"===e?.source?function O3(n){n=An(n,Qi);const e=An(n.firestore,Ir),t=di(e),r=new Fd(e);return $L(t,n._query,{source:"server"}).then(i=>new Nd(e,r,n,i))}(this._delegate):function M3(n){n=An(n,Qi);const e=An(n.firestore,Ir),t=di(e),r=new Fd(e);return u2(n._query),$L(t,n._query).then(i=>new Nd(e,r,n,i))}(this._delegate),t.then(r=>new cO(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=A2(e),r=M2(e,i=>new cO(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return w2(this._delegate,t,r)}withConverter(e){return new Os(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}class n4{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new h0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Os(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new h0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new n4(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new h0(this._firestore,r))})}isEqual(e){return y2(this._delegate,e._delegate)}}class Am extends Os{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vo(this.firestore,e):null}doc(e){try{return new Vo(this.firestore,void 0===e?PI(this._delegate):PI(this._delegate,e))}catch(t){throw xs(t,"doc()","CollectionReference.doc()")}}add(e){return function P3(n,e){const t=An(n.firestore,Ir),r=PI(n),i=HI(n.converter,e);return Sm(t,[FI(Zf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Vo(this.firestore,t))}isEqual(e){return JL(this._delegate,e._delegate)}withConverter(e){return new Am(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function Xf(n){return An(n,br)}class lO{constructor(...e){this._delegate=new Hl(...e)}static documentId(){return new lO(Yr.keyField().canonicalString())}isEqual(e){return(e=(0,Un.m9)(e))instanceof Hl&&this._delegate._internalPath.isEqual(e._internalPath)}}class ep{constructor(e){this._delegate=e}static serverTimestamp(){const e=function W3(){return new Jx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ep(e)}static delete(){const e=function q3(){return new r0("deleteField")}();return e._methodName="FieldValue.delete",new ep(e)}static arrayUnion(...e){const t=function K3(...n){return new u3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ep(t)}static arrayRemove(...e){const t=function Z3(...n){return new d3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ep(t)}static increment(e){const t=function Y3(n){return new h3("increment",n)}(e);return t._methodName="FieldValue.increment",new ep(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const r4={Firestore:D2,GeoPoint:RI,Timestamp:Mr,Blob:u0,Transaction:T2,WriteBatch:S2,DocumentReference:Vo,DocumentSnapshot:d0,Query:Os,QueryDocumentSnapshot:h0,QuerySnapshot:cO,CollectionReference:Am,FieldPath:lO,FieldValue:ep,setLogLevel:function t4(n){!function zB(n){_d.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function s4(n){(function i4(n,e){n.INTERNAL.registerComponent(new pb.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},r4)))})(n,(e,t)=>new D2(e,t,new e4)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(UU.Z);var o4=P(6451),f0=P(5363),a4=P(6063);class c4 extends Pr.x{constructor(e=1/0,t=1/0,r=a4.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=l;_+=2)p=_;p&&r.splice(0,p+1)}}}var l4=P(3099);function uO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,l4.B)({connector:()=>new c4(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function x2(n,e){return(0,Kc.m)(e)?rr(()=>n,e):rr(()=>n)}var dO=P(9468);P(259);const fO=new Map,k2={activated:!1,tokenObservers:[]},p4={initialized:!1,enabled:!1};function Jr(n){return fO.get(n)||Object.assign({},k2)}function GI(){return p4}const pO="https://content-firebaseappcheck.googleapis.com/v1",_4="exchangeDebugToken",P2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class w4{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Un.BH,yield function E4(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Un.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ji=new Un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yO(){return yO=(0,Te.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,p;try{l=yield fetch(n,a)}catch(M){throw Ji.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==l.status)throw Ji.create("fetch-status-error",{httpStatus:l.status});try{p=yield l.json()}catch(M){throw Ji.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const E=1e3*Number(_[1]),C=Date.now();return{token:p.token,expireTimeMillis:C+E,issuedAtTimeMillis:C}}),yO.apply(this,arguments)}const D4="firebase-app-check-database",T4=1,g0="firebase-app-check-store";let ZI=null;function _O(){return _O=(0,Te.Z)(function*(n,e){const r=(yield function F2(){return ZI||(ZI=new Promise((n,e)=>{try{const t=indexedDB.open(D4,T4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ji.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(g0,{keyPath:"compositeKey"})}}catch(t){e(Ji.create("storage-open",{originalErrorMessage:t?.message}))}}),ZI)}()).transaction(g0,"readwrite"),a=r.objectStore(g0).put({compositeKey:n,value:e});return new Promise((l,p)=>{a.onsuccess=_=>{l()},r.onerror=_=>{var E;p(Ji.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})}),_O.apply(this,arguments)}const m0=new gd.Yd("@firebase/app-check");function EO(n,e){return(0,Un.hl)()?function A4(n,e){return function L2(n,e){return _O.apply(this,arguments)}(function U2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{m0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function DO(){return DO=(0,Te.Z)(function*(){const n=GI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),DO.apply(this,arguments)}const R4={error:"UNKNOWN_ERROR"};function N4(n){return Un.US.encodeString(JSON.stringify(n),!1)}function YI(n){return TO.apply(this,arguments)}function TO(){return TO=(0,Te.Z)(function*(n,e=!1){const t=n.app;!function gO(n){if(!Jr(n).activated)throw Ji.create("use-before-activation",{appName:n.name})}(t);const r=Jr(t);let a,i=r.token;if(i&&!Mm(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Mm(_)?i=_:yield EO(t,void 0))}if(!e&&i&&Mm(i))return{token:i.token};let p,l=!1;if(function IO(){return GI().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function KI(n,e){return yO.apply(this,arguments)}(function R2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${pO}/projects/${t}/apps/${r}:${_4}?key=${i}`,body:{debug_token:e}}}(t,yield function CO(){return DO.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const _=yield r.exchangeTokenPromise;return yield EO(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Jr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?m0.warn(_.message):m0.error(_),a=_}return i?a?p=Mm(i)?{token:i.token,internalError:a}:$2(a):(p={token:i.token},r.token=i,yield EO(t,i)):p=$2(a),l&&function j2(n,e){const t=Jr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,p),p}),TO.apply(this,arguments)}function MO(n,e){const t=Jr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function B2(n){const{app:e}=n,t=Jr(e);let r=t.tokenRefresher;r||(r=function L4(n){const{app:e}=n;return new w4((0,Te.Z)(function*(){let r;if(r=Jr(e).token?yield YI(n,!0):yield YI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Jr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},P2.RETRIAL_MIN_WAIT,P2.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Mm(n){return n.expireTimeMillis-Date.now()>0}function $2(n){return{token:N4(R4),error:n}}class V4{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Jr(this.app);for(const t of e)MO(this.app,t.next);return Promise.resolve()}}const Y2="app-check-internal";!function J4(){(0,Mf._registerComponent)(new pb.wA("app-check",n=>function U4(n,e){return new V4(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Y2).initialize()})),(0,Mf._registerComponent)(new pb.wA(Y2,n=>function B4(n){return{getToken:e=>YI(n,e),addTokenListener:e=>function AO(n,e,t,r){const{app:i}=n,a=Jr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Mm(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),B2(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>B2(n))}(n,"INTERNAL",e),removeTokenListener:e=>MO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mf.registerVersion)("@firebase/app-check","0.7.0")}();class PO{constructor(){return(0,vr.vb)("app-check")}}typeof window<"u"&&window;var JI=P(9260);const J2=new d.OlP("angularfire2.auth.use-emulator"),X2=new d.OlP("angularfire2.auth.settings"),eV=new d.OlP("angularfire2.auth.tenant-id"),tV=new d.OlP("angularfire2.auth.langugage-code"),nV=new d.OlP("angularfire2.auth.use-device-language"),rV=new d.OlP("angularfire.auth.persistence"),iV=(n,e,t,r,i,a,l,p)=>(0,Ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),l)for(const[E,C]of Object.entries(l))_.settings[E]=C;return p&&_.setPersistence(p),_},[t,r,i,a,l,p]);let NO=(()=>{class n{constructor(t,r,i,a,l,p,_,E,C,M,F,B){const K=new Pr.x,te=wt(void 0).pipe((0,f0.Q)(l.outsideAngular),rr(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2644)))),(0,kt.U)(()=>(0,Ss.on)(t,a,r)),(0,kt.U)(ue=>iV(ue,a,p,E,C,M,_,F)),uO({bufferSize:1,refCount:!1}));if(ns(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{te.pipe(no()).subscribe();const Je=te.pipe(rr(At=>At.getRedirectResult().then(Wt=>Wt,()=>null)),vr.iC,uO({bufferSize:1,refCount:!1})),it=te.pipe(rr(At=>new Es.y(Wt=>({unsubscribe:a.runOutsideAngular(()=>At.onAuthStateChanged(dn=>Wt.next(dn),dn=>Wt.error(dn),()=>Wt.complete()))})))),pt=te.pipe(rr(At=>new Es.y(Wt=>({unsubscribe:a.runOutsideAngular(()=>At.onIdTokenChanged(dn=>Wt.next(dn),dn=>Wt.error(dn),()=>Wt.complete()))}))));this.authState=Je.pipe(x2(it),(0,dO.R)(l.outsideAngular),(0,f0.Q)(l.insideAngular)),this.user=Je.pipe(x2(pt),(0,dO.R)(l.outsideAngular),(0,f0.Q)(l.insideAngular)),this.idToken=this.user.pipe(rr(At=>At?(0,$n.D)(At.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(rr(At=>At?(0,$n.D)(At.getIdTokenResult()):wt(null))),this.credential=(0,o4.T)(Je,K,this.authState.pipe(gi(At=>!At))).pipe((0,kt.U)(At=>At?.user?At:null),(0,dO.R)(l.outsideAngular),(0,f0.Q)(l.insideAngular))}return(0,Ss.pX)(this,te,a,{spy:{apply:(ue,Je,it)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&it.then(pt=>K.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss.Dh),d.LFG(Ss.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(vr.HU),d.LFG(J2,8),d.LFG(X2,8),d.LFG(eV,8),d.LFG(tV,8),d.LFG(nV,8),d.LFG(rV,8),d.LFG(PO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function sV(n,e){return function iz(n,e=fE.z){return new Es.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function FO(n,e){return sV(n,e).pipe((0,kt.U)(t=>({payload:t,type:"query"})))}function XI(n,e){return FO(n,e).pipe(to(void 0),fb(),(0,kt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,p)=>{const _=i.find(C=>C.doc.ref.isEqual(l.ref)),E=t?.payload.docs.find(C=>C.ref.isEqual(l.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(l.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:l}})}),a}))}function oV(n,e,t){return XI(n,t).pipe(Jc((r,i)=>function oz(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function az(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),yf(),(0,kt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function LO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function aV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=XI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,kt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(to(void 0),fb(),gi(([r,i])=>i.length>0||!r),(0,kt.U)(([r,i])=>i),vr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Jc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aV(e);return oV(this.query,t,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return FO(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),vr.iC)}get(e){return(0,$n.D)(this.query.get(e)).pipe(vr.iC)}add(e){return this.ref.add(e)}doc(e){return new lV(this.ref.doc(e),this.afs)}}class lV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=hV(r,t);return new cV(i,a,this.afs)}snapshotChanges(){return function sz(n,e){return sV(n,e).pipe(to(void 0),fb(),(0,kt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$n.D)(this.ref.get(e)).pipe(vr.iC)}}class cz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?XI(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),gi(t=>t.length>0),vr.iC):XI(this.query,this.afs.schedulers.outsideAngular).pipe(vr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Jc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aV(e);return oV(this.query,t,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return FO(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),vr.iC)}get(e){return(0,$n.D)(this.query.get(e)).pipe(vr.iC)}}const uV=new d.OlP("angularfire2.enableFirestorePersistence"),dV=new d.OlP("angularfire2.firestore.persistenceSettings"),lz=new d.OlP("angularfire2.firestore.settings"),uz=new d.OlP("angularfire2.firestore.use-emulator");function hV(n,e=(t=>t)){return{query:e(n),ref:n}}let dz=(()=>{class n{constructor(t,r,i,a,l,p,_,E,C,M,F,B,K,te,ue,Je,it){this.schedulers=_;const pt=(0,Ss.on)(t,p,r),At=C;M&&iV(pt,p,F,K,te,ue,B,Je),[this.firestore,this.persistenceEnabled$]=(0,Ss.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const Wt=p.runOutsideAngular(()=>pt.firestore());if(a&&Wt.settings(a),At&&Wt.useEmulator(...At),i&&!ns(l)){const dn=()=>{try{return(0,$n.D)(Wt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(Bn){return typeof console<"u"&&console.warn(Bn),wt(!1)}};return[Wt,p.runOutsideAngular(dn)]}return[Wt,wt(!1)]},[a,At,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=hV(i,r),p=this.schedulers.ngZone.run(()=>a);return new cV(p,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new cz(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new lV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss.Dh),d.LFG(Ss.xv,8),d.LFG(uV,8),d.LFG(lz,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(vr.HU),d.LFG(dV,8),d.LFG(uz,8),d.LFG(NO,8),d.LFG(J2,8),d.LFG(X2,8),d.LFG(eV,8),d.LFG(tV,8),d.LFG(nV,8),d.LFG(rV,8),d.LFG(PO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hz=(()=>{class n{constructor(){JI.Z.registerVersion("angularfire",vr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:uV,useValue:!0},{provide:dV,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[dz]}),n})();var fV=P(655),fz=P(5132);const gV="firebase_screen_id",UO="outlet",y0="screen_class",mV="screen_name";let Tz=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const BO={},Sz=n=>{const e=[n[y0],n[UO]].join("#");if(BO.hasOwnProperty(e))return BO[e];{const t=Tz++;return BO[e]=t,t}},Pz=new d.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Rz=new d.OlP("angularfire2.analytics.appVersion"),Nz=new d.OlP("angularfire2.analytics.appName"),Fz=new d.OlP("angularfire2.analytics.debugMode"),Lz=new d.OlP("angularfire2.analytics.config"),eC="dataLayer";let _0=(()=>{class n{constructor(t,r,i,a,l,p,_,E,C){if(this.analyticsInitialized=new Promise(()=>{}),Wl(_)){window[eC]=window[eC]||[];const F=(...te)=>"config"===te[0]&&"firebase"===te[2].origin&&(this.measurementId=te[1],!0),B=te=>{window.gtag=(...ue)=>{te&&te(...ue),"event"===ue[0]&&ue[2].send_to===this.measurementId&&(a&&(ue[2].app_name=a),i&&(ue[2].app_version=i)),l&&typeof console<"u"&&console.info(...ue),function(...Je){window[eC].push(arguments)}(...ue)}};window[eC].some(F)?(this.analyticsInitialized=Promise.resolve(),B()):this.analyticsInitialized=new Promise(te=>{B((...ue)=>{F(...ue)&&te()})}),p&&this.updateConfig(p),l&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const M=wt(void 0).pipe((0,f0.Q)(C.outsideAngular),rr(fz.Gb),rr(F=>F?E.runOutsideAngular(()=>P.e(814).then(P.bind(P,3814))):os.E),(0,kt.U)(()=>(0,Ss.cc)("analytics","AngularFireAnalytics",t.name,()=>{const F=t.analytics();return!1===r&&F.setAnalyticsCollectionEnabled(!1),F},[t,r,p,l])),uO({bufferSize:1,refCount:!1}));return(0,Ss.pX)(this,M,E)}updateConfig(t){return(0,fV.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss.Ot),d.LFG(Pz,8),d.LFG(Rz,8),d.LFG(Nz,8),d.LFG(Fz,8),d.LFG(Lz,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(vr.HU))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_V=(()=>{class n{constructor(t,r,i,a){if(this.disposables=[],JI.Z.registerVersion("angularfire",vr.q4.full,"compat-user-tracking"),ns(r))this.initialized=Promise.resolve();else{let l;this.initialized=a.runOutsideAngular(()=>new Promise(p=>l=p)),this.disposables=[i.authState.subscribe(p=>{t.setUserId(p?.uid),l()}),i.credential.subscribe(p=>{if(p){const _=p.user.isAnonymous?"anonymous":p.additionalUserInfo.providerId;p.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:_}),t.logEvent("login",{method:_})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_0),d.LFG(d.Lbi),d.LFG(NO),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),zz=(()=>{class n{constructor(t,r,i,a,l,p){if(JI.Z.registerVersion("angularfire",vr.q4.full,"compat-screen-tracking"),!r||!t)return this;l.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(gi(i=>i instanceof bi)).pipe(rr(i=>{var a;const p=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,B=>B.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===a?void 0:a.toString())||"",_=n.routerState.root.children.map(B=>B).find(B=>B.outlet===i.snapshot.outlet);if(!_)return wt(null);let E=_;for(;E.firstChild;)E=E.firstChild;const C=E.pathFromRoot.map(B=>{var K;return null===(K=B.routeConfig)||void 0===K?void 0:K.path}).filter(B=>B).join("/")||"/",M={[mV]:C,page_path:`/${p}`,firebase_event_origin:"auto",firebase_screen:C,[UO]:i.snapshot.outlet};e&&(M.page_title=e.getTitle());let F=_.component;if(F){if(F===dt){let B=i.snapshot;for(;B.firstChild;)B=B.firstChild;F=B.component}}else F=i.snapshot.component;if("string"==typeof F)return wt(Object.assign(Object.assign({},M),{[y0]:F}));if(F){const B=t.resolveComponentFactory(F);return wt(Object.assign(Object.assign({},M),{[y0]:B.selector}))}return wt(null)}),gi(i=>!!i),(0,kt.U)(i=>Object.assign({firebase_screen_class:i[y0],[gV]:Sz(i)},i)),function pz(n,e,t,r){return(0,Wr.e)((i,a)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:r}=e):l=e;const p=new Map,_=K=>{p.forEach(K),K(a)},E=K=>_(te=>te.error(K));let C=0,M=!1;const F=new yr.Q(a,K=>{try{const te=n(K);let ue=p.get(te);if(!ue){p.set(te,ue=r?r():new Pr.x);const Je=function B(K,te){const ue=new Es.y(Je=>{C++;const it=te.subscribe(Je);return()=>{it.unsubscribe(),0==--C&&M&&F.unsubscribe()}});return ue.key=K,ue}(te,ue);if(a.next(Je),t){const it=(0,yr.x)(ue,()=>{ue.complete(),it?.unsubscribe()},void 0,void 0,()=>p.delete(te));F.add((0,ia.Xf)(t(Je)).subscribe(it))}}ue.next(l?l(K):K)}catch(te){E(te)}},()=>_(K=>K.complete()),E,()=>p.clear(),()=>(M=!0,0===C));i.subscribe(F)})}(i=>i[UO]),(0,Rr.z)(i=>i.pipe(yf((a,l)=>JSON.stringify(a)===JSON.stringify(l)),to(void 0),fb(),(0,kt.U)(([a,l])=>a?Object.assign({firebase_previous_class:a[y0],firebase_previous_screen:a[mV],firebase_previous_id:a[gV]},l):l)))))(r,i,a).pipe(rr(_=>(0,fV.mG)(this,void 0,void 0,function*(){return p&&(yield p.initialized),yield t.logEvent("screen_view",_)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_0),d.LFG(Fr,8),d.LFG(mp,8),d.LFG(d._Vd),d.LFG(d.R0b),d.LFG(_V,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Gz=(()=>{class n{constructor(t,r,i){JI.Z.registerVersion("angularfire",vr.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_0),d.LFG(zz,8),d.LFG(_V,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[_0]}),n})();const qz_firebaseConfig={apiKey:"AIzaSyDdN4X-S_2h5ZgHfINmxQpgAWQ1v0BtNFM",authDomain:"tasky-b.firebaseapp.com",projectId:"tasky-b",storageBucket:"tasky-b.appspot.com",messagingSenderId:"664810159749",appId:"1:664810159749:web:6246bf729ba5cb3ad9f3ec",measurementId:"G-3PSB4VQPZ6"};let Wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[eR]}),n.\u0275inj=d.cJS({imports:[na,rE,Jw,VU,RE,Ss.hO.initializeApp(qz_firebaseConfig),hz,Gz]}),n})();lh().bootstrapModule(Wz).catch(n=>console.error(n))},9751:(Mt,Me,P)=>{P.d(Me,{y:()=>Ce});var d=P(930),J=P(727),L=P(8822),se=P(9635),he=P(2416),ce=P(576),ye=P(2806);let Ce=(()=>{class W{constructor(we){we&&(this._subscribe=we)}lift(we){const qe=new W;return qe.source=this,qe.operator=we,qe}subscribe(we,qe,vt){const me=function H(W){return W&&W instanceof d.Lv||function z(W){return W&&(0,ce.m)(W.next)&&(0,ce.m)(W.error)&&(0,ce.m)(W.complete)}(W)&&(0,J.Nn)(W)}(we)?we:new d.Hp(we,qe,vt);return(0,ye.x)(()=>{const{operator:Ue,source:je}=this;me.add(Ue?Ue.call(me,je):je?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(we){try{return this._subscribe(we)}catch(qe){we.error(qe)}}forEach(we,qe){return new(qe=ge(qe))((vt,me)=>{const Ue=new d.Hp({next:je=>{try{we(je)}catch(Ke){me(Ke),Ue.unsubscribe()}},error:me,complete:vt});this.subscribe(Ue)})}_subscribe(we){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(we)}[L.L](){return this}pipe(...we){return(0,se.U)(we)(this)}toPromise(we){return new(we=ge(we))((qe,vt)=>{let me;this.subscribe(Ue=>me=Ue,Ue=>vt(Ue),()=>qe(me))})}}return W.create=Fe=>new W(Fe),W})();function ge(W){var Fe;return null!==(Fe=W??he.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(Mt,Me,P)=>{P.d(Me,{x:()=>ye});var d=P(9751),J=P(727);const se=(0,P(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=P(8737),ce=P(2806);let ye=(()=>{class ge extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const W=new Ce(this,this);return W.operator=H,W}_throwIfClosed(){if(this.closed)throw new se}next(H){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next(H)}})}error(H){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:W}=this;for(;W.length;)W.shift().error(H)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:W,isStopped:Fe,observers:we}=this;return W||Fe?J.Lc:(this.currentObservers=null,we.push(H),new J.w0(()=>{this.currentObservers=null,(0,he.P)(we,H)}))}_checkFinalizedStatuses(H){const{hasError:W,thrownError:Fe,isStopped:we}=this;W?H.error(Fe):we&&H.complete()}asObservable(){const H=new d.y;return H.source=this,H}}return ge.create=(z,H)=>new Ce(z,H),ge})();class Ce extends ye{constructor(z,H){super(),this.destination=z,this.source=H}next(z){var H,W;null===(W=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===W||W.call(H,z)}error(z){var H,W;null===(W=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===W||W.call(H,z)}complete(){var z,H;null===(H=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===H||H.call(z)}_subscribe(z){var H,W;return null!==(W=null===(H=this.source)||void 0===H?void 0:H.subscribe(z))&&void 0!==W?W:J.Lc}}},930:(Mt,Me,P)=>{P.d(Me,{Hp:()=>vt,Lv:()=>W});var d=P(576),J=P(727),L=P(2416),se=P(7849),he=P(5032);const ce=ge("C",void 0,void 0);function ge(Pe,Ee,Ie){return{kind:Pe,value:Ee,error:Ie}}var z=P(3410),H=P(2806);class W extends J.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,J.Nn)(Ee)&&Ee.add(this)):this.destination=Ke}static create(Ee,Ie,tt){return new vt(Ee,Ie,tt)}next(Ee){this.isStopped?je(function Ce(Pe){return ge("N",Pe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?je(function ye(Pe){return ge("E",void 0,Pe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?je(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function we(Pe,Ee){return Fe.call(Pe,Ee)}class qe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Ee)}catch(tt){me(tt)}}error(Ee){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Ee)}catch(tt){me(tt)}else me(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ie){me(Ie)}}}class vt extends W{constructor(Ee,Ie,tt){let ze;if(super(),(0,d.m)(Ee)||!Ee)ze={next:Ee??void 0,error:Ie??void 0,complete:tt??void 0};else{let ct;this&&L.v.useDeprecatedNextContext?(ct=Object.create(Ee),ct.unsubscribe=()=>this.unsubscribe(),ze={next:Ee.next&&we(Ee.next,ct),error:Ee.error&&we(Ee.error,ct),complete:Ee.complete&&we(Ee.complete,ct)}):ze=Ee}this.destination=new qe(ze)}}function me(Pe){L.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Pe):(0,se.h)(Pe)}function je(Pe,Ee){const{onStoppedNotification:Ie}=L.v;Ie&&z.z.setTimeout(()=>Ie(Pe,Ee))}const Ke={closed:!0,next:he.Z,error:function Ue(Pe){throw Pe},complete:he.Z}},727:(Mt,Me,P)=>{P.d(Me,{Lc:()=>ce,w0:()=>he,Nn:()=>ye});var d=P(576);const L=(0,P(3888).d)(ge=>function(H){ge(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((W,Fe)=>`${Fe+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var se=P(8737);class he{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const we of H)we.remove(this);else H.remove(this);const{initialTeardown:W}=this;if((0,d.m)(W))try{W()}catch(we){z=we instanceof L?we.errors:[we]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const we of Fe)try{Ce(we)}catch(qe){z=z??[],qe instanceof L?z=[...z,...qe.errors]:z.push(qe)}}if(z)throw new L(z)}}add(z){var H;if(z&&z!==this)if(this.closed)Ce(z);else{if(z instanceof he){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(z)}}_hasParent(z){const{_parentage:H}=this;return H===z||Array.isArray(H)&&H.includes(z)}_addParent(z){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(z),H):H?[H,z]:z}_removeParent(z){const{_parentage:H}=this;H===z?this._parentage=null:Array.isArray(H)&&(0,se.P)(H,z)}remove(z){const{_finalizers:H}=this;H&&(0,se.P)(H,z),z instanceof he&&z._removeParent(this)}}he.EMPTY=(()=>{const ge=new he;return ge.closed=!0,ge})();const ce=he.EMPTY;function ye(ge){return ge instanceof he||ge&&"closed"in ge&&(0,d.m)(ge.remove)&&(0,d.m)(ge.add)&&(0,d.m)(ge.unsubscribe)}function Ce(ge){(0,d.m)(ge)?ge():ge.unsubscribe()}},2416:(Mt,Me,P)=>{P.d(Me,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Mt,Me,P)=>{P.d(Me,{E:()=>J});const J=new(P(9751).y)(he=>he.complete())},8996:(Mt,Me,P)=>{P.d(Me,{D:()=>Ee});var d=P(8421),J=P(5363),L=P(9468),ce=P(9751),Ce=P(2202),ge=P(576),z=P(9672);function W(Ie,tt){if(!Ie)throw new Error("Iterable cannot be null");return new ce.y(ze=>{(0,z.f)(ze,tt,()=>{const ct=Ie[Symbol.asyncIterator]();(0,z.f)(ze,tt,()=>{ct.next().then(ae=>{ae.done?ze.complete():ze.next(ae.value)})},0,!0)})})}var Fe=P(3670),we=P(8239),qe=P(1144),vt=P(6495),me=P(2206),Ue=P(4532),je=P(3260);function Ee(Ie,tt){return tt?function Pe(Ie,tt){if(null!=Ie){if((0,Fe.c)(Ie))return function se(Ie,tt){return(0,d.Xf)(Ie).pipe((0,L.R)(tt),(0,J.Q)(tt))}(Ie,tt);if((0,qe.z)(Ie))return function ye(Ie,tt){return new ce.y(ze=>{let ct=0;return tt.schedule(function(){ct===Ie.length?ze.complete():(ze.next(Ie[ct++]),ze.closed||this.schedule())})})}(Ie,tt);if((0,we.t)(Ie))return function he(Ie,tt){return(0,d.Xf)(Ie).pipe((0,L.R)(tt),(0,J.Q)(tt))}(Ie,tt);if((0,me.D)(Ie))return W(Ie,tt);if((0,vt.T)(Ie))return function H(Ie,tt){return new ce.y(ze=>{let ct;return(0,z.f)(ze,tt,()=>{ct=Ie[Ce.h](),(0,z.f)(ze,tt,()=>{let ae,Pt;try{({value:ae,done:Pt}=ct.next())}catch(ot){return void ze.error(ot)}Pt?ze.complete():ze.next(ae)},0,!0)}),()=>(0,ge.m)(ct?.return)&&ct.return()})}(Ie,tt);if((0,je.L)(Ie))return function Ke(Ie,tt){return W((0,je.Q)(Ie),tt)}(Ie,tt)}throw(0,Ue.z)(Ie)}(Ie,tt):(0,d.Xf)(Ie)}},8421:(Mt,Me,P)=>{P.d(Me,{Xf:()=>Fe});var d=P(655),J=P(1144),L=P(8239),se=P(9751),he=P(3670),ce=P(2206),ye=P(4532),Ce=P(6495),ge=P(3260),z=P(576),H=P(7849),W=P(8822);function Fe(Pe){if(Pe instanceof se.y)return Pe;if(null!=Pe){if((0,he.c)(Pe))return function we(Pe){return new se.y(Ee=>{const Ie=Pe[W.L]();if((0,z.m)(Ie.subscribe))return Ie.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,J.z)(Pe))return function qe(Pe){return new se.y(Ee=>{for(let Ie=0;Ie<Pe.length&&!Ee.closed;Ie++)Ee.next(Pe[Ie]);Ee.complete()})}(Pe);if((0,L.t)(Pe))return function vt(Pe){return new se.y(Ee=>{Pe.then(Ie=>{Ee.closed||(Ee.next(Ie),Ee.complete())},Ie=>Ee.error(Ie)).then(null,H.h)})}(Pe);if((0,ce.D)(Pe))return Ue(Pe);if((0,Ce.T)(Pe))return function me(Pe){return new se.y(Ee=>{for(const Ie of Pe)if(Ee.next(Ie),Ee.closed)return;Ee.complete()})}(Pe);if((0,ge.L)(Pe))return function je(Pe){return Ue((0,ge.Q)(Pe))}(Pe)}throw(0,ye.z)(Pe)}function Ue(Pe){return new se.y(Ee=>{(function Ke(Pe,Ee){var Ie,tt,ze,ct;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,d.KL)(Pe);!(tt=yield Ie.next()).done;)if(Ee.next(tt.value),Ee.closed)return}catch(ae){ze={error:ae}}finally{try{tt&&!tt.done&&(ct=Ie.return)&&(yield ct.call(Ie))}finally{if(ze)throw ze.error}}Ee.complete()})})(Pe,Ee).catch(Ie=>Ee.error(Ie))})}},6451:(Mt,Me,P)=>{P.d(Me,{T:()=>ce});var d=P(8189),J=P(8421),L=P(515),se=P(7669),he=P(8996);function ce(...ye){const Ce=(0,se.yG)(ye),ge=(0,se._6)(ye,1/0),z=ye;return z.length?1===z.length?(0,J.Xf)(z[0]):(0,d.J)(ge)((0,he.D)(z,Ce)):L.E}},5403:(Mt,Me,P)=>{P.d(Me,{Q:()=>L,x:()=>J});var d=P(930);function J(se,he,ce,ye,Ce){return new L(se,he,ce,ye,Ce)}class L extends d.Lv{constructor(he,ce,ye,Ce,ge,z){super(he),this.onFinalize=ge,this.shouldUnsubscribe=z,this._next=ce?function(H){try{ce(H)}catch(W){he.error(W)}}:super._next,this._error=Ce?function(H){try{Ce(H)}catch(W){he.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(H){he.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(Mt,Me,P)=>{P.d(Me,{U:()=>L});var d=P(4482),J=P(5403);function L(se,he){return(0,d.e)((ce,ye)=>{let Ce=0;ce.subscribe((0,J.x)(ye,ge=>{ye.next(se.call(he,ge,Ce++))}))})}},8189:(Mt,Me,P)=>{P.d(Me,{J:()=>L});var d=P(5577),J=P(4671);function L(se=1/0){return(0,d.z)(J.y,se)}},5577:(Mt,Me,P)=>{P.d(Me,{z:()=>Ce});var d=P(4004),J=P(8421),L=P(4482),se=P(9672),he=P(5403),ye=P(576);function Ce(ge,z,H=1/0){return(0,ye.m)(z)?Ce((W,Fe)=>(0,d.U)((we,qe)=>z(W,we,Fe,qe))((0,J.Xf)(ge(W,Fe))),H):("number"==typeof z&&(H=z),(0,L.e)((W,Fe)=>function ce(ge,z,H,W,Fe,we,qe,vt){const me=[];let Ue=0,je=0,Ke=!1;const Pe=()=>{Ke&&!me.length&&!Ue&&z.complete()},Ee=tt=>Ue<W?Ie(tt):me.push(tt),Ie=tt=>{we&&z.next(tt),Ue++;let ze=!1;(0,J.Xf)(H(tt,je++)).subscribe((0,he.x)(z,ct=>{Fe?.(ct),we?Ee(ct):z.next(ct)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Ue--;me.length&&Ue<W;){const ct=me.shift();qe?(0,se.f)(z,qe,()=>Ie(ct)):Ie(ct)}Pe()}catch(ct){z.error(ct)}}))};return ge.subscribe((0,he.x)(z,Ee,()=>{Ke=!0,Pe()})),()=>{vt?.()}}(W,Fe,ge,H)))}},5363:(Mt,Me,P)=>{P.d(Me,{Q:()=>se});var d=P(9672),J=P(4482),L=P(5403);function se(he,ce=0){return(0,J.e)((ye,Ce)=>{ye.subscribe((0,L.x)(Ce,ge=>(0,d.f)(Ce,he,()=>Ce.next(ge),ce),()=>(0,d.f)(Ce,he,()=>Ce.complete(),ce),ge=>(0,d.f)(Ce,he,()=>Ce.error(ge),ce)))})}},3099:(Mt,Me,P)=>{P.d(Me,{B:()=>he});var d=P(8421),J=P(7579),L=P(930),se=P(4482);function he(ye={}){const{connector:Ce=(()=>new J.x),resetOnError:ge=!0,resetOnComplete:z=!0,resetOnRefCountZero:H=!0}=ye;return W=>{let Fe,we,qe,vt=0,me=!1,Ue=!1;const je=()=>{we?.unsubscribe(),we=void 0},Ke=()=>{je(),Fe=qe=void 0,me=Ue=!1},Pe=()=>{const Ee=Fe;Ke(),Ee?.unsubscribe()};return(0,se.e)((Ee,Ie)=>{vt++,!Ue&&!me&&je();const tt=qe=qe??Ce();Ie.add(()=>{vt--,0===vt&&!Ue&&!me&&(we=ce(Pe,H))}),tt.subscribe(Ie),!Fe&&vt>0&&(Fe=new L.Hp({next:ze=>tt.next(ze),error:ze=>{Ue=!0,je(),we=ce(Ke,ge,ze),tt.error(ze)},complete:()=>{me=!0,je(),we=ce(Ke,z),tt.complete()}}),(0,d.Xf)(Ee).subscribe(Fe))})(W)}}function ce(ye,Ce,...ge){if(!0===Ce)return void ye();if(!1===Ce)return;const z=new L.Hp({next:()=>{z.unsubscribe(),ye()}});return(0,d.Xf)(Ce(...ge)).subscribe(z)}},9468:(Mt,Me,P)=>{P.d(Me,{R:()=>J});var d=P(4482);function J(L,se=0){return(0,d.e)((he,ce)=>{ce.add(L.schedule(()=>he.subscribe(ce),se))})}},8505:(Mt,Me,P)=>{P.d(Me,{b:()=>he});var d=P(576),J=P(4482),L=P(5403),se=P(4671);function he(ce,ye,Ce){const ge=(0,d.m)(ce)||ye||Ce?{next:ce,error:ye,complete:Ce}:ce;return ge?(0,J.e)((z,H)=>{var W;null===(W=ge.subscribe)||void 0===W||W.call(ge);let Fe=!0;z.subscribe((0,L.x)(H,we=>{var qe;null===(qe=ge.next)||void 0===qe||qe.call(ge,we),H.next(we)},()=>{var we;Fe=!1,null===(we=ge.complete)||void 0===we||we.call(ge),H.complete()},we=>{var qe;Fe=!1,null===(qe=ge.error)||void 0===qe||qe.call(ge,we),H.error(we)},()=>{var we,qe;Fe&&(null===(we=ge.unsubscribe)||void 0===we||we.call(ge)),null===(qe=ge.finalize)||void 0===qe||qe.call(ge)}))}):se.y}},4408:(Mt,Me,P)=>{P.d(Me,{o:()=>he});var d=P(727);class J extends d.w0{constructor(ye,Ce){super()}schedule(ye,Ce=0){return this}}const L={setInterval(ce,ye,...Ce){const{delegate:ge}=L;return ge?.setInterval?ge.setInterval(ce,ye,...Ce):setInterval(ce,ye,...Ce)},clearInterval(ce){const{delegate:ye}=L;return(ye?.clearInterval||clearInterval)(ce)},delegate:void 0};var se=P(8737);class he extends J{constructor(ye,Ce){super(ye,Ce),this.scheduler=ye,this.work=Ce,this.pending=!1}schedule(ye,Ce=0){var ge;if(this.closed)return this;this.state=ye;const z=this.id,H=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(H,z,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(H,this.id,Ce),this}requestAsyncId(ye,Ce,ge=0){return L.setInterval(ye.flush.bind(ye,this),ge)}recycleAsyncId(ye,Ce,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return Ce;null!=Ce&&L.clearInterval(Ce)}execute(ye,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ye,Ce);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,Ce){let z,ge=!1;try{this.work(ye)}catch(H){ge=!0,z=H||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ye,scheduler:Ce}=this,{actions:ge}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ge,this),null!=ye&&(this.id=this.recycleAsyncId(Ce,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(Mt,Me,P)=>{P.d(Me,{v:()=>L});var d=P(6063);class J{constructor(he,ce=J.now){this.schedulerActionCtor=he,this.now=ce}schedule(he,ce=0,ye){return new this.schedulerActionCtor(this,he).schedule(ye,ce)}}J.now=d.l.now;class L extends J{constructor(he,ce=J.now){super(he,ce),this.actions=[],this._active=!1}flush(he){const{actions:ce}=this;if(this._active)return void ce.push(he);let ye;this._active=!0;do{if(ye=he.execute(he.state,he.delay))break}while(he=ce.shift());if(this._active=!1,ye){for(;he=ce.shift();)he.unsubscribe();throw ye}}}},4986:(Mt,Me,P)=>{P.d(Me,{z:()=>L});var d=P(4408);const L=new(P(7565).v)(d.o)},6063:(Mt,Me,P)=>{P.d(Me,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Mt,Me,P)=>{P.d(Me,{z:()=>d});const d={setTimeout(J,L,...se){const{delegate:he}=d;return he?.setTimeout?he.setTimeout(J,L,...se):setTimeout(J,L,...se)},clearTimeout(J){const{delegate:L}=d;return(L?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(Mt,Me,P)=>{P.d(Me,{h:()=>J});const J=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Mt,Me,P)=>{P.d(Me,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Mt,Me,P)=>{P.d(Me,{_6:()=>ce,jO:()=>se,yG:()=>he});var d=P(576);function L(ye){return ye[ye.length-1]}function se(ye){return(0,d.m)(L(ye))?ye.pop():void 0}function he(ye){return function J(ye){return ye&&(0,d.m)(ye.schedule)}(L(ye))?ye.pop():void 0}function ce(ye,Ce){return"number"==typeof L(ye)?ye.pop():Ce}},8737:(Mt,Me,P)=>{function d(J,L){if(J){const se=J.indexOf(L);0<=se&&J.splice(se,1)}}P.d(Me,{P:()=>d})},3888:(Mt,Me,P)=>{function d(J){const se=J(he=>{Error.call(he),he.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(Me,{d:()=>d})},2806:(Mt,Me,P)=>{P.d(Me,{O:()=>se,x:()=>L});var d=P(2416);let J=null;function L(he){if(d.v.useDeprecatedSynchronousErrorHandling){const ce=!J;if(ce&&(J={errorThrown:!1,error:null}),he(),ce){const{errorThrown:ye,error:Ce}=J;if(J=null,ye)throw Ce}}else he()}function se(he){d.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=he)}},9672:(Mt,Me,P)=>{function d(J,L,se,he=0,ce=!1){const ye=L.schedule(function(){se(),ce?J.add(this.schedule(null,he)):this.unsubscribe()},he);if(J.add(ye),!ce)return ye}P.d(Me,{f:()=>d})},4671:(Mt,Me,P)=>{function d(J){return J}P.d(Me,{y:()=>d})},1144:(Mt,Me,P)=>{P.d(Me,{z:()=>d});const d=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Mt,Me,P)=>{P.d(Me,{D:()=>J});var d=P(576);function J(L){return Symbol.asyncIterator&&(0,d.m)(L?.[Symbol.asyncIterator])}},576:(Mt,Me,P)=>{function d(J){return"function"==typeof J}P.d(Me,{m:()=>d})},3670:(Mt,Me,P)=>{P.d(Me,{c:()=>L});var d=P(8822),J=P(576);function L(se){return(0,J.m)(se[d.L])}},6495:(Mt,Me,P)=>{P.d(Me,{T:()=>L});var d=P(2202),J=P(576);function L(se){return(0,J.m)(se?.[d.h])}},8239:(Mt,Me,P)=>{P.d(Me,{t:()=>J});var d=P(576);function J(L){return(0,d.m)(L?.then)}},3260:(Mt,Me,P)=>{P.d(Me,{L:()=>se,Q:()=>L});var d=P(655),J=P(576);function L(he){return(0,d.FC)(this,arguments,function*(){const ye=he.getReader();try{for(;;){const{value:Ce,done:ge}=yield(0,d.qq)(ye.read());if(ge)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Ce)}}finally{ye.releaseLock()}})}function se(he){return(0,J.m)(he?.getReader)}},4482:(Mt,Me,P)=>{P.d(Me,{A:()=>J,e:()=>L});var d=P(576);function J(se){return(0,d.m)(se?.lift)}function L(se){return he=>{if(J(he))return he.lift(function(ce){try{return se(ce,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Mt,Me,P)=>{function d(){}P.d(Me,{Z:()=>d})},9635:(Mt,Me,P)=>{P.d(Me,{U:()=>L,z:()=>J});var d=P(4671);function J(...se){return L(se)}function L(se){return 0===se.length?d.y:1===se.length?se[0]:function(ce){return se.reduce((ye,Ce)=>Ce(ye),ce)}}},7849:(Mt,Me,P)=>{P.d(Me,{h:()=>L});var d=P(2416),J=P(3410);function L(se){J.z.setTimeout(()=>{const{onUnhandledError:he}=d.v;if(!he)throw se;he(se)})}},4532:(Mt,Me,P)=>{function d(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Me,{z:()=>d})},655:(Mt,Me,P)=>{function se(fe,be){var Ae={};for(var Re in fe)Object.prototype.hasOwnProperty.call(fe,Re)&&be.indexOf(Re)<0&&(Ae[Re]=fe[Re]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Re=Object.getOwnPropertySymbols(fe);Xe<Re.length;Xe++)be.indexOf(Re[Xe])<0&&Object.prototype.propertyIsEnumerable.call(fe,Re[Xe])&&(Ae[Re[Xe]]=fe[Re[Xe]])}return Ae}function W(fe,be,Ae,Re){return new(Ae||(Ae=Promise))(function(He,Ze){function mt(Et){try{xt(Re.next(Et))}catch(an){Ze(an)}}function Bt(Et){try{xt(Re.throw(Et))}catch(an){Ze(an)}}function xt(Et){Et.done?He(Et.value):function Xe(He){return He instanceof Ae?He:new Ae(function(Ze){Ze(He)})}(Et.value).then(mt,Bt)}xt((Re=Re.apply(fe,be||[])).next())})}function Pe(fe){return this instanceof Pe?(this.v=fe,this):new Pe(fe)}function Ee(fe,be,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Re=Ae.apply(fe,be||[]),He=[];return Xe={},Ze("next"),Ze("throw"),Ze("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Ze(hn){Re[hn]&&(Xe[hn]=function(Dn){return new Promise(function(fr,Yn){He.push([hn,Dn,fr,Yn])>1||mt(hn,Dn)})})}function mt(hn,Dn){try{!function Bt(hn){hn.value instanceof Pe?Promise.resolve(hn.value.v).then(xt,Et):an(He[0][2],hn)}(Re[hn](Dn))}catch(fr){an(He[0][3],fr)}}function xt(hn){mt("next",hn)}function Et(hn){mt("throw",hn)}function an(hn,Dn){hn(Dn),He.shift(),He.length&&mt(He[0][0],He[0][1])}}function tt(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,be=fe[Symbol.asyncIterator];return be?be.call(fe):(fe=function vt(fe){var be="function"==typeof Symbol&&Symbol.iterator,Ae=be&&fe[be],Re=0;if(Ae)return Ae.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Re>=fe.length&&(fe=void 0),{value:fe&&fe[Re++],done:!fe}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Ae={},Re("next"),Re("throw"),Re("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Re(He){Ae[He]=fe[He]&&function(Ze){return new Promise(function(mt,Bt){!function Xe(He,Ze,mt,Bt){Promise.resolve(Bt).then(function(xt){He({value:xt,done:mt})},Ze)}(mt,Bt,(Ze=fe[He](Ze)).done,Ze.value)})}}}P.d(Me,{FC:()=>Ee,KL:()=>tt,_T:()=>se,mG:()=>W,qq:()=>Pe})},4650:(Mt,Me,P)=>{P.d(Me,{$8M:()=>$a,$WT:()=>Xn,$Z:()=>ow,AFp:()=>F_,AaK:()=>Ce,CHM:()=>oe,CRH:()=>ZT,CZH:()=>Ng,CqO:()=>Xy,D6c:()=>zS,EJc:()=>tR,EpF:()=>Qy,F$t:()=>hg,F4k:()=>uD,FYo:()=>Ey,FiY:()=>Gc,Gf:()=>WT,GfV:()=>B0,Gpc:()=>H,Hsn:()=>Bw,Ikx:()=>oE,JOm:()=>Vt,KtG:()=>ke,LFG:()=>_n,Lbi:()=>vS,Lck:()=>fE,MAs:()=>lD,MMx:()=>b_,NdJ:()=>e_,O4$:()=>Jd,OlP:()=>Cn,Oqu:()=>nE,P3R:()=>Pu,PXZ:()=>kS,Q6J:()=>Nw,QGY:()=>Jy,QbO:()=>NE,Qsj:()=>gC,R0b:()=>Ts,RDi:()=>Fp,Rgc:()=>vf,SBq:()=>Uu,Sil:()=>rR,Suo:()=>KT,TTD:()=>Mc,TgZ:()=>dg,X6Q:()=>q_,XFs:()=>Ct,Xpm:()=>Ft,Xts:()=>dy,Y36:()=>zu,YKP:()=>IT,YNc:()=>Pw,Yjl:()=>Kt,Yz7:()=>Et,Z0I:()=>fr,ZZ4:()=>Ta,_Bn:()=>bT,_UZ:()=>Yy,_Vd:()=>Vu,_c5:()=>J_,_uU:()=>xD,aQg:()=>Sf,c2e:()=>wS,cJS:()=>hn,cg1:()=>aE,dDg:()=>oR,dqk:()=>en,eFA:()=>zE,eJc:()=>k_,ekj:()=>Qw,eoX:()=>BE,f3M:()=>xn,g9A:()=>RE,h0i:()=>Po,hGG:()=>HS,hij:()=>mg,iGM:()=>qT,ifc:()=>ve,ip1:()=>kE,jDz:()=>pE,kL8:()=>qD,kcU:()=>Ua,lG2:()=>Tt,lqb:()=>ml,lri:()=>VE,n5z:()=>ou,oAB:()=>X,oxw:()=>i_,q4F:()=>j0,qLn:()=>zh,qOj:()=>ac,qZA:()=>df,rWj:()=>UE,sBO:()=>QE,s_b:()=>xg,soG:()=>L_,tb:()=>$E,tp0:()=>kt,uIk:()=>qy,vHH:()=>me,vpe:()=>Gi,wAp:()=>$t,xp6:()=>J0,z2F:()=>hd,zSh:()=>sc,zs3:()=>ju});var d=P(7579),J=P(727),L=P(9751),se=P(6451),he=P(3099);function ce(s){for(let o in s)if(s[o]===ce)return o;throw Error("Could not find renamed property on target object.")}function ye(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function Ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=ce({__forward_ref__:ce});function H(s){return s.__forward_ref__=H,s.toString=function(){return Ce(this())},s}function W(s){return Fe(s)?s():s}function Fe(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===H}function we(s){return s&&!!s.\u0275providers}const vt="https://g.co/ng/security#xss";class me extends Error{constructor(o,c){super(Ue(o,c)),this.code=o}}function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function je(s){return"string"==typeof s?s:null==s?"":String(s)}function tt(s,o){throw new me(-201,!1)}function He(s,o){null==s&&function Ze(s,o,c,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${c} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Et(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function hn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Dn(s){return Yn(s,yi)||Yn(s,Si)}function fr(s){return null!==Dn(s)}function Yn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Cr(s){return s&&(s.hasOwnProperty(Br)||s.hasOwnProperty(zn))?s[Br]:null}const yi=ce({\u0275prov:ce}),Br=ce({\u0275inj:ce}),Si=ce({ngInjectableDef:ce}),zn=ce({ngInjectorDef:ce});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let sr;function or(s){const o=sr;return sr=s,o}function Gn(s,o,c){const u=Dn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Ct.Optional?null:void 0!==o?o:void tt(Ce(s))}const en=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Or={},Ln="__NG_DI_FLAG__",Hn="ngTempTokenPath",cr="ngTokenPath",Mn=/\n/gm,Dr="\u0275",qt="__source";let jr;function Xt(s){const o=jr;return jr=s,o}function Ai(s,o=Ct.Default){if(void 0===jr)throw new me(-203,!1);return null===jr?Gn(s,void 0,o):jr.get(s,o&Ct.Optional?null:void 0,o)}function _n(s,o=Ct.Default){return(function ps(){return sr}()||Ai)(W(s),o)}function xn(s,o=Ct.Default){return _n(s,Vn(o))}function Vn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function hi(s){const o=[];for(let c=0;c<s.length;c++){const u=W(s[c]);if(Array.isArray(u)){if(0===u.length)throw new me(900,!1);let h,m=Ct.Default;for(let v=0;v<u.length;v++){const b=u[v],I=fi(b);"number"==typeof I?-1===I?h=b.token:m|=I:h=b}o.push(_n(h,m))}else o.push(_n(u))}return o}function Tn(s,o){return s[Ln]=o,s.prototype[Ln]=o,s}function fi(s){return s[Ln]}function U(s){return{toString:s}.toString()}var G=(()=>((G=G||{})[G.OnPush=0]="OnPush",G[G.Default=1]="Default",G))(),ve=(()=>{return(s=ve||(ve={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ve;var s})();const ne={},Ve=[],Dt=ce({\u0275cmp:ce}),Q=ce({\u0275dir:ce}),_e=ce({\u0275pipe:ce}),Se=ce({\u0275mod:ce}),Ge=ce({\u0275fac:ce}),Ne=ce({__NG_ELEMENT_ID__:ce});let yt=0;function Ft(s){return U(()=>{const o=lr(s),c={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||ve.Emulated,id:"c"+yt++,styles:s.styles||Ve,_:null,schemas:s.schemas||null,tView:null};jo(c);const u=s.dependencies;return c.directiveDefs=ks(u,!1),c.pipeDefs=ks(u,!0),c})}function nn(s){return St(s)||vn(s)}function re(s){return null!==s}function X(s){return U(()=>({type:s.type,bootstrap:s.bootstrap||Ve,declarations:s.declarations||Ve,imports:s.imports||Ve,exports:s.exports||Ve,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function gt(s,o){if(null==s)return ne;const c={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=u,o&&(o[h]=m)}return c}function Tt(s){return U(()=>{const o=lr(s);return jo(o),o})}function Kt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function St(s){return s[Dt]||null}function vn(s){return s[Q]||null}function cn(s){return s[_e]||null}function Xn(s){const o=St(s)||vn(s)||cn(s);return null!==o&&o.standalone}function qn(s,o){const c=s[Se]||null;if(!c&&!0===o)throw new Error(`Type ${Ce(s)} does not have '\u0275mod' property.`);return c}function lr(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ve,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gt(s.inputs,o),outputs:gt(s.outputs)}}function jo(s){s.features?.forEach(o=>o(s))}function ks(s,o){if(!s)return null;const c=o?cn:nn;return()=>("function"==typeof s?s():s).map(u=>c(u)).filter(re)}const zr=0,nt=1,Gt=2,On=3,Xr=4,wn=5,er=6,pi=7,jn=8,Zs=9,gs=10,Zt=11,ms=12,V=13,Y=14,pe=15,Qe=16,ln=17,jt=18,fn=19,Rn=20,tr=21,rn=22,$o=1,Dc=2,yo=7,Ps=8,Rs=9,Tr=10;function _i(s){return Array.isArray(s)&&"object"==typeof s[$o]}function ei(s){return Array.isArray(s)&&!0===s[$o]}function Tc(s){return 0!=(4&s.flags)}function ys(s){return s.componentOffset>-1}function Ho(s){return 1==(1&s.flags)}function ti(s){return!!s.template}function zo(s){return 0!=(256&s[Gt])}function ji(s,o){return s.hasOwnProperty(Ge)?s[Ge]:null}class qo{constructor(o,c,u){this.previousValue=o,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Mc(){return xc}function xc(s){return s.type.prototype.ngOnChanges&&(s.setInput=$d),Kl}function Kl(){const s=Hd(this),o=s?.current;if(o){const c=s.previous;if(c===ne)s.previous=o;else for(let u in o)c[u]=o[u];s.current=null,this.ngOnChanges(o)}}function $d(s,o,c,u){const h=this.declaredInputs[c],m=Hd(s)||function Pa(s,o){return s[Qs]=o}(s,{previous:ne,current:null}),v=m.current||(m.current={}),b=m.previous,I=b[h];v[h]=new qo(I&&I.currentValue,o,b===ne),s[u]=o}Mc.ngInherit=!0;const Qs="__ngSimpleChanges__";function Hd(s){return s[Qs]||null}const ni=function(s,o,c){},ri="svg";function gr(s){for(;Array.isArray(s);)s=s[zr];return s}function _s(s,o){return gr(o[s])}function mr(s,o){return gr(o[s.index])}function Gd(s,o){return s.data[o]}function Gr(s,o){const c=o[s];return _i(c)?c:c[zr]}function Mi(s){return 64==(64&s[Gt])}function Ls(s,o){return null==o?null:s[o]}function Na(s){s[jt]=0}function rs(s,o){s[wn]+=o;let c=s,u=s[On];for(;null!==u&&(1===o&&1===c[wn]||-1===o&&0===c[wn]);)u[wn]+=o,c=u,u=u[On]}const zt={lFrame:Pm(null),bindingsEnabled:!0};function La(){return zt.bindingsEnabled}function T(){return zt.lFrame.lView}function N(){return zt.lFrame.tView}function oe(s){return zt.lFrame.contextLView=s,s[jn]}function ke(s){return zt.lFrame.contextLView=null,s}function xe(){let s=lt();for(;null!==s&&64===s.type;)s=s.parent;return s}function lt(){return zt.lFrame.currentTNode}function sn(s,o){const c=zt.lFrame;c.currentTNode=s,c.isParent=o}function Nn(){return zt.lFrame.isParent}function In(){zt.lFrame.isParent=!1}function ii(){return zt.lFrame.bindingIndex++}function ap(s,o){const c=zt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Kd(o)}function Kd(s){zt.lFrame.currentDirectiveIndex=s}function km(){return zt.lFrame.currentQueryIndex}function Yl(s){zt.lFrame.currentQueryIndex=s}function b0(s){const o=s[nt];return 2===o.type?o.declTNode:1===o.type?s[er]:null}function Zd(s,o,c){if(c&Ct.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||c&Ct.Host||(h=b0(m),null===h||(m=m[pe],10&h.type))););if(null===h)return!1;o=h,s=m}const u=zt.lFrame=Yd();return u.currentTNode=o,u.lView=s,!0}function cp(s){const o=Yd(),c=s[nt];zt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Yd(){const s=zt.lFrame,o=null===s?null:s.child;return null===o?Pm(s):o}function Pm(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Qd(){const s=zt.lFrame;return zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Rm=Qd;function Ql(){const s=Qd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wi(){return zt.lFrame.selectedIndex}function Ko(s){zt.lFrame.selectedIndex=s}function nr(){const s=zt.lFrame;return Gd(s.tView,s.selectedIndex)}function Jd(){zt.lFrame.currentNamespace=ri}function Ua(){!function Fm(){zt.lFrame.currentNamespace=null}()}function Xd(s,o){for(let c=o.directiveStart,u=o.directiveEnd;c<u;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:k}=m;v&&(s.contentHooks??(s.contentHooks=[])).push(-c,v),b&&((s.contentHooks??(s.contentHooks=[])).push(c,b),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(c,b)),I&&(s.viewHooks??(s.viewHooks=[])).push(-c,I),S&&((s.viewHooks??(s.viewHooks=[])).push(c,S),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(c,S)),null!=k&&(s.destroyHooks??(s.destroyHooks=[])).push(c,k)}}function eh(s,o,c){nh(s,o,3,c)}function th(s,o,c,u){(3&s[Gt])===c&&nh(s,o,c,u)}function up(s,o){let c=s[Gt];(3&c)===o&&(c&=2047,c+=1,s[Gt]=c)}function nh(s,o,c,u){const m=u??-1,v=o.length-1;let b=0;for(let I=void 0!==u?65535&s[jt]:0;I<v;I++)if("number"==typeof o[I+1]){if(b=o[I],null!=u&&b>=u)break}else o[I]<0&&(s[jt]+=65536),(b<m||-1==m)&&(Rc(s,c,o,I),s[jt]=(4294901760&s[jt])+I+2),I++}function Rc(s,o,c,u){const h=c[u]<0,m=c[u+1],b=s[h?-c[u]:c[u]];if(h){if(s[Gt]>>11<s[jt]>>16&&(3&s[Gt])===o){s[Gt]+=2048,ni(4,b,m);try{m.call(b)}finally{ni(5,b,m)}}}else{ni(4,b,m);try{m.call(b)}finally{ni(5,b,m)}}}const Ba=-1;class Zo{constructor(o,c,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Jl(s,o,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const m=c[u++],v=c[u++],b=c[u++];s.setAttribute(o,v,b,m)}else{const m=h,v=c[++u];Fc(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),u++}}return u}function sh(s){return 3===s||4===s||6===s}function Fc(s){return 64===s.charCodeAt(0)}function Qo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?c=h:0===c||Xl(s,c,h,null,-1===c||2===c?o[++u]:null)}}return s}function Xl(s,o,c,u,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const b=s[m++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=m-1;break}}}for(;m<s.length;){const b=s[m];if("number"==typeof b)break;if(b===c){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,c),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function Lc(s){return s!==Ba}function Jo(s){return 32767&s}function Xo(s,o){let c=function Lm(s){return s>>16}(s),u=o;for(;c>0;)u=u[pe],c--;return u}let eu=!0;function Vc(s){const o=eu;return eu=s,o}const hp=255,fp=5;let Uc=0;const ss={};function tu(s,o){const c=ea(s,o);if(-1!==c)return c;const u=o[nt];u.firstCreatePass&&(s.injectorIndex=o.length,nu(u.data,s),nu(o,null),nu(u.blueprint,null));const h=oh(s,o),m=s.injectorIndex;if(Lc(h)){const v=Jo(h),b=Xo(h,o),I=b[nt].data;for(let S=0;S<8;S++)o[m+S]=b[v+S]|I[v+S]}return o[m+8]=h,m}function nu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ea(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function oh(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,u=null,h=o;for(;null!==h;){if(u=uh(h),null===u)return Ba;if(c++,h=h[pe],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return Ba}function Qn(s,o,c){!function Vs(s,o,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Ne)&&(u=c[Ne]),null==u&&(u=c[Ne]=Uc++);const h=u&hp;o.data[s+(h>>fp)]|=1<<h}(s,o,c)}function ru(s,o,c){if(c&Ct.Optional||void 0!==s)return s;tt()}function ah(s,o,c,u){if(c&Ct.Optional&&void 0===u&&(u=null),!(c&(Ct.Self|Ct.Host))){const h=s[Zs],m=or(void 0);try{return h?h.get(o,u,c&Ct.Optional):Gn(o,u,c&Ct.Optional)}finally{or(m)}}return ru(u,0,c)}function iu(s,o,c,u=Ct.Default,h){if(null!==s){if(1024&o[Gt]){const v=function lh(s,o,c,u,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[Gt]&&!(256&v[Gt]);){const b=gp(m,v,c,u|Ct.Self,ss);if(b!==ss)return b;let I=m.parent;if(!I){const S=v[tr];if(S){const k=S.get(c,ss,u);if(k!==ss)return k}I=uh(v),v=v[pe]}m=I}return h}(s,o,c,u,ss);if(v!==ss)return v}const m=gp(s,o,c,u,ss);if(m!==ss)return m}return ah(o,c,u,h)}function gp(s,o,c,u,h){const m=function ch(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ne)?s[Ne]:void 0;return"number"==typeof o?o>=0?o&hp:Um:o}(c);if("function"==typeof m){if(!Zd(o,s,u))return u&Ct.Host?ru(h,0,u):ah(o,c,u,h);try{const v=m(u);if(null!=v||u&Ct.Optional)return v;tt()}finally{Rm()}}else if("number"==typeof m){let v=null,b=ea(s,o),I=Ba,S=u&Ct.Host?o[Qe][er]:null;for((-1===b||u&Ct.SkipSelf)&&(I=-1===b?oh(s,o):o[b+8],I!==Ba&&Bc(u,!1)?(v=o[nt],b=Jo(I),o=Xo(I,o)):b=-1);-1!==b;){const k=o[nt];if(su(m,b,k.data)){const R=Vm(b,o,c,v,u,S);if(R!==ss)return R}I=o[b+8],I!==Ba&&Bc(u,o[nt].data[b+8]===S)&&su(m,b,o)?(v=k,b=Jo(I),o=Xo(I,o)):b=-1}}return h}function Vm(s,o,c,u,h,m){const v=o[nt],b=v.data[s+8],k=ta(b,v,c,null==u?ys(b)&&eu:u!=v&&0!=(3&b.type),h&Ct.Host&&m===b);return null!==k?ja(o,v,k,b):ss}function ta(s,o,c,u,h){const m=s.providerIndexes,v=o.data,b=1048575&m,I=s.directiveStart,k=m>>20,q=h?b+k:s.directiveEnd;for(let ie=u?b:b+k;ie<q;ie++){const De=v[ie];if(ie<I&&c===De||ie>=I&&De.type===c)return ie}if(h){const ie=v[I];if(ie&&ti(ie)&&ie.type===c)return I}return null}function ja(s,o,c,u){let h=s[c];const m=o.data;if(function T0(s){return s instanceof Zo}(h)){const v=h;v.resolving&&function Pe(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new me(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Ke(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():je(s)}(m[c]));const b=Vc(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?or(v.injectImpl):null;Zd(s,u,Ct.Default);try{h=s[c]=v.factory(void 0,m,s,u),o.firstCreatePass&&c>=u.directiveStart&&function D0(s,o,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const v=xc(o);(c.preOrderHooks??(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-s,h),m&&((c.preOrderHooks??(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],o)}finally{null!==I&&or(I),Vc(b),v.resolving=!1,Rm()}}return h}function su(s,o,c){return!!(c[o+(s>>fp)]&1<<s)}function Bc(s,o){return!(s&Ct.Self||s&Ct.Host&&o)}class Xs{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,u){return iu(this._tNode,this._lView,o,Vn(u),c)}}function Um(){return new Xs(xe(),T())}function ou(s){return U(()=>{const o=s.prototype.constructor,c=o[Ge]||jc(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[Ge]||jc(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function jc(s){return Fe(s)?()=>{const o=jc(W(s));return o&&o()}:ji(s)}function uh(s){const o=s[nt],c=o.type;return 2===c?o.declTNode:1===c?s[er]:null}function $a(s){return function pp(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const m=c[h];if(sh(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(m===o)return c[h+1];h+=2}}}return null}(xe(),s)}const na="__parameters__";function Ha(s,o,c){return U(()=>{const u=function ra(s){return function(...c){if(s){const u=s(...c);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const v=new h(...m);return b.annotation=v,b;function b(I,S,k){const R=I.hasOwnProperty(na)?I[na]:Object.defineProperty(I,na,{value:[]})[na];for(;R.length<=k;)R.push(null);return(R[k]=R[k]||[]).push(v),I}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Cn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Et({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wo(s,o){s.forEach(c=>Array.isArray(c)?wo(c,o):o(c))}function zm(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function zc(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function cu(s,o){const c=[];for(let u=0;u<s;u++)c.push(o);return c}function Oi(s,o,c){let u=Hi(s,o);return u>=0?s[1|u]=c:(u=~u,function wp(s,o,c,u){let h=s.length;if(h==o)s.push(c,u);else if(1===h)s.push(u,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=u}}(s,u,o,c)),u}function $n(s,o){const c=Hi(s,o);if(c>=0)return s[1|c]}function Hi(s,o){return function Pr(s,o,c){let u=0,h=s.length>>c;for(;h!==u;){const m=u+(h-u>>1),v=s[m<<c];if(o===v)return m<<c;v>o?h=m:u=m+1}return~(h<<c)}(s,o,1)}const Gc=Tn(Ha("Optional"),8),kt=Tn(Ha("SkipSelf"),4);var Vt=(()=>((Vt=Vt||{})[Vt.Important=1]="Important",Vt[Vt.DashCase=2]="DashCase",Vt))();const _h=new Map;let Us=0;const vu="__ngContext__";function si(s,o){_i(o)?(s[vu]=o[Rn],function Sp(s){_h.set(s[Rn],s)}(o)):s[vu]=o}let Eu;function aa(s,o){return Eu(s,o)}function tl(s){const o=s[On];return ei(o)?o[On]:o}function nl(s){return Ch(s[V])}function ro(s){return Ch(s[Xr])}function Ch(s){for(;null!==s&&!ei(s);)s=s[Xr];return s}function io(s,o,c,u,h){if(null!=u){let m,v=!1;ei(u)?m=u:_i(u)&&(v=!0,u=u[zr]);const b=gr(u);0===s&&null!==c?null==h?il(o,c,b):So(o,c,b,h||null,!0):1===s&&null!==c?So(o,c,b,h||null,!0):2===s?function Ah(s,o,c){const u=so(s,o);u&&function sl(s,o,c,u){s.removeChild(o,c,u)}(s,u,o,c)}(o,b,v):3===s&&o.destroyNode(b),null!=m&&function ll(s,o,c,u,h){const m=c[yo];m!==gr(c)&&io(o,s,u,m,h);for(let b=Tr;b<c.length;b++){const I=c[b];cl(I[nt],I,s,o,u,m)}}(o,s,m,c,h)}}function Th(s,o,c){return s.createElement(o,c)}function Pp(s,o){const c=s[Rs],u=c.indexOf(o),h=o[On];512&o[Gt]&&(o[Gt]&=-513,rs(h,-1)),c.splice(u,1)}function rl(s,o){if(s.length<=Tr)return;const c=Tr+o,u=s[c];if(u){const h=u[ln];null!==h&&h!==s&&Pp(h,u),o>0&&(s[c-1][Xr]=u[Xr]);const m=zc(s,Tr+o);!function Ym(s,o){cl(s,o,o[Zt],2,null,null),o[zr]=null,o[er]=null}(u[nt],u);const v=m[fn];null!==v&&v.detachView(m[nt]),u[On]=null,u[Xr]=null,u[Gt]&=-65}return u}function Iu(s,o){if(!(128&o[Gt])){const c=o[Zt];c.destroyNode&&cl(s,o,c,3,null,null),function O0(s){let o=s[V];if(!o)return To(s[nt],s);for(;o;){let c=null;if(_i(o))c=o[V];else{const u=o[Tr];u&&(c=u)}if(!c){for(;o&&!o[Xr]&&o!==s;)_i(o)&&To(o[nt],o),o=o[On];null===o&&(o=s),_i(o)&&To(o[nt],o),c=o&&o[Xr]}o=c}}(o)}}function To(s,o){if(!(128&o[Gt])){o[Gt]&=-65,o[Gt]|=128,function ua(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let u=0;u<c.length;u+=2){const h=o[c[u]];if(!(h instanceof Zo)){const m=c[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const b=h[m[v]],I=m[v+1];ni(4,b,I);try{I.call(b)}finally{ni(5,b,I)}}else{ni(4,h,m);try{m.call(h)}finally{ni(5,h,m)}}}}}(s,o),function Jm(s,o){const c=s.cleanup,u=o[pi];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+3];v>=0?u[h=v]():u[h=-v].unsubscribe(),m+=2}else{const v=u[h=c[m+1]];c[m].call(v)}if(null!==u){for(let m=h+1;m<u.length;m++)(0,u[m])();o[pi]=null}}(s,o),1===o[nt].type&&o[Zt].destroy();const c=o[ln];if(null!==c&&ei(o[On])){c!==o[On]&&Pp(c,o);const u=o[fn];null!==u&&u.detachView(s)}!function x0(s){_h.delete(s[Rn])}(o)}}function Ja(s,o,c){return function Xm(s,o,c){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return c[zr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=s.data[u.directiveStart+h];if(m===ve.None||m===ve.Emulated)return null}return mr(u,c)}}(s,o.parent,c)}function So(s,o,c,u,h){s.insertBefore(o,c,u,h)}function il(s,o,c){s.appendChild(o,c)}function Rp(s,o,c,u,h){null!==u?So(s,o,c,u,h):il(s,o,c)}function so(s,o){return s.parentNode(o)}function Du(s,o,c){return da(s,o,c)}let Sh,hl,ec,da=function ol(s,o,c){return 40&s.type?mr(s,c):null};function ha(s,o,c,u){const h=Ja(s,u,o),m=o[Zt],b=Du(u.parent||o[er],u,o);if(null!=h)if(Array.isArray(c))for(let I=0;I<c.length;I++)Rp(m,h,c[I],b,!1);else Rp(m,h,c,b,!1);void 0!==Sh&&Sh(m,u,o,c,h)}function Su(s,o){if(null!==o){const c=o.type;if(3&c)return mr(o,s);if(4&c)return Is(-1,s[o.index]);if(8&c){const u=o.child;if(null!==u)return Su(s,u);{const h=s[o.index];return ei(h)?Is(-1,h):gr(h)}}if(32&c)return aa(o,s)()||gr(s[o.index]);{const u=Au(s,o);return null!==u?Array.isArray(u)?u[0]:Su(tl(s[Qe]),u):Su(s,o.next)}}return null}function Au(s,o){return null!==o?s[Qe][er].projection[o.projection]:null}function Is(s,o){const c=Tr+s+1;if(c<o.length){const u=o[c],h=u[nt].firstChild;if(null!==h)return Su(u,h)}return o[yo]}function al(s,o,c,u,h,m,v){for(;null!=c;){const b=u[c.index],I=c.type;if(v&&0===o&&(b&&si(gr(b),u),c.flags|=2),32!=(32&c.flags))if(8&I)al(s,o,c.child,u,h,m,!1),io(o,s,h,b,m);else if(32&I){const S=aa(c,u);let k;for(;k=S();)io(o,s,h,k,m);io(o,s,h,b,m)}else 16&I?xh(s,o,u,c,h,m):io(o,s,h,b,m);c=v?c.projectionNext:c.next}}function cl(s,o,c,u,h,m){al(c,u,s.firstChild,o,h,m,!1)}function xh(s,o,c,u,h,m){const v=c[Qe],I=v[er].projection[u.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)io(o,s,h,I[S],m);else al(s,o,I,v[On],h,m,!0)}function as(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function ul(s,o,c){const{mergedAttrs:u,classes:h,styles:m}=c;null!==u&&Jl(s,o,u),null!==h&&as(s,o,h),null!==m&&function Oh(s,o,c){s.setAttribute(o,"style",c)}(s,o,m)}function Fp(s){hl=s}function Rh(s){return function Ph(){if(void 0===ec&&(ec=null,en.trustedTypes))try{ec=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ec}()?.createScriptURL(s)||s}class Vp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vt})`}}function oi(s){return s instanceof Vp?s.changingThisBreaksApplicationSecurity:s}function Pi(s,o){const c=function tc(s){return s instanceof Vp&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see ${vt})`)}return c===o}const Bh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function Ou(s){const o=jh();return o?o.sanitize(Jn.URL,s)||"":Pi(s,"URL")?oi(s):function nc(s){return(s=String(s)).match(Bh)?s:"unsafe:"+s}(je(s))}function pl(s){const o=jh();if(o)return Rh(o.sanitize(Jn.RESOURCE_URL,s)||"");if(Pi(s,"ResourceURL"))return Rh(oi(s));throw new me(904,!1)}function Pu(s,o,c){return function cy(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?pl:Ou}(o,c)(s)}function jh(){const s=T();return s&&s[ms]}const dy=new Cn("ENVIRONMENT_INITIALIZER"),gl=new Cn("INJECTOR",-1),Ru=new Cn("INJECTOR_DEF_TYPES");class k0{get(o,c=Or){if(c===Or){const u=new Error(`NullInjectorError: No provider for ${Ce(o)}!`);throw u.name="NullInjectorError",u}return c}}function $h(...s){return{\u0275providers:Nu(0,s),\u0275fromNgModule:!0}}function Nu(s,...o){const c=[],u=new Set;let h;return wo(o,m=>{const v=m;hy(v,c,[],u)&&(h||(h=[]),h.push(v))}),void 0!==h&&P0(h,c),c}function P0(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];fy(h,m=>{o.push(m)})}}function hy(s,o,c,u){if(!(s=W(s)))return!1;let h=null,m=Cr(s);const v=!m&&St(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const I=s.ngModule;if(m=Cr(I),!m)return!1;h=I}const b=u.has(h);if(v){if(b)return!1;if(u.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)hy(S,o,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!b){let S;u.add(h);try{wo(m.imports,k=>{hy(k,o,c,u)&&(S||(S=[]),S.push(k))})}finally{}void 0!==S&&P0(S,o)}if(!b){const S=ji(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:Ve},{provide:Ru,useValue:h,multi:!0},{provide:dy,useValue:()=>_n(h),multi:!0})}const I=m.providers;null==I||b||fy(I,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}function fy(s,o){for(let c of s)we(c)&&(c=c.\u0275providers),Array.isArray(c)?fy(c,o):o(c)}const cC=ce({provide:String,useValue:ce});function py(s){return null!==s&&"object"==typeof s&&cC in s}function ma(s){return"function"==typeof s}const sc=new Cn("Set Injector scope."),Gp={},uC={};let gy;function qp(){return void 0===gy&&(gy=new k0),gy}class ml{}class N0 extends ml{get destroyed(){return this._destroyed}constructor(o,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lu(o,v=>this.processProvider(v)),this.records.set(gl,Fu(void 0,this)),h.has("environment")&&this.records.set(ml,Fu(void 0,this));const m=this.records.get(sc);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Ru.multi,Ve,Ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Xt(this),u=or(void 0);try{return o()}finally{Xt(c),or(u)}}get(o,c=Or,u=Ct.Default){this.assertNotDestroyed(),u=Vn(u);const h=Xt(this),m=or(void 0);try{if(!(u&Ct.SkipSelf)){let b=this.records.get(o);if(void 0===b){const I=function vy(s){return"function"==typeof s||"object"==typeof s&&s instanceof Cn}(o)&&Dn(o);b=I&&this.injectableDefInScope(I)?Fu(my(o),Gp):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(u&Ct.Self?qp():this.parent).get(o,c=u&Ct.Optional&&c===Or?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Hn]=v[Hn]||[]).unshift(Ce(o)),h)throw v;return function Hr(s,o,c,u){const h=s[Hn];throw o[qt]&&h.unshift(o[qt]),s.message=function j(s,o,c,u=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Dr?s.slice(2):s;let h=Ce(o);if(Array.isArray(o))h=o.map(Ce).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];m.push(v+":"+("string"==typeof b?JSON.stringify(b):Ce(b)))}h=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${s.replace(Mn,"\n  ")}`}("\n"+s.message,h,c,u),s[cr]=h,s[Hn]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{or(m),Xt(h)}}resolveInjectorInitializers(){const o=Xt(this),c=or(void 0);try{const u=this.get(dy.multi,Ve,Ct.Self);for(const h of u)h()}finally{Xt(o),or(c)}}toString(){const o=[],c=this.records;for(const u of c.keys())o.push(Ce(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(o){let c=ma(o=W(o))?o:W(o&&o.provide);const u=function hC(s){return py(s)?Fu(void 0,s.useValue):Fu(yy(s),Gp)}(o);if(ma(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Fu(void 0,Gp,!0),h.factory=()=>hi(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,u)}hydrate(o,c){return c.value===Gp&&(c.value=uC,c.value=c.factory()),"object"==typeof c.value&&c.value&&function F0(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=W(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function my(s){const o=Dn(s),c=null!==o?o.factory:ji(s);if(null!==c)return c;if(s instanceof Cn)throw new me(204,!1);if(s instanceof Function)return function dC(s){const o=s.length;if(o>0)throw cu(o,"?"),new me(204,!1);const c=function ir(s){return s&&(s[yi]||s[Si])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new me(204,!1)}function yy(s,o,c){let u;if(ma(s)){const h=W(s);return ji(h)||my(h)}if(py(s))u=()=>W(s.useValue);else if(function R0(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...hi(s.deps||[]));else if(function lC(s){return!(!s||!s.useExisting)}(s))u=()=>_n(W(s.useExisting));else{const h=W(s&&(s.useClass||s.provide));if(!function _y(s){return!!s.deps}(s))return ji(h)||my(h);u=()=>new h(...hi(s.deps))}return u}function Fu(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Lu(s,o){for(const c of s)Array.isArray(c)?Lu(c,o):c&&we(c)?Lu(c.\u0275providers,o):o(c)}class fC{}class L0{}class U0{resolveComponentFactory(o){throw function pC(s){const o=Error(`No component factory found for ${Ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Vu=(()=>{class s{}return s.NULL=new U0,s})();function Wp(){return ya(xe(),T())}function ya(s,o){return new Uu(mr(s,o))}let Uu=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Wp,s})();function Hh(s){return s instanceof Uu?s.nativeElement:s}class Ey{}let gC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function mC(){const s=T(),c=Gr(xe().index,s);return(_i(c)?c:s)[Zt]}(),s})(),yC=(()=>{class s{}return s.\u0275prov=Et({token:s,providedIn:"root",factory:()=>null}),s})();class B0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const j0=new B0("15.2.9"),Kp={},by="ngOriginalError";function Iy(s){return s[by]}class zh{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Iy(o);for(;c&&Iy(c);)c=Iy(c);return c||null}}function Mo(s){return s instanceof Function?s():s}function W0(s,o,c){let u=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}c=h+1}}const Cy="ng-template";function Dy(s,o,c){let u=0,h=!0;for(;u<s.length;){let m=s[u++];if("string"==typeof m&&h){const v=s[u++];if(c&&"class"===m&&-1!==W0(v.toLowerCase(),o,0))return!0}else{if(1===m){for(;u<s.length&&"string"==typeof(m=s[u++]);)if(m.toLowerCase()===o)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Ty(s){return 4===s.type&&s.value!==Cy}function Bu(s,o,c){return o===(4!==s.type||c?s.value:Cy)}function Sy(s,o,c){let u=4;const h=s.attrs||[],m=function Z0(s){for(let o=0;o<s.length;o++)if(sh(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const I=o[b];if("number"!=typeof I){if(!v)if(4&u){if(u=2|1&u,""!==I&&!Bu(s,I,c)||""===I&&1===o.length){if(oo(u))return!1;v=!0}}else{const S=8&u?I:o[++b];if(8&u&&null!==s.attrs){if(!Dy(s.attrs,S,c)){if(oo(u))return!1;v=!0}continue}const R=K0(8&u?"class":I,h,Ty(s),c);if(-1===R){if(oo(u))return!1;v=!0;continue}if(""!==S){let q;q=R>m?"":h[R+1].toLowerCase();const ie=8&u?q:null;if(ie&&-1!==W0(ie,S,0)||2&u&&S!==q){if(oo(u))return!1;v=!0}}}}else{if(!v&&!oo(u)&&!oo(I))return!1;if(v&&oo(I))continue;v=!1,u=I|1&u}}return oo(u)||v}function oo(s){return 0==(1&s)}function K0(s,o,c,u){if(null===o)return-1;let h=0;if(u||!c){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function Y0(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const u=s[c];if("number"==typeof u)return-1;if(u===o)return c;c++}return-1}(o,s)}function qh(s,o,c=!1){for(let u=0;u<o.length;u++)if(Sy(s,o[u],c))return!0;return!1}function CC(s,o){e:for(let c=0;c<o.length;c++){const u=o[c];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function Q0(s,o){return s?":not("+o.trim()+")":o}function DC(s){let o=s[0],c=1,u=2,h="",m=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&u){const b=s[++c];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!oo(v)&&(o+=Q0(m,h),h=""),u=v,m=m||!oo(u);c++}return""!==h&&(o+=Q0(m,h)),o}const Yt={};function J0(s){X0(N(),T(),wi()+s,!1)}function X0(s,o,c,u){if(!u)if(3==(3&o[Gt])){const m=s.preOrderCheckHooks;null!==m&&eh(o,m,c)}else{const m=s.preOrderHooks;null!==m&&th(o,m,0,c)}Ko(c)}function tw(s,o=null,c=null,u){const h=Ay(s,o,c,u);return h.resolveInjectorInitializers(),h}function Ay(s,o=null,c=null,u,h=new Set){const m=[c||Ve,$h(s)];return u=u||("object"==typeof s?void 0:Ce(s)),new N0(m,o||qp(),u||null,h)}let ju=(()=>{class s{static create(c,u){if(Array.isArray(c))return tw({name:""},u,c,"");{const h=c.name??"";return tw({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=Or,s.NULL=new k0,s.\u0275prov=Et({token:s,providedIn:"any",factory:()=>_n(gl)}),s.__NG_ELEMENT_ID__=-1,s})();function zu(s,o=Ct.Default){const c=T();return null===c?_n(s,o):iu(xe(),c,W(s),o)}function ow(){throw new Error("invalid")}function aw(s,o){const c=s.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const m=c[u+1];if(-1!==m){const v=s.data[m];Yl(c[u]),v.contentQueries(2,o[m],m)}}}function Jp(s,o,c,u,h,m,v,b,I,S,k){const R=o.blueprint.slice();return R[zr]=h,R[Gt]=76|u,(null!==k||s&&1024&s[Gt])&&(R[Gt]|=1024),Na(R),R[On]=R[pe]=s,R[jn]=c,R[gs]=v||s&&s[gs],R[Zt]=b||s&&s[Zt],R[ms]=I||s&&s[ms]||null,R[Zs]=S||s&&s[Zs]||null,R[er]=m,R[Rn]=function Tp(){return Us++}(),R[tr]=k,R[Qe]=2==o.type?s[Qe]:R,R}function Yh(s,o,c,u,h){let m=s.data[o];if(null===m)m=function Qh(s,o,c,u,h){const m=lt(),v=Nn(),I=s.data[o]=function GC(s,o,c,u,h,m){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,o,u,h);return null===s.firstChild&&(s.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I,I.prev=m)),I}(s,o,c,u,h),function Pc(){return zt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=u,m.attrs=h;const v=function En(){const s=zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return sn(m,!0),m}function oc(s,o,c,u){if(0===c)return-1;const h=o.length;for(let m=0;m<c;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Gu(s,o,c){cp(o);try{const u=s.viewQuery;null!==u&&Ci(1,u,c);const h=s.template;null!==h&&Wu(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&aw(s,o),s.staticViewQueries&&Ci(2,s.viewQuery,c);const m=s.components;null!==m&&function cw(s,o){for(let c=0;c<o.length;c++)Dw(s,o[c])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[Gt]&=-5,Ql()}}function qu(s,o,c,u){const h=o[Gt];if(128!=(128&h)){cp(o);try{Na(o),function xi(s){return zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Wu(s,o,c,2,u);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&eh(o,S,null)}else{const S=s.preOrderHooks;null!==S&&th(o,S,0,null),up(o,0)}if(function jy(s){for(let o=nl(s);null!==o;o=ro(o)){if(!o[Dc])continue;const c=o[Rs];for(let u=0;u<c.length;u++){const h=c[u];512&h[Gt]||rs(h[On],1),h[Gt]|=512}}}(o),function Iw(s){for(let o=nl(s);null!==o;o=ro(o))for(let c=Tr;c<o.length;c++){const u=o[c],h=u[nt];Mi(u)&&qu(h,u,h.template,u[jn])}}(o),null!==s.contentQueries&&aw(s,o),v){const S=s.contentCheckHooks;null!==S&&eh(o,S)}else{const S=s.contentHooks;null!==S&&th(o,S,1),up(o,1)}!function $C(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const h=c[u];if(h<0)Ko(~h);else{const m=h,v=c[++u],b=c[++u];ap(v,m),b(2,o[m])}}}finally{Ko(-1)}}(s,o);const b=s.components;null!==b&&function HC(s,o){for(let c=0;c<o.length;c++)Cw(s,o[c])}(o,b);const I=s.viewQuery;if(null!==I&&Ci(2,I,u),v){const S=s.viewCheckHooks;null!==S&&eh(o,S)}else{const S=s.viewHooks;null!==S&&th(o,S,2),up(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Gt]&=-41,512&o[Gt]&&(o[Gt]&=-513,rs(o[On],-1))}finally{Ql()}}}function Wu(s,o,c,u,h){const m=wi(),v=2&u;try{Ko(-1),v&&o.length>rn&&X0(s,o,rn,!1),ni(v?2:0,h),c(u,h)}finally{Ko(m),ni(v?3:1,h)}}function Py(s,o,c){if(Tc(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function Ry(s,o,c){La()&&(function pw(s,o,c,u){const h=c.directiveStart,m=c.directiveEnd;ys(c)&&function ww(s,o,c){const u=mr(o,s),h=Fy(c),m=s[gs],v=wl(s,Jp(s,h,null,c.onPush?32:16,u,o,m,m.createRenderer(u,c),null,null,null));s[o.index]=v}(o,c,s.data[h+c.componentOffset]),s.firstCreatePass||tu(c,o),si(u,o);const v=c.initialInputs;for(let b=h;b<m;b++){const I=s.data[b],S=ja(o,s,b,c);si(S,o),null!==v&&Ew(0,b-h,S,I,0,v),ti(I)&&(Gr(c.index,o)[jn]=ja(o,s,b,c))}}(s,o,c,mr(c,o)),64==(64&c.flags)&&Uy(s,o,c))}function Ny(s,o,c=mr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],b=-1===v?c(o,s):s[v];s[h++]=b}}}function Fy(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=va(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function va(s,o,c,u,h,m,v,b,I,S){const k=rn+u,R=k+h,q=function ao(s,o){const c=[];for(let u=0;u<o;u++)c.push(u<s?null:Yt);return c}(k,R),ie="function"==typeof S?S():S;return q[nt]={type:s,blueprint:q,template:c,queries:null,viewQuery:b,declTNode:o,data:q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:ie,incompleteFirstPass:!1}}function Ly(s,o,c,u){const h=Hy(o);null===c?h.push(u):(h.push(c),s.firstCreatePass&&ZC(s).push(u,h.length-1))}function lw(s,o,c,u){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const m=s[h];null===u?uw(c,o,h,m):u.hasOwnProperty(h)&&uw(c,o,u[h],m)}return c}function uw(s,o,c,u){s.hasOwnProperty(c)?s[c].push(o,u):s[c]=[o,u]}function Kr(s,o,c,u,h,m,v,b){const I=mr(o,c);let k,S=o.inputs;!b&&null!=S&&(k=S[u])?(bl(s,c,k,u,h),ys(o)&&function dw(s,o){const c=Gr(o,s);16&c[Gt]||(c[Gt]|=32)}(c,o.index)):3&o.type&&(u=function qC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,m.setProperty(I,u,h))}function Vy(s,o,c,u){if(La()){const h=null===u?null:{"":-1},m=function mw(s,o){const c=s.directiveRegistry;let u=null,h=null;if(c)for(let m=0;m<c.length;m++){const v=c[m];if(qh(o,v.selectors,!1))if(u||(u=[]),ti(v))if(null!==v.findHostDirectiveDefs){const b=[];h=h||new Map,v.findHostDirectiveDefs(v,b,h),u.unshift(...b,v),Xp(s,o,b.length)}else u.unshift(v),Xp(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,u,h),u.push(v)}return null===u?null:[u,h]}(s,c);let v,b;null===m?v=b=null:[v,b]=m,null!==v&&WC(s,o,c,v,h,b),h&&function yw(s,o,c){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=c[o[h+1]];if(null==m)throw new me(-301,!1);u.push(o[h],m)}}}(c,u,h)}c.mergedAttrs=Qo(c.mergedAttrs,c.attrs)}function WC(s,o,c,u,h,m){for(let S=0;S<u.length;S++)Qn(tu(c,o),s,u[S].type);!function _w(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}(c,s.data.length,u.length);for(let S=0;S<u.length;S++){const k=u[S];k.providersResolver&&k.providersResolver(k)}let v=!1,b=!1,I=oc(s,o,u.length,null);for(let S=0;S<u.length;S++){const k=u[S];c.mergedAttrs=Qo(c.mergedAttrs,k.hostAttrs),vw(s,c,o,I,k),eg(I,k,h),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const R=k.type.prototype;!v&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(c.index),v=!0),!b&&(R.ngOnChanges||R.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(c.index),b=!0),I++}!function _l(s,o,c){const h=o.directiveEnd,m=s.data,v=o.attrs,b=[];let I=null,S=null;for(let k=o.directiveStart;k<h;k++){const R=m[k],q=c?c.get(R):null,De=q?q.outputs:null;I=lw(R.inputs,k,I,q?q.inputs:null),S=lw(R.outputs,k,S,De);const Ye=null===I||null===v||Ty(o)?null:bw(I,k,v);b.push(Ye)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=b,o.inputs=I,o.outputs=S}(s,c,m)}function Uy(s,o,c){const u=c.directiveStart,h=c.directiveEnd,m=c.index,v=function E0(){return zt.lFrame.currentDirectiveIndex}();try{Ko(m);for(let b=u;b<h;b++){const I=s.data[b],S=o[b];Kd(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&gw(I,S)}}finally{Ko(-1),Kd(v)}}function gw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Xp(s,o,c){o.componentOffset=c,(s.components??(s.components=[])).push(o.index)}function eg(s,o,c){if(c){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)c[o.exportAs[u]]=s;ti(o)&&(c[""]=s)}}function vw(s,o,c,u,h){s.data[u]=h;const m=h.factory||(h.factory=ji(h.type)),v=new Zo(m,ti(h),zu);s.blueprint[u]=v,c[u]=v,function hw(s,o,c,u,h){const m=h.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const b=~o.index;(function fw(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(v)!=b&&v.push(b),v.push(c,u,m)}}(s,o,u,oc(s,c,h.hostVars,Yt),h)}function co(s,o,c,u,h,m){const v=mr(s,o);!function By(s,o,c,u,h,m,v){if(null==m)s.removeAttribute(o,h,c);else{const b=null==v?je(m):v(m,u||"",h);s.setAttribute(o,h,b,c)}}(o[Zt],v,m,s.value,c,u,h)}function Ew(s,o,c,u,h,m){const v=m[o];if(null!==v){const b=u.setInput;for(let I=0;I<v.length;){const S=v[I++],k=v[I++],R=v[I++];null!==b?u.setInput(c,R,S,k):c[k]=R}}}function bw(s,o,c){let u=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===u&&(u=[]);const v=s[m];for(let b=0;b<v.length;b+=2)if(v[b]===o){u.push(m,v[b+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function tg(s,o,c,u){return[s,!0,!1,o,null,0,u,c,null,null]}function Cw(s,o){const c=Gr(o,s);if(Mi(c)){const u=c[nt];48&c[Gt]?qu(u,c,u.template,c[jn]):c[wn]>0&&ng(c)}}function ng(s){for(let u=nl(s);null!==u;u=ro(u))for(let h=Tr;h<u.length;h++){const m=u[h];if(Mi(m))if(512&m[Gt]){const v=m[nt];qu(v,m,v.template,m[jn])}else m[wn]>0&&ng(m)}const c=s[nt].components;if(null!==c)for(let u=0;u<c.length;u++){const h=Gr(c[u],s);Mi(h)&&h[wn]>0&&ng(h)}}function Dw(s,o){const c=Gr(o,s),u=c[nt];(function $y(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(u,c),Gu(u,c,c[jn])}function wl(s,o){return s[V]?s[Y][Xr]=o:s[V]=o,s[Y]=o,o}function Jh(s){for(;s;){s[Gt]|=32;const o=tl(s);if(zo(s)&&!o)return s;s=o}return null}function Xh(s,o,c,u=!0){const h=o[gs];h.begin&&h.begin();try{qu(s,o,s.template,c)}catch(v){throw u&&Ku(o,v),v}finally{h.end&&h.end()}}function Ci(s,o,c){Yl(0),o(s,c)}function Hy(s){return s[pi]||(s[pi]=[])}function ZC(s){return s.cleanup||(s.cleanup=[])}function Ku(s,o){const c=s[Zs],u=c?c.get(zh,null):null;u&&u.handleError(o)}function bl(s,o,c,u,h){for(let m=0;m<c.length;){const v=c[m++],b=c[m++],I=o[v],S=s.data[v];null!==S.setInput?S.setInput(I,h,u,b):I[b]=h}}function Il(s,o,c){let u=c?s.styles:null,h=c?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?m=b:1==m?h=ge(h,b):2==m&&(u=ge(u,b+": "+o[++v]+";"))}c?s.styles=u:s.stylesWithoutHost=u,c?s.classes=h:s.classesWithoutHost=h}function rg(s,o,c,u,h=!1){for(;null!==c;){const m=o[c.index];if(null!==m&&u.push(gr(m)),ei(m))for(let b=Tr;b<m.length;b++){const I=m[b],S=I[nt].firstChild;null!==S&&rg(I[nt],I,S,u)}const v=c.type;if(8&v)rg(s,o,c.child,u);else if(32&v){const b=aa(c,o);let I;for(;I=b();)u.push(I)}else if(16&v){const b=Au(o,c);if(Array.isArray(b))u.push(...b);else{const I=tl(o[Qe]);rg(I[nt],I,b,u,!0)}}c=h?c.projectionNext:c.next}return u}class Cl{get rootNodes(){const o=this._lView,c=o[nt];return rg(c,o,c.firstChild,[])}constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(o){this._lView[jn]=o}get destroyed(){return 128==(128&this._lView[Gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[On];if(ei(o)){const c=o[Ps],u=c?c.indexOf(this):-1;u>-1&&(rl(o,u),zc(c,u))}this._attachedToViewContainer=!1}Iu(this._lView[nt],this._lView)}onDestroy(o){Ly(this._lView[nt],this._lView,null,o)}markForCheck(){Jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gt]&=-65}reattach(){this._lView[Gt]|=64}detectChanges(){Xh(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bu(s,o){cl(s,o,o[Zt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=o}}class QC extends Cl{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Xh(o[nt],o,o[jn],!1)}checkNoChanges(){}get context(){return null}}class JC extends Vu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=St(o);return new ig(c,this.ngModule)}}function XC(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class tk{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,u){u=Vn(u);const h=this.injector.get(o,Kp,u);return h!==Kp||c===Kp?h:this.parentInjector.get(o,c,u)}}class ig extends L0{get inputs(){return XC(this.componentDef.inputs)}get outputs(){return XC(this.componentDef.outputs)}constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function TC(s){return s.map(DC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}create(o,c,u,h){let m=(h=h||this.ngModule)instanceof ml?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new tk(o,m):o,b=v.get(Ey,null);if(null===b)throw new me(407,!1);const I=v.get(yC,null),S=b.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",R=u?function zC(s,o,c){return s.selectRootElement(o,c===ve.ShadowDom)}(S,u,this.componentDef.encapsulation):Th(S,k,function ek(s){const o=s.toLowerCase();return"svg"===o?ri:"math"===o?"math":null}(k)),q=this.componentDef.onPush?288:272,ie=va(0,null,null,1,0,null,null,null,null,null),De=Jp(null,ie,null,q,null,null,b,S,I,v,null);let Ye,rt;cp(De);try{const bt=this.componentDef;let Ut,$e=null;bt.findHostDirectiveDefs?(Ut=[],$e=new Map,bt.findHostDirectiveDefs(bt,Ut,$e),Ut.push(bt)):Ut=[bt];const on=function eD(s,o){const c=s[nt],u=rn;return s[u]=o,Yh(c,u,2,"#host",null)}(De,R),dr=function Tw(s,o,c,u,h,m,v,b){const I=h[nt];!function tD(s,o,c,u){for(const h of s)o.mergedAttrs=Qo(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Il(o,o.mergedAttrs,!0),null!==c&&ul(u,c,o))}(u,s,o,v);const S=m.createRenderer(o,c),k=Jp(h,Fy(c),null,c.onPush?32:16,h[s.index],s,m,S,b||null,null,null);return I.firstCreatePass&&Xp(I,s,u.length-1),wl(h,k),h[s.index]=k}(on,R,bt,Ut,De,b,S);rt=Gd(ie,rn),R&&function rD(s,o,c,u){if(u)Jl(s,c,["ng-version",j0.full]);else{const{attrs:h,classes:m}=function SC(s){const o=[],c=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&c.push(m);else{if(!oo(h))break;h=m}u++}return{attrs:o,classes:c}}(o.selectors[0]);h&&Jl(s,c,h),m&&m.length>0&&as(s,c,m.join(" "))}}(S,bt,R,u),void 0!==c&&function zy(s,o,c){const u=s.projection=[];for(let h=0;h<o.length;h++){const m=c[h];u.push(null!=m?Array.from(m):null)}}(rt,this.ngContentSelectors,c),Ye=function nD(s,o,c,u,h,m){const v=xe(),b=h[nt],I=mr(v,h);WC(b,h,v,c,null,u);for(let k=0;k<c.length;k++)si(ja(h,b,v.directiveStart+k,v),h);Uy(b,h,v),I&&si(I,h);const S=ja(h,b,v.directiveStart+v.componentOffset,v);if(s[jn]=h[jn]=S,null!==m)for(const k of m)k(S,o);return Py(b,v,s),S}(dr,bt,Ut,$e,De,[ef]),Gu(ie,De,null)}finally{Ql()}return new nk(this.componentType,Ye,ya(rt,De),De,rt)}}class nk extends fC{constructor(o,c,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new QC(h),this.componentType=o}setInput(o,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const m=this._rootLView;bl(m[nt],m,h,o,c),Jh(Gr(this._tNode.index,m))}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function ef(){const s=xe();Xd(T()[nt],s)}function ac(s){let o=function tf(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const u=[s];for(;o;){let h;if(ti(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new me(903,!1);h=o.\u0275dir}if(h){if(c){u.push(h);const v=s;v.inputs=rf(s.inputs),v.declaredInputs=rf(s.declaredInputs),v.outputs=rf(s.outputs);const b=h.hostBindings;b&&sD(s,b);const I=h.viewQuery,S=h.contentQueries;if(I&&iD(s,I),S&&Gy(s,S),ye(s.inputs,h.inputs),ye(s.declaredInputs,h.declaredInputs),ye(s.outputs,h.outputs),ti(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const b=m[v];b&&b.ngInherit&&b(s),b===ac&&(c=!1)}}o=Object.getPrototypeOf(o)}!function nf(s){let o=0,c=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Qo(h.hostAttrs,c=Qo(c,h.hostAttrs))}}(u)}function rf(s){return s===ne?{}:s===Ve?[]:s}function iD(s,o){const c=s.viewQuery;s.viewQuery=c?(u,h)=>{o(u,h),c(u,h)}:o}function Gy(s,o){const c=s.contentQueries;s.contentQueries=c?(u,h,m)=>{o(u,h,m),c(u,h,m)}:o}function sD(s,o){const c=s.hostBindings;s.hostBindings=c?(u,h)=>{o(u,h),c(u,h)}:o}function Dl(s){return!!Zu(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Zu(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ai(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function qy(s,o,c,u){const h=T();return ai(h,ii(),o)&&(N(),co(nr(),h,s,o,c,u)),qy}function Pw(s,o,c,u,h,m,v,b){const I=T(),S=N(),k=s+rn,R=S.firstCreatePass?function sk(s,o,c,u,h,m,v,b,I){const S=o.consts,k=Yh(o,s,4,v||null,Ls(S,b));Vy(o,c,k,Ls(S,I)),Xd(o,k);const R=k.tView=va(2,k,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,k),R.queries=o.queries.embeddedTView(k)),k}(k,S,I,o,c,u,h,m,v):S.data[k];sn(R,!1);const q=I[Zt].createComment("");ha(S,I,q,R),si(q,I),wl(I,I[k]=tg(q,I,q,R)),Ho(R)&&Ry(S,I,R),null!=v&&Ny(I,R,b)}function lD(s){return function Js(s,o){return s[o]}(function mn(){return zt.lFrame.contextLView}(),rn+s)}function Nw(s,o,c){const u=T();return ai(u,ii(),o)&&Kr(N(),nr(),u,s,o,u[Zt],c,!1),Nw}function Fw(s,o,c,u,h){const v=h?"class":"style";bl(s,c,o.inputs[v],v,u)}function dg(s,o,c,u){const h=T(),m=N(),v=rn+s,b=h[Zt],I=m.firstCreatePass?function ok(s,o,c,u,h,m){const v=o.consts,I=Yh(o,s,2,u,Ls(v,h));return Vy(o,c,I,Ls(v,m)),null!==I.attrs&&Il(I,I.attrs,!1),null!==I.mergedAttrs&&Il(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(v,m,h,o,c,u):m.data[v],S=h[v]=Th(b,o,function C0(){return zt.lFrame.currentNamespace}()),k=Ho(I);return sn(I,!0),ul(b,S,I),32!=(32&I.flags)&&ha(m,h,S,I),0===function qd(){return zt.lFrame.elementDepthCount}()&&si(S,h),function Fa(){zt.lFrame.elementDepthCount++}(),k&&(Ry(m,h,I),Py(m,I,h)),null!==u&&Ny(h,I),dg}function df(){let s=xe();Nn()?In():(s=s.parent,sn(s,!1));const o=s;!function Zl(){zt.lFrame.elementDepthCount--}();const c=N();return c.firstCreatePass&&(Xd(c,s),Tc(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function rh(s){return 0!=(8&s.flags)}(o)&&Fw(c,o,T(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Yo(s){return 0!=(16&s.flags)}(o)&&Fw(c,o,T(),o.stylesWithoutHost,!1),df}function Yy(s,o,c,u){return dg(s,o,c,u),df(),Yy}function Qy(){return T()}function Jy(s){return!!s&&"function"==typeof s.then}function uD(s){return!!s&&"function"==typeof s.subscribe}const Xy=uD;function e_(s,o,c,u){const h=T(),m=N(),v=xe();return function n_(s,o,c,u,h,m,v){const b=Ho(u),S=s.firstCreatePass&&ZC(s),k=o[jn],R=Hy(o);let q=!0;if(3&u.type||v){const Ye=mr(u,o),rt=v?v(Ye):Ye,bt=R.length,Ut=v?on=>v(gr(on[u.index])):u.index;let $e=null;if(!v&&b&&($e=function dD(s,o,c,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===c&&h[m+1]===u){const b=o[pi],I=h[m+2];return b.length>I?b[I]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,u.index)),null!==$e)($e.__ngLastListenerFn__||$e).__ngNextListenerFn__=m,$e.__ngLastListenerFn__=m,q=!1;else{m=Uw(u,o,k,m,!1);const on=c.listen(rt,h,m);R.push(m,on),S&&S.push(h,Ut,bt,bt+1)}}else m=Uw(u,o,k,m,!1);const ie=u.outputs;let De;if(q&&null!==ie&&(De=ie[h])){const Ye=De.length;if(Ye)for(let rt=0;rt<Ye;rt+=2){const dr=o[De[rt]][De[rt+1]].subscribe(m),Vr=R.length;R.push(m,dr),S&&S.push(h,u.index,Vr,-(Vr+1))}}}(m,h,h[Zt],v,s,o,u),e_}function r_(s,o,c,u){try{return ni(6,o,c),!1!==c(u)}catch(h){return Ku(s,h),!1}finally{ni(7,o,c)}}function Uw(s,o,c,u,h){return function m(v){if(v===Function)return u;Jh(s.componentOffset>-1?Gr(s.index,o):o);let I=r_(o,c,u,v),S=m.__ngNextListenerFn__;for(;S;)I=r_(o,c,S,v)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function i_(s=1){return function Nm(s){return(zt.lFrame.contextLView=function lp(s,o){for(;s>0;)o=o[pe],s--;return o}(s,zt.lFrame.contextLView))[jn]}(s)}function hD(s,o){let c=null;const u=function Zp(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(!(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?qh(s,m,!0):CC(u,m))return h}else c=h}return c}function hg(s){const o=T()[Qe][er];if(!o.projection){const u=o.projection=cu(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const v=s?hD(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:u[v]=m,h[v]=m),m=m.next}}}function Bw(s,o=0,c){const u=T(),h=N(),m=Yh(h,rn+s,16,null,c||null);null===m.projection&&(m.projection=o),In(),32!=(32&m.flags)&&function Mh(s,o,c){xh(o[Zt],0,o,c,Ja(s,c,o),Du(c.parent||o[er],c,o))}(h,u,m)}function td(s,o){return s<<17|o<<2}function hc(s){return s>>17&32767}function Gw(s){return 2|s}function wa(s){return(131068&s)>>2}function hf(s,o){return-131069&s|o<<2}function gg(s){return 1|s}function l_(s,o,c,u,h){const m=s[c+1],v=null===o;let b=u?hc(m):wa(m),I=!1;for(;0!==b&&(!1===I||v);){const k=s[b+1];gD(s[b],o)&&(I=!0,s[b+1]=u?gg(k):Gw(k)),b=u?hc(k):wa(k)}I&&(s[c+1]=u?Gw(m):gg(m))}function gD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Hi(s,o)>=0}function Qw(s,o){return function Oo(s,o,c,u){const h=T(),m=N(),v=function kr(s){const o=zt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}(2);m.firstUpdatePass&&function ED(s,o,c,u){const h=s.data;if(null===h[c+1]){const m=h[wi()],v=function Jw(s,o){return o>=s.expandoStartIndex}(s,c);(function f_(s,o){return 0!=(s.flags&(o?8:16))})(m,u)&&null===o&&!v&&(o=!1),o=function bD(s,o,c,u){const h=function Va(s){const o=zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(c=ff(c=id(null,s,o,c,u),o.attrs,u),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=id(h,s,o,c,u),null===m){let I=function ID(s,o,c){const u=c?o.classBindings:o.styleBindings;if(0!==wa(u))return s[hc(u)]}(s,o,u);void 0!==I&&Array.isArray(I)&&(I=id(null,s,o,I[1],u),I=ff(I,o.attrs,u),function CD(s,o,c,u){s[hc(c?o.classBindings:o.styleBindings)]=u}(s,o,u,I))}else m=function DD(s,o,c){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=ff(u,s[m].hostAttrs,c);return ff(u,o.attrs,c)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),c}(h,m,o,u),function Ww(s,o,c,u,h,m){let v=m?o.classBindings:o.styleBindings,b=hc(v),I=wa(v);s[u]=c;let k,S=!1;if(Array.isArray(c)?(k=c[1],(null===k||Hi(c,k)>0)&&(S=!0)):k=c,h)if(0!==I){const q=hc(s[b+1]);s[u+1]=td(q,b),0!==q&&(s[q+1]=hf(s[q+1],u)),s[b+1]=function fD(s,o){return 131071&s|o<<17}(s[b+1],u)}else s[u+1]=td(b,0),0!==b&&(s[b+1]=hf(s[b+1],u)),b=u;else s[u+1]=td(I,0),0===b?b=u:s[I+1]=hf(s[I+1],u),I=u;S&&(s[u+1]=Gw(s[u+1])),l_(s,k,u,!0),l_(s,k,u,!1),function pD(s,o,c,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Hi(m,o)>=0&&(c[u+1]=gg(c[u+1]))}(o,k,s,u,m),v=td(b,I),m?o.classBindings=v:o.styleBindings=v}(h,m,o,c,v,u)}}(m,s,v,u),o!==Yt&&ai(h,v,o)&&function eE(s,o,c,u,h,m,v,b){if(!(3&o.type))return;const I=s.data,S=I[b+1],k=function qw(s){return 1==(1&s)}(S)?tE(I,o,c,h,wa(S),v):void 0;pf(k)||(pf(m)||function zw(s){return 2==(2&s)}(S)&&(m=tE(I,null,c,h,b,v)),function Bs(s,o,c,u,h){if(o)h?s.addClass(c,u):s.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:Vt.DashCase;null==h?s.removeStyle(c,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Vt.Important),s.setStyle(c,u,h,m))}}(u,v,_s(wi(),c),h,m))}(m,m.data[wi()],h,h[Zt],s,h[v+1]=function MD(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ce(oi(s)))),s}(o,c),u,v)}(s,o,null,!0),Qw}function id(s,o,c,u,h){let m=null;const v=c.directiveEnd;let b=c.directiveStylingLast;for(-1===b?b=c.directiveStart:b++;b<v&&(m=o[b],u=ff(u,m.hostAttrs,h),m!==s);)b++;return null!==s&&(c.directiveStylingLast=b),u}function ff(s,o,c){const u=c?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Oi(s,v,!!c||o[++m]))}return void 0===s?null:s}function tE(s,o,c,u,h,m){const v=null===o;let b;for(;h>0;){const I=s[h],S=Array.isArray(I),k=S?I[1]:I,R=null===k;let q=c[h+1];q===Yt&&(q=R?Ve:void 0);let ie=R?$n(q,u):k===u?q:void 0;if(S&&!pf(ie)&&(ie=$n(I,u)),pf(ie)&&(b=ie,v))return b;const De=s[h+1];h=v?hc(De):wa(De)}if(null!==o){let I=m?o.residualClasses:o.residualStyles;null!=I&&(b=$n(I,u))}return b}function pf(s){return void 0!==s}function xD(s,o=""){const c=T(),u=N(),h=s+rn,m=u.firstCreatePass?Yh(u,h,1,o,null):u.data[h],v=c[h]=function Qa(s,o){return s.createText(o)}(c[Zt],o);ha(u,c,v,m),sn(m,!1)}function nE(s){return mg("",s,""),nE}function mg(s,o,c){const u=T(),h=function Yu(s,o,c,u){return ai(s,ii(),c)?o+je(c)+u:Yt}(u,s,o,c);return h!==Yt&&function lo(s,o,c){const u=_s(o,s);!function Dh(s,o,c){s.setValue(o,c)}(s[Zt],u,c)}(u,wi(),h),mg}function oE(s,o,c){const u=T();return ai(u,ii(),o)&&Kr(N(),nr(),u,s,o,u[Zt],c,!0),oE}const cd=void 0;var Ek=["en",[["a","p"],["AM","PM"],cd],[["AM","PM"],cd,cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cd,"{1} 'at' {0}",cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wk(s){const c=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let gf={};function aE(s){const o=function bk(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=WD(o);if(c)return c;const u=o.split("-")[0];if(c=WD(u),c)return c;if("en"===u)return Ek;throw new me(701,!1)}function qD(s){return aE(s)[$t.PluralCase]}function WD(s){return s in gf||(gf[s]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[s]),gf[s]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const mf="en-US";let KD=mf;function yf(s,o,c,u,h){if(s=W(s),Array.isArray(s))for(let m=0;m<s.length;m++)yf(s[m],o,c,u,h);else{const m=N(),v=T();let b=ma(s)?s:W(s.provide),I=yy(s);const S=xe(),k=1048575&S.providerIndexes,R=S.directiveStart,q=S.providerIndexes>>20;if(ma(s)||!s.multi){const ie=new Zo(I,h,zu),De=Dg(b,o,h?k:k+q,R);-1===De?(Qn(tu(S,v),m,b),w_(m,s,o.length),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(ie),v.push(ie)):(c[De]=ie,v[De]=ie)}else{const ie=Dg(b,o,k+q,R),De=Dg(b,o,k,k+q),rt=De>=0&&c[De];if(h&&!rt||!h&&!(ie>=0&&c[ie])){Qn(tu(S,v),m,b);const bt=function hE(s,o,c,u,h){const m=new Zo(s,c,zu);return m.multi=[],m.index=o,m.componentProviders=0,dE(m,h,u&&!c),m}(h?ET:Tg,c.length,h,u,I);!h&&rt&&(c[De].providerFactory=bt),w_(m,s,o.length,0),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(bt),v.push(bt)}else w_(m,s,ie>-1?ie:De,dE(c[h?De:ie],I,!h&&u));!h&&u&&rt&&c[De].componentProviders++}}}function w_(s,o,c,u){const h=ma(o),m=function zp(s){return!!s.useClass}(o);if(h||m){const I=(m?W(o.useClass):o).prototype.ngOnDestroy;if(I){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=S.indexOf(c);-1===k?S.push(c,[u,I]):S[k+1].push(u,I)}else S.push(c,I)}}}function dE(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Dg(s,o,c,u){for(let h=c;h<u;h++)if(o[h]===s)return h;return-1}function Tg(s,o,c,u){return E_(this.multi,[])}function ET(s,o,c,u){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=ja(c,c[nt],this.providerFactory.index,u);m=b.slice(0,v),E_(h,m);for(let I=v;I<b.length;I++)m.push(b[I])}else m=[],E_(h,m);return m}function E_(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function bT(s,o=[]){return c=>{c.providersResolver=(u,h)=>function uE(s,o,c){const u=N();if(u.firstCreatePass){const h=ti(s);yf(c,u.data,u.blueprint,h,!0),yf(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Po{}class IT{}function fE(s,o){return new CT(s,o??null)}class CT extends Po{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new JC(this);const u=qn(o);this._bootstrapComponents=Mo(u.bootstrap),this._r3Injector=Ay(o,c,[{provide:Po,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],Ce(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Sg extends IT{constructor(o){super(),this.moduleType=o}create(o){return new CT(this.moduleType,o)}}class ld extends Po{constructor(o,c,u){super(),this.componentFactoryResolver=new JC(this),this.instance=null;const h=new N0([...o,{provide:Po,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],c||qp(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function b_(s,o,c=null){return new ld(s,o,c).injector}let DT=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=Nu(0,c.type),h=u.length>0?b_([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Et({token:s,providedIn:"environment",factory:()=>new s(_n(ml))}),s})();function pE(s){s.getStandaloneInjector=o=>o.get(DT).getOrCreateStandaloneInjector(s)}function Mg(s){return o=>{setTimeout(s,void 0,o)}}const Gi=class jT extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,u){let h=o,m=c||(()=>null),v=u;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=Mg(m),h&&(h=Mg(h)),v&&(v=Mg(v)));const b=super.subscribe({next:h,error:m,complete:v});return o instanceof J.w0&&o.add(b),b}};function $T(){return this._results[Symbol.iterator]()}class vE{get changes(){return this._changes||(this._changes=new Gi)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=vE.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=$T)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const u=this;u.dirty=!1;const h=function ws(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Hm(s,o,c){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vf=(()=>{class s{}return s.__NG_ELEMENT_ID__=PP,s})();const OP=vf,kP=class extends OP{constructor(o,c,u){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(o,c){const u=this._declarationTContainer.tView,h=Jp(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,c||null);h[ln]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[fn];return null!==v&&(h[fn]=v.createEmbeddedView(u)),Gu(u,h,o),new Cl(h)}};function PP(){return T_(xe(),T())}function T_(s,o){return 4&s.type?new kP(o,s,ya(s,o)):null}let xg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Og,s})();function Og(){return Pg(xe(),T())}const HT=xg,zT=class extends HT{constructor(o,c,u){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=u}get element(){return ya(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const o=oh(this._hostTNode,this._hostLView);if(Lc(o)){const c=Xo(o,this._hostLView),u=Jo(o);return new Xs(c[nt].data[u+8],c)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=S_(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-Tr}createEmbeddedView(o,c,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const v=o.createEmbeddedView(c||{},m);return this.insert(v,h),v}createComponent(o,c,u,h,m){const v=o&&!function au(s){return"function"==typeof s}(o);let b;if(v)b=c;else{const R=c||{};b=R.index,u=R.injector,h=R.projectableNodes,m=R.environmentInjector||R.ngModuleRef}const I=v?o:new ig(St(o)),S=u||this.parentInjector;if(!m&&null==I.ngModule){const q=(v?S:this.parentInjector).get(ml,null);q&&(m=q)}const k=I.create(S,h,void 0,m);return this.insert(k.hostView,b),k}insert(o,c){const u=o._lView,h=u[nt];if(function Ra(s){return ei(s[On])}(u)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const R=u[On],q=new zT(R,R[er],R[On]);q.detach(q.indexOf(o))}}const m=this._adjustIndex(c),v=this._lContainer;!function la(s,o,c,u){const h=Tr+u,m=c.length;u>0&&(c[h-1][Xr]=o),u<m-Tr?(o[Xr]=c[h],zm(c,Tr+u,o)):(c.push(o),o[Xr]=null),o[On]=c;const v=o[ln];null!==v&&c!==v&&function Qm(s,o){const c=s[Rs];o[Qe]!==o[On][On][Qe]&&(s[Dc]=!0),null===c?s[Rs]=[o]:c.push(o)}(v,o);const b=o[fn];null!==b&&b.insertView(s),o[Gt]|=64}(h,u,v,m);const b=Is(m,v),I=u[Zt],S=so(I,v[yo]);return null!==S&&function kp(s,o,c,u,h,m){u[zr]=h,u[er]=o,cl(s,u,c,1,h,m)}(h,v[er],I,u,S,b),o.attachToViewContainerRef(),zm(kg(v),m,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=S_(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),u=rl(this._lContainer,c);u&&(zc(kg(this._lContainer),c),Iu(u[nt],u))}detach(o){const c=this._adjustIndex(o,-1),u=rl(this._lContainer,c);return u&&null!=zc(kg(this._lContainer),c)?new Cl(u):null}_adjustIndex(o,c=0){return o??this.length+c}};function S_(s){return s[Ps]}function kg(s){return s[Ps]||(s[Ps]=[])}function Pg(s,o){let c;const u=o[s.index];if(ei(u))c=u;else{let h;if(8&s.type)h=gr(u);else{const m=o[Zt];h=m.createComment("");const v=mr(s,o);So(m,so(m,v),h,function Np(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=c=tg(u,o,h,s),wl(o,c)}return new zT(c,s,o)}class A_{constructor(o){this.queryList=o,this.matches=null}clone(){return new A_(this.queryList)}setDirty(){this.queryList.setDirty()}}class wE{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const u=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let m=0;m<u;m++){const v=c.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new wE(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==JT(o,c).matches&&this.queries[c].setDirty()}}class GT{constructor(o,c,u=null){this.predicate=o,this.flags=c,this.read=u}}class M_{constructor(o=[]){this.queries=o}elementStart(o,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new M_(c):null}template(o,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class x_{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new x_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,c,RP(c,m)),this.matchTNodeWithReadOption(o,c,ta(c,o,m,!1,!1))}else u===vf?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,ta(c,o,u,!1,!1))}matchTNodeWithReadOption(o,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Uu||h===xg||h===vf&&4&c.type)this.addMatch(c.index,-2);else{const m=ta(c,o,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function RP(s,o){const c=s.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===o)return c[u+1];return null}function FP(s,o,c,u){return-1===c?function NP(s,o){return 11&s.type?ya(s,o):4&s.type?T_(s,o):null}(o,s):-2===c?function EE(s,o,c){return c===Uu?ya(o,s):c===vf?T_(o,s):c===xg?Pg(o,s):void 0}(s,o,u):ja(s,s[nt],c,o)}function O_(s,o,c,u){const h=o[fn].queries[u];if(null===h.matches){const m=s.data,v=c.matches,b=[];for(let I=0;I<v.length;I+=2){const S=v[I];b.push(S<0?null:FP(o,m[S],v[I+1],c.metadata.read))}h.matches=b}return h.matches}function bE(s,o,c,u){const h=s.queries.getByIndex(c),m=h.matches;if(null!==m){const v=O_(s,o,h,c);for(let b=0;b<m.length;b+=2){const I=m[b];if(I>0)u.push(v[b/2]);else{const S=m[b+1],k=o[-I];for(let R=Tr;R<k.length;R++){const q=k[R];q[ln]===q[On]&&bE(q[nt],q,S,u)}if(null!==k[Rs]){const R=k[Rs];for(let q=0;q<R.length;q++){const ie=R[q];bE(ie[nt],ie,S,u)}}}}}return u}function qT(s){const o=T(),c=N(),u=km();Yl(u+1);const h=JT(c,u);if(s.dirty&&function kc(s){return 4==(4&s[Gt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?bE(c,o,u,[]):O_(c,o,h,u);s.reset(m,Hh),s.notifyOnChanges()}return!0}return!1}function WT(s,o,c){const u=N();u.firstCreatePass&&(QT(u,new GT(s,o,c),-1),2==(2&o)&&(u.staticViewQueries=!0)),YT(u,T(),o)}function KT(s,o,c,u){const h=N();if(h.firstCreatePass){const m=xe();QT(h,new GT(o,c,u),m.index),function IE(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}YT(h,T(),c)}function ZT(){return function LP(s,o){return s[fn].queries[o].queryList}(T(),km())}function YT(s,o,c){const u=new vE(4==(4&c));Ly(s,o,u,u.destroy),null===o[fn]&&(o[fn]=new wE),o[fn].queries.push(new A_(u))}function QT(s,o,c){null===s.queries&&(s.queries=new M_),s.queries.track(new x_(o,c))}function JT(s,o){return s.queries.getByIndex(o)}function k_(s){return!!qn(s)}function If(...s){}const kE=new Cn("Application Initializer");let Ng=(()=>{class s{constructor(c){this.appInits=c,this.resolve=If,this.reject=If,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Jy(m))c.push(m);else if(Xy(m)){const v=new Promise((b,I)=>{m.subscribe({complete:b,error:I})});c.push(v)}}Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(_n(kE,8))},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const F_=new Cn("AppId",{providedIn:"root",factory:function PE(){return`${Fg()}${Fg()}${Fg()}`}});function Fg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RE=new Cn("Platform Initializer"),vS=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NE=new Cn("AnimationModuleType");let wS=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const L_=new Cn("LocaleId",{providedIn:"root",factory:()=>xn(L_,Ct.Optional|Ct.SkipSelf)||function Ia(){return typeof $localize<"u"&&$localize.locale||mf}()}),tR=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nR{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let rR=(()=>{class s{compileModuleSync(c){return new Sg(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),m=Mo(qn(c).declarations).reduce((v,b)=>{const I=St(b);return I&&v.push(new ig(I)),v},[]);return new nR(u,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Cf=(()=>Promise.resolve(0))();function Lg(s){typeof Zone>"u"?Cf.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ts{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gi(!1),this.onMicrotaskEmpty=new Gi(!1),this.onStable=new Gi(!1),this.onError=new Gi(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function V_(){let s=en.requestAnimationFrame,o=en.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function SS(s){const o=()=>{!function TS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(en,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,B_(s),s.isCheckStableRunning=!0,U_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),B_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,m,v,b)=>{try{return FE(s),c.invokeTask(h,m,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),LE(s)}},onInvoke:(c,u,h,m,v,b,I)=>{try{return FE(s),c.invoke(h,m,v,b,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),LE(s)}},onHasTask:(c,u,h,m)=>{c.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,B_(s),U_(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,h,m)=>(c.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ts.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(Ts.isInAngularZone())throw new me(909,!1)}run(o,c,u){return this._inner.run(o,c,u)}runTask(o,c,u,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,DS,If,If);try{return m.runTask(v,c,u)}finally{m.cancelTask(v)}}runGuarded(o,c,u){return this._inner.runGuarded(o,c,u)}runOutsideAngular(o){return this._outer.run(o)}}const DS={};function U_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function B_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function FE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function LE(s){s._nesting--,U_(s)}class AS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gi,this.onMicrotaskEmpty=new Gi,this.onStable=new Gi,this.onError=new Gi}run(o,c,u){return o.apply(c,u)}runGuarded(o,c,u){return o.apply(c,u)}runOutsideAngular(o){return o()}runTask(o,c,u,h){return o.apply(c,u)}}const VE=new Cn(""),UE=new Cn("");let j_,oR=(()=>{class s{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,j_||(function MS(s){j_=s}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ts.assertNotInAngularZone(),Lg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lg(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(_n(Ts),_n(BE),_n(UE))},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})(),BE=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return j_?.findTestabilityInTree(this,c,u)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ca=!1;let fc=null;const jE=new Cn("AllowMultipleToken"),$_=new Cn("PlatformDestroyListeners"),$E=new Cn("appBootstrapListener");class kS{constructor(o,c){this.name=o,this.token=c}}function zE(s,o,c=[]){const u=`Platform: ${o}`,h=new Cn(u);return(m=[])=>{let v=H_();if(!v||v.injector.get(jE,!1)){const b=[...c,...m,{provide:h,useValue:!0}];s?s(b):function PS(s){if(fc&&!fc.get(jE,!1))throw new me(400,!1);fc=s;const o=s.get(qE);(function HE(s){const o=s.get(RE,null);o&&o.forEach(c=>c())})(s)}(function GE(s=[],o){return ju.create({name:o,providers:[{provide:sc,useValue:"platform"},{provide:$_,useValue:new Set([()=>fc=null])},...s]})}(b,u))}return function NS(s){const o=H_();if(!o)throw new me(401,!1);return o}()}}function H_(){return fc?.get(qE)??null}let qE=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function WE(s,o){let c;return c="noop"===s?new AS:("zone.js"===s?void 0:s)||new Ts(o),c}(u?.ngZone,function FS(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:Ts,useValue:h}];return h.run(()=>{const v=ju.create({providers:m,parent:this.injector,name:c.moduleType.name}),b=c.create(v),I=b.injector.get(zh,null);if(!I)throw new me(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:k=>{I.handleError(k)}});b.onDestroy(()=>{uo(this._modules,b),S.unsubscribe()})}),function KE(s,o,c){try{const u=c();return Jy(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(I,h,()=>{const S=b.injector.get(Ng);return S.runInitializers(),S.donePromise.then(()=>(function ZD(s){He(s,"Expected localeId to be defined"),"string"==typeof s&&(KD=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(L_,mf)||mf),this._moduleDoBootstrap(b),b))})})}bootstrapModule(c,u=[]){const h=ZE({},u);return function xS(s,o,c){const u=new Sg(c);return Promise.resolve(u)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const u=c.injector.get(hd);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new me(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get($_,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(_n(ju))},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ZE(s,o){return Array.isArray(o)?o.reduce(ZE,s):{...s,...o}}let hd=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,u,h){this._zone=c,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new L.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new L.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ts.assertNotInAngularZone(),Lg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(m,v.pipe((0,he.B)()))}bootstrap(c,u){const h=c instanceof L0;if(!this._injector.get(Ng).done){!h&&Xn(c);throw new me(405,Ca)}let v;v=h?c:this._injector.get(Vu).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const b=function OS(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Po),S=v.create(ju.NULL,[],u||v.selector,b),k=S.location.nativeElement,R=S.injector.get(VE,null);return R?.registerApplication(k),S.onDestroy(()=>{this.detachView(S.hostView),uo(this.components,S),R?.unregisterApplication(k)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;uo(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get($E,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>uo(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new me(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(_n(Ts),_n(ml),_n(zh))},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function uo(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}function q_(){return!1}let QE=(()=>{class s{}return s.__NG_ELEMENT_ID__=JE,s})();function JE(s){return function W_(s,o,c){if(ys(s)&&!c){const u=Gr(s.index,o);return new Cl(u,u)}return 47&s.type?new Cl(o[Qe],o):null}(xe(),T(),16==(16&s))}class $g{constructor(){}supports(o){return Dl(o)}create(o){return new $S(o)}}const Hg=(s,o)=>o;class $S{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Hg}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,u=this._removalsHead,h=0,m=null;for(;c||u;){const v=!u||c&&c.currentIndex<Y_(u,h,m)?c:u,b=Y_(v,h,m),I=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{m||(m=[]);const S=b-h,k=I-h;if(S!=k){for(let q=0;q<S;q++){const ie=q<m.length?m[q]:m[q]=0,De=ie+q;k<=De&&De<S&&(m[q]=ie+1)}m[v.previousIndex]=k-S}}b!==I&&o(v,b,I)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Dl(o))throw new me(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,c=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)m=o[b],v=this._trackByFn(b,m),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,m,v,b)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,b),u=!0),c=c._next}else h=0,function af(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Symbol.iterator]();let u;for(;!(u=c.next()).done;)o(u.value)}}(o,b=>{v=this._trackByFn(h,b),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,b,v,h)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,v,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,m,h)):o=this._addAfter(new Tf(c,u),m,h),o}_verifyReinsertion(o,c,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,c,u),this._addToMoves(o,u),o}_moveAfter(o,c,u){return this._unlink(o),this._insertAfter(o,c,u),this._addToMoves(o,u),o}_addAfter(o,c,u){return this._insertAfter(o,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,u){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new rb),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,u=o._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Tf{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const c=o._prevDup,u=o._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class rb{constructor(){this.map=new Map}put(o){const c=o.trackById;let u=this.map.get(c);u||(u=new nb,this.map.set(c,u)),u.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Y_(s,o,c){const u=s.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+o+h}class Da{constructor(){}supports(o){return o instanceof Map||Zu(o)}create(){return new ib}}class ib{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Zu(o)))throw new me(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const u=o._prev;return c._next=o,c._prev=u,o._prev=c,u&&(u._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const u=new sb(o);return this._records.set(o,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(u=>c(o[u],u))}}class sb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ho(){return new Ta([new $g])}let Ta=(()=>{class s{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||ho()),deps:[[s,new kt,new Gc]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new me(901,!1)}}return s.\u0275prov=Et({token:s,providedIn:"root",factory:ho}),s})();function ob(){return new Sf([new Da])}let Sf=(()=>{class s{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||ob()),deps:[[s,new kt,new Gc]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new me(901,!1)}}return s.\u0275prov=Et({token:s,providedIn:"root",factory:ob}),s})();const J_=zE(null,"core",[]);let HS=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(_n(hd))},s.\u0275mod=X({type:s}),s.\u0275inj=hn({}),s})();function zS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},579:(Mt,Me,P)=>{P.d(Me,{EI:()=>j,Gb:()=>$r,Iv:()=>fi,Kz:()=>G,Xd:()=>qt,lT:()=>Vn,xP:()=>Hr});var d=P(5861),J=P(6881),L=P(1877),se=P(2090),he=P(4859);P(4727);const ye="analytics",Ce="firebase_id",ge="origin",z=6e4,H="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",W="https://www.googletagmanager.com/gtag/js",Fe=new L.Yd("@firebase/analytics"),qe=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function vt(Q){if(!Q.startsWith(W)){const _e=qe.create("invalid-gtag-resource",{gtagURL:Q});return Fe.warn(_e.message),""}return Q}function me(Q){return Promise.all(Q.map(_e=>_e.catch(Se=>Se)))}function Ee(){return(Ee=(0,d.Z)(function*(Q,_e,Se,Ge,Ne,yt){const Ft=Ge[Ne];try{if(Ft)yield _e[Ft];else{const nn=(yield me(Se)).find(re=>re.measurementId===Ne);nn&&(yield _e[nn.appId])}}catch(tn){Fe.error(tn)}Q("config",Ne,yt)})).apply(this,arguments)}function tt(){return(tt=(0,d.Z)(function*(Q,_e,Se,Ge,Ne){try{let yt=[];if(Ne&&Ne.send_to){let Ft=Ne.send_to;Array.isArray(Ft)||(Ft=[Ft]);const tn=yield me(Se);for(const nn of Ft){const re=tn.find(Oe=>Oe.measurementId===nn),X=re&&_e[re.appId];if(!X){yt=[];break}yt.push(X)}}0===yt.length&&(yt=Object.values(_e)),yield Promise.all(yt),Q("event",Ge,Ne||{})}catch(yt){Fe.error(yt)}})).apply(this,arguments)}const Pt=30,ut=new class Jt{constructor(_e={},Se=1e3){this.throttleMetadata=_e,this.intervalMillis=Se}getThrottleMetadata(_e){return this.throttleMetadata[_e]}setThrottleMetadata(_e,Se){this.throttleMetadata[_e]=Se}deleteThrottleMetadata(_e){delete this.throttleMetadata[_e]}};function es(Q){return new Headers({Accept:"application/json","x-goog-api-key":Q})}function be(){return(be=(0,d.Z)(function*(Q){var _e;const{appId:Se,apiKey:Ge}=Q,Ne={method:"GET",headers:es(Ge)},yt=H.replace("{app-id}",Se),Ft=yield fetch(yt,Ne);if(200!==Ft.status&&304!==Ft.status){let tn="";try{const nn=yield Ft.json();null!==(_e=nn.error)&&void 0!==_e&&_e.message&&(tn=nn.error.message)}catch{}throw qe.create("config-fetch-failed",{httpStatus:Ft.status,responseMessage:tn})}return Ft.json()})).apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(Q,_e=ut,Se){const{appId:Ge,apiKey:Ne,measurementId:yt}=Q.options;if(!Ge)throw qe.create("no-app-id");if(!Ne){if(yt)return{measurementId:yt,appId:Ge};throw qe.create("no-api-key")}const Ft=_e.getThrottleMetadata(Ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tn=new Bt;return setTimeout((0,d.Z)(function*(){tn.abort()}),void 0!==Se?Se:z),Xe({appId:Ge,apiKey:Ne,measurementId:yt},Ft,tn,_e)})).apply(this,arguments)}function Xe(Q,_e,Se){return He.apply(this,arguments)}function He(){return He=(0,d.Z)(function*(Q,{throttleEndTimeMillis:_e,backoffCount:Se},Ge,Ne=ut){var yt;const{appId:Ft,measurementId:tn}=Q;try{yield function Ze(Q,_e){return new Promise((Se,Ge)=>{const Ne=Math.max(_e-Date.now(),0),yt=setTimeout(Se,Ne);Q.addEventListener(()=>{clearTimeout(yt),Ge(qe.create("fetch-throttle",{throttleEndTimeMillis:_e}))})})}(Ge,_e)}catch(nn){if(tn)return Fe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tn} provided in the "measurementId" field in the local Firebase config. [${nn?.message}]`),{appId:Ft,measurementId:tn};throw nn}try{const nn=yield function fe(Q){return be.apply(this,arguments)}(Q);return Ne.deleteThrottleMetadata(Ft),nn}catch(nn){const re=nn;if(!function mt(Q){if(!(Q instanceof se.ZR&&Q.customData))return!1;const _e=Number(Q.customData.httpStatus);return 429===_e||500===_e||503===_e||504===_e}(re)){if(Ne.deleteThrottleMetadata(Ft),tn)return Fe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tn} provided in the "measurementId" field in the local Firebase config. [${re?.message}]`),{appId:Ft,measurementId:tn};throw nn}const X=503===Number(null===(yt=re?.customData)||void 0===yt?void 0:yt.httpStatus)?(0,se.$s)(Se,Ne.intervalMillis,Pt):(0,se.$s)(Se,Ne.intervalMillis),Oe={throttleEndTimeMillis:Date.now()+X,backoffCount:Se+1};return Ne.setThrottleMetadata(Ft,Oe),Fe.debug(`Calling attemptFetch again in ${X} millis`),Xe(Q,Oe,Ge,Ne)}}),He.apply(this,arguments)}class Bt{constructor(){this.listeners=[]}addEventListener(_e){this.listeners.push(_e)}abort(){this.listeners.forEach(_e=>_e())}}let xt,Ct;function an(){return(an=(0,d.Z)(function*(Q,_e,Se,Ge,Ne){if(Ne&&Ne.global)Q("event",Se,Ge);else{const yt=yield _e;Q("event",Se,Object.assign(Object.assign({},Ge),{send_to:yt}))}})).apply(this,arguments)}function Dn(){return(Dn=(0,d.Z)(function*(Q,_e,Se,Ge){if(Ge&&Ge.global)return Q("set",{screen_name:Se}),Promise.resolve();Q("config",yield _e,{update:!0,screen_name:Se})})).apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(Q,_e,Se,Ge){if(Ge&&Ge.global)return Q("set",{user_id:Se}),Promise.resolve();Q("config",yield _e,{update:!0,user_id:Se})})).apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(Q,_e,Se,Ge){if(Ge&&Ge.global){const Ne={};for(const yt of Object.keys(Se))Ne[`user_properties.${yt}`]=Se[yt];return Q("set",Ne),Promise.resolve()}Q("config",yield _e,{update:!0,user_properties:Se})})).apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(Q,_e){const Se=yield Q;window[`ga-disable-${Se}`]=!_e})).apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(){if(!(0,se.hl)())return Fe.warn(qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(Q){return Fe.warn(qe.create("indexeddb-unavailable",{errorInfo:Q?.toString()}).message),!1}return!0})).apply(this,arguments)}function en(){return en=(0,d.Z)(function*(Q,_e,Se,Ge,Ne,yt,Ft){var tn;const nn=function Ae(Q){return Re.apply(this,arguments)}(Q);nn.then(Tt=>{Se[Tt.measurementId]=Tt.appId,Q.options.measurementId&&Tt.measurementId!==Q.options.measurementId&&Fe.warn(`The measurement ID in the local Firebase config (${Q.options.measurementId}) does not match the measurement ID fetched from the server (${Tt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tt=>Fe.error(Tt)),_e.push(nn);const re=function or(){return Gn.apply(this,arguments)}().then(Tt=>{if(Tt)return Ge.getId()}),[X,Oe]=yield Promise.all([nn,re]);(function ae(Q){const _e=window.document.getElementsByTagName("script");for(const Se of Object.values(_e))if(Se.src&&Se.src.includes(W)&&Se.src.includes(Q))return Se;return null})(yt)||function je(Q,_e){const Se=function Ue(Q,_e){let Se;return window.trustedTypes&&(Se=window.trustedTypes.createPolicy(Q,_e)),Se}("firebase-js-sdk-policy",{createScriptURL:vt}),Ge=document.createElement("script"),Ne=`${W}?l=${Q}&id=${_e}`;Ge.src=Se?Se?.createScriptURL(Ne):Ne,Ge.async=!0,document.head.appendChild(Ge)}(yt,X.measurementId),Ct&&(Ne("consent","default",Ct),function sr(Q){Ct=Q}(void 0)),Ne("js",new Date);const gt=null!==(tn=Ft?.config)&&void 0!==tn?tn:{};return gt[ge]="firebase",gt.update=!0,null!=Oe&&(gt[Ce]=Oe),Ne("config",X.measurementId,gt),xt&&(Ne("set",xt),function ps(Q){xt=Q}(void 0)),X.measurementId}),en.apply(this,arguments)}class bn{constructor(_e){this.app=_e}_delete(){return delete st[this.app.options.appId],Promise.resolve()}}let st={},Nt=[];const Or={};let cr,Mn,Ln="dataLayer",Hn="gtag",Dr=!1;function qt(Q){if(Dr)throw qe.create("already-initialized");Q.dataLayerName&&(Ln=Q.dataLayerName),Q.gtagName&&(Hn=Q.gtagName)}function Xt(Q,_e,Se){!function jr(){const Q=[];if((0,se.ru)()&&Q.push("This is a browser extension environment."),(0,se.zI)()||Q.push("Cookies are not available."),Q.length>0){const _e=Q.map((Ge,Ne)=>`(${Ne+1}) ${Ge}`).join(" "),Se=qe.create("invalid-analytics-context",{errorInfo:_e});Fe.warn(Se.message)}}();const Ge=Q.options.appId;if(!Ge)throw qe.create("no-app-id");if(!Q.options.apiKey){if(!Q.options.measurementId)throw qe.create("no-api-key");Fe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Q.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=st[Ge])throw qe.create("already-exists",{id:Ge});if(!Dr){!function Ke(Q){let _e=[];Array.isArray(window[Q])?_e=window[Q]:window[Q]=_e}(Ln);const{wrappedGtag:yt,gtagCore:Ft}=function ct(Q,_e,Se,Ge,Ne){let yt=function(...Ft){window[Ge].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(yt=window[Ne]),window[Ne]=function ze(Q,_e,Se,Ge){function yt(){return yt=(0,d.Z)(function*(Ft,...tn){try{if("event"===Ft){const[nn,re]=tn;yield function Ie(Q,_e,Se,Ge,Ne){return tt.apply(this,arguments)}(Q,_e,Se,nn,re)}else if("config"===Ft){const[nn,re]=tn;yield function Pe(Q,_e,Se,Ge,Ne,yt){return Ee.apply(this,arguments)}(Q,_e,Se,Ge,nn,re)}else if("consent"===Ft){const[nn]=tn;Q("consent","update",nn)}else if("get"===Ft){const[nn,re,X]=tn;Q("get",nn,re,X)}else if("set"===Ft){const[nn]=tn;Q("set",nn)}else Q(Ft,...tn)}catch(nn){Fe.error(nn)}}),yt.apply(this,arguments)}return function Ne(Ft){return yt.apply(this,arguments)}}(yt,Q,_e,Se),{gtagCore:yt,wrappedGtag:window[Ne]}}(st,Nt,Or,Ln,Hn);Mn=yt,cr=Ft,Dr=!0}return st[Ge]=function ar(Q,_e,Se,Ge,Ne,yt,Ft){return en.apply(this,arguments)}(Q,Nt,Or,_e,cr,Ln,Se),new bn(Q)}function $r(){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}function Vn(Q,_e,Se){Q=(0,se.m9)(Q),function hn(Q,_e,Se,Ge){return Dn.apply(this,arguments)}(Mn,st[Q.app.options.appId],_e,Se).catch(Ge=>Fe.error(Ge))}function fi(Q,_e,Se){Q=(0,se.m9)(Q),function fr(Q,_e,Se,Ge){return Yn.apply(this,arguments)}(Mn,st[Q.app.options.appId],_e,Se).catch(Ge=>Fe.error(Ge))}function Hr(Q,_e,Se){Q=(0,se.m9)(Q),function ir(Q,_e,Se,Ge){return Cr.apply(this,arguments)}(Mn,st[Q.app.options.appId],_e,Se).catch(Ge=>Fe.error(Ge))}function j(Q,_e){Q=(0,se.m9)(Q),function Si(Q,_e){return zn.apply(this,arguments)}(st[Q.app.options.appId],_e).catch(Se=>Fe.error(Se))}function G(Q,_e,Se,Ge){Q=(0,se.m9)(Q),function Et(Q,_e,Se,Ge,Ne){return an.apply(this,arguments)}(Mn,st[Q.app.options.appId],_e,Se,Ge).catch(Ne=>Fe.error(Ne))}const ne="@firebase/analytics";!function Dt(){(0,J._registerComponent)(new he.wA(ye,(_e,{options:Se})=>Xt(_e.getProvider("app").getImmediate(),_e.getProvider("installations-internal").getImmediate(),Se),"PUBLIC")),(0,J._registerComponent)(new he.wA("analytics-internal",function Q(_e){try{const Se=_e.getProvider(ye).getImmediate();return{logEvent:(Ge,Ne,yt)=>G(Se,Ge,Ne,yt)}}catch(Se){throw qe.create("interop-component-reg-failed",{reason:Se})}},"PRIVATE")),(0,J.registerVersion)(ne,"0.10.0"),(0,J.registerVersion)(ne,"0.10.0","esm2017")}()},3942:(Mt,Me,P)=>{P.d(Me,{Z:()=>qe});var d=P(2090),J=P(4859),L=P(6881),se=P(1877);class he{constructor(me,Ue){this._delegate=me,this.firebase=Ue,(0,L._addComponent)(me,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(me,Ue=L._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(me);return!Ke.isInitialized()&&"EXPLICIT"===(null===(je=Ke.getComponent())||void 0===je?void 0:je.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:Ue})}_removeServiceInstance(me,Ue=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ue)}_addComponent(me){(0,L._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,L._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ge(){const vt=function Ce(vt){const me={},Ue={__esModule:!0,initializeApp:function Pe(ze,ct={}){const ae=L.initializeApp(ze,ct);if((0,d.r3)(me,ae.name))return me[ae.name];const Pt=new vt(ae,Ue);return me[ae.name]=Pt,Pt},app:Ke,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ie(ze){const ct=ze.name,ae=ct.replace("-compat","");if(L._registerComponent(ze)&&"PUBLIC"===ze.type){const Pt=(ot=Ke())=>{if("function"!=typeof ot[ae])throw ye.create("invalid-app-argument",{appName:ct});return ot[ae]()};void 0!==ze.serviceProps&&(0,d.ZB)(Pt,ze.serviceProps),Ue[ae]=Pt,vt.prototype[ae]=function(...ot){return this._getService.bind(this,ct).apply(this,ze.multipleInstances?ot:[])}}return"PUBLIC"===ze.type?Ue[ae]:null},removeApp:function je(ze){delete me[ze]},useAsService:function tt(ze,ct){return"serverAuth"===ct?null:ct},modularAPIs:L}};function Ke(ze){if(!(0,d.r3)(me,ze=ze||L._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ze});return me[ze]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function Ee(){return Object.keys(me).map(ze=>me[ze])}}),Ke.App=vt,Ue}(he);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function me(Ue){(0,d.ZB)(vt,Ue)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),vt}(),H=new se.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=z;!function we(vt){(0,L.registerVersion)("@firebase/app-compat","0.2.10",vt)}()},6881:(Mt,Me,P)=>{P.r(Me),P.d(Me,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>jr,_DEFAULT_ENTRY_NAME:()=>Gn,_addComponent:()=>st,_addOrOverwriteComponent:()=>Nt,_apps:()=>en,_clearComponents:()=>cr,_components:()=>bn,_getProvider:()=>Ln,_registerComponent:()=>Or,_removeServiceInstance:()=>Hn,deleteApp:()=>$r,getApp:()=>Ai,getApps:()=>_n,initializeApp:()=>Xt,onLog:()=>hi,registerVersion:()=>Vn,setLogLevel:()=>Tn});var d=P(5861),J=P(4859),L=P(1877),se=P(2090);const he=(re,X)=>X.some(Oe=>re instanceof Oe);let ce,ye;const z=new WeakMap,H=new WeakMap,W=new WeakMap,Fe=new WeakMap,we=new WeakMap;let me={get(re,X,Oe){if(re instanceof IDBTransaction){if("done"===X)return H.get(re);if("objectStoreNames"===X)return re.objectStoreNames||W.get(re);if("store"===X)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Pe(re[X])},set:(re,X,Oe)=>(re[X]=Oe,!0),has:(re,X)=>re instanceof IDBTransaction&&("done"===X||"store"===X)||X in re};function Ke(re){return"function"==typeof re?function je(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...X){return re.apply(Ee(this),X),Pe(z.get(this))}:function(...X){return Pe(re.apply(Ee(this),X))}:function(X,...Oe){const gt=re.call(Ee(this),X,...Oe);return W.set(gt,X.sort?X.sort():[X]),Pe(gt)}}(re):(re instanceof IDBTransaction&&function vt(re){if(H.has(re))return;const X=new Promise((Oe,gt)=>{const Tt=()=>{re.removeEventListener("complete",Kt),re.removeEventListener("error",St),re.removeEventListener("abort",St)},Kt=()=>{Oe(),Tt()},St=()=>{gt(re.error||new DOMException("AbortError","AbortError")),Tt()};re.addEventListener("complete",Kt),re.addEventListener("error",St),re.addEventListener("abort",St)});H.set(re,X)}(re),he(re,function Ce(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,me):re)}function Pe(re){if(re instanceof IDBRequest)return function qe(re){const X=new Promise((Oe,gt)=>{const Tt=()=>{re.removeEventListener("success",Kt),re.removeEventListener("error",St)},Kt=()=>{Oe(Pe(re.result)),Tt()},St=()=>{gt(re.error),Tt()};re.addEventListener("success",Kt),re.addEventListener("error",St)});return X.then(Oe=>{Oe instanceof IDBCursor&&z.set(Oe,re)}).catch(()=>{}),we.set(X,re),X}(re);if(Fe.has(re))return Fe.get(re);const X=Ke(re);return X!==re&&(Fe.set(re,X),we.set(X,re)),X}const Ee=re=>we.get(re),ze=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],ae=new Map;function Pt(re,X){if(!(re instanceof IDBDatabase)||X in re||"string"!=typeof X)return;if(ae.get(X))return ae.get(X);const Oe=X.replace(/FromIndex$/,""),gt=X!==Oe,Tt=ct.includes(Oe);if(!(Oe in(gt?IDBIndex:IDBObjectStore).prototype)||!Tt&&!ze.includes(Oe))return;const Kt=function(){var St=(0,d.Z)(function*(vn,...cn){const Xn=this.transaction(vn,Tt?"readwrite":"readonly");let qn=Xn.store;return gt&&(qn=qn.index(cn.shift())),(yield Promise.all([qn[Oe](...cn),Tt&&Xn.done]))[0]});return function(cn){return St.apply(this,arguments)}}();return ae.set(X,Kt),Kt}!function Ue(re){me=re(me)}(re=>({...re,get:(X,Oe,gt)=>Pt(X,Oe)||re.get(X,Oe,gt),has:(X,Oe)=>!!Pt(X,Oe)||re.has(X,Oe)}));class ot{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Jt(re){return"VERSION"===re.getComponent()?.type}(Oe)){const gt=Oe.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(Oe=>Oe).join(" ")}}const ut="@firebase/app",fe=new L.Yd("@firebase/app"),Gn="[DEFAULT]",ar={[ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,bn=new Map;function st(re,X){try{re.container.addComponent(X)}catch(Oe){fe.debug(`Component ${X.name} failed to register with FirebaseApp ${re.name}`,Oe)}}function Nt(re,X){re.container.addOrOverwriteComponent(X)}function Or(re){const X=re.name;if(bn.has(X))return fe.debug(`There were multiple attempts to register component ${X}.`),!1;bn.set(X,re);for(const Oe of en.values())st(Oe,re);return!0}function Ln(re,X){const Oe=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),re.container.getProvider(X)}function Hn(re,X,Oe=Gn){Ln(re,X).clearInstance(Oe)}function cr(){bn.clear()}const Dr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(X,Oe,gt){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const jr="9.22.0";function Xt(re,X={}){let Oe=re;"object"!=typeof X&&(X={name:X});const gt=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},X),Tt=gt.name;if("string"!=typeof Tt||!Tt)throw Dr.create("bad-app-name",{appName:String(Tt)});if(Oe||(Oe=(0,se.aH)()),!Oe)throw Dr.create("no-options");const Kt=en.get(Tt);if(Kt){if((0,se.vZ)(Oe,Kt.options)&&(0,se.vZ)(gt,Kt.config))return Kt;throw Dr.create("duplicate-app",{appName:Tt})}const St=new J.H0(Tt);for(const cn of bn.values())St.addComponent(cn);const vn=new qt(Oe,gt,St);return en.set(Tt,vn),vn}function Ai(re=Gn){const X=en.get(re);if(!X&&re===Gn&&(0,se.aH)())return Xt();if(!X)throw Dr.create("no-app",{appName:re});return X}function _n(){return Array.from(en.values())}function $r(re){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(re){const X=re.name;en.has(X)&&(en.delete(X),yield Promise.all(re.container.getProviders().map(Oe=>Oe.delete())),re.isDeleted=!0)})).apply(this,arguments)}function Vn(re,X,Oe){var gt;let Tt=null!==(gt=ar[re])&&void 0!==gt?gt:re;Oe&&(Tt+=`-${Oe}`);const Kt=Tt.match(/\s|\//),St=X.match(/\s|\//);if(Kt||St){const vn=[`Unable to register library "${Tt}" with version "${X}":`];return Kt&&vn.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Kt&&St&&vn.push("and"),St&&vn.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void fe.warn(vn.join(" "))}Or(new J.wA(`${Tt}-version`,()=>({library:Tt,version:X}),"VERSION"))}function hi(re,X){if(null!==re&&"function"!=typeof re)throw Dr.create("invalid-log-argument");(0,L.Am)(re,X)}function Tn(re){(0,L.Ub)(re)}const fi="firebase-heartbeat-database",Hr=1,j="firebase-heartbeat-store";let U=null;function G(){return U||(U=function Ie(re,X,{blocked:Oe,upgrade:gt,blocking:Tt,terminated:Kt}={}){const St=indexedDB.open(re,X),vn=Pe(St);return gt&&St.addEventListener("upgradeneeded",cn=>{gt(Pe(St.result),cn.oldVersion,cn.newVersion,Pe(St.transaction),cn)}),Oe&&St.addEventListener("blocked",cn=>Oe(cn.oldVersion,cn.newVersion,cn)),vn.then(cn=>{Kt&&cn.addEventListener("close",()=>Kt()),Tt&&cn.addEventListener("versionchange",Xn=>Tt(Xn.oldVersion,Xn.newVersion,Xn))}).catch(()=>{}),vn}(fi,Hr,{upgrade:(re,X)=>{0===X&&re.createObjectStore(j)}}).catch(re=>{throw Dr.create("idb-open",{originalErrorMessage:re.message})})),U}function ne(){return(ne=(0,d.Z)(function*(re){try{return yield(yield G()).transaction(j).objectStore(j).get(Q(re))}catch(X){if(X instanceof se.ZR)fe.warn(X.message);else{const Oe=Dr.create("idb-get",{originalErrorMessage:X?.message});fe.warn(Oe.message)}}})).apply(this,arguments)}function Ve(re,X){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(re,X){try{const gt=(yield G()).transaction(j,"readwrite");yield gt.objectStore(j).put(X,Q(re)),yield gt.done}catch(Oe){if(Oe instanceof se.ZR)fe.warn(Oe.message);else{const gt=Dr.create("idb-set",{originalErrorMessage:Oe?.message});fe.warn(gt.message)}}})).apply(this,arguments)}function Q(re){return`${re.name}!${re.options.appId}`}class Ge{constructor(X){this.container=X,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Ft(Oe),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var X=this;return(0,d.Z)(function*(){const gt=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=Ne();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!X._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Tt))return X._heartbeatsCache.heartbeats.push({date:Tt,agent:gt}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Kt=>{const St=new Date(Kt.date).valueOf();return Date.now()-St<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,d.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Oe=Ne(),{heartbeatsToSend:gt,unsentEntries:Tt}=function yt(re,X=1024){const Oe=[];let gt=re.slice();for(const Tt of re){const Kt=Oe.find(St=>St.agent===Tt.agent);if(Kt){if(Kt.dates.push(Tt.date),tn(Oe)>X){Kt.dates.pop();break}}else if(Oe.push({agent:Tt.agent,dates:[Tt.date]}),tn(Oe)>X){Oe.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:gt}}(X._heartbeatsCache.heartbeats),Kt=(0,se.L)(JSON.stringify({version:2,heartbeats:gt}));return X._heartbeatsCache.lastSentHeartbeatDate=Oe,Tt.length>0?(X._heartbeatsCache.heartbeats=Tt,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),Kt})()}}function Ne(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,d.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function ve(re){return ne.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Oe=this;return(0,d.Z)(function*(){var gt;if(yield Oe._canUseIndexedDBPromise){const Kt=yield Oe.read();return Ve(Oe.app,{lastSentHeartbeatDate:null!==(gt=X.lastSentHeartbeatDate)&&void 0!==gt?gt:Kt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Oe=this;return(0,d.Z)(function*(){var gt;if(yield Oe._canUseIndexedDBPromise){const Kt=yield Oe.read();return Ve(Oe.app,{lastSentHeartbeatDate:null!==(gt=X.lastSentHeartbeatDate)&&void 0!==gt?gt:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...X.heartbeats]})}})()}}function tn(re){return(0,se.L)(JSON.stringify({version:2,heartbeats:re})).length}!function nn(re){Or(new J.wA("platform-logger",X=>new ot(X),"PRIVATE")),Or(new J.wA("heartbeat",X=>new Ge(X),"PRIVATE")),Vn(ut,"0.9.10",re),Vn(ut,"0.9.10","esm2017"),Vn("fire-js","")}("")},4859:(Mt,Me,P)=>{P.d(Me,{H0:()=>Ce,wA:()=>L});var d=P(5861),J=P(2090);class L{constructor(z,H,W){this.name=z,this.instanceFactory=H,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const se="[DEFAULT]";class he{constructor(z,H){this.name=z,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const H=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(H)){const W=new J.BH;if(this.instancesDeferred.set(H,W),this.isInitialized(H)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:H});Fe&&W.resolve(Fe)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(z){var H;const W=this.normalizeInstanceIdentifier(z?.identifier),Fe=null!==(H=z?.optional)&&void 0!==H&&H;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(we){if(Fe)return null;throw we}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ye(ge){return"EAGER"===ge.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[H,W]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(H);try{const we=this.getOrInitializeService({instanceIdentifier:Fe});W.resolve(we)}catch{}}}}clearInstance(z=se){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,d.Z)(function*(){const H=Array.from(z.instances.values());yield Promise.all([...H.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...H.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=se){return this.instances.has(z)}getOptions(z=se){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:H={}}=z,W=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:W,options:H});for(const[we,qe]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(we)&&qe.resolve(Fe);return Fe}onInit(z,H){var W;const Fe=this.normalizeInstanceIdentifier(H),we=null!==(W=this.onInitCallbacks.get(Fe))&&void 0!==W?W:new Set;we.add(z),this.onInitCallbacks.set(Fe,we);const qe=this.instances.get(Fe);return qe&&z(qe,Fe),()=>{we.delete(z)}}invokeOnInitCallbacks(z,H){const W=this.onInitCallbacks.get(H);if(W)for(const Fe of W)try{Fe(z,H)}catch{}}getOrInitializeService({instanceIdentifier:z,options:H={}}){let W=this.instances.get(z);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=z,ge===se?void 0:ge),options:H}),this.instances.set(z,W),this.instancesOptions.set(z,H),this.invokeOnInitCallbacks(W,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,W)}catch{}var ge;return W||null}normalizeInstanceIdentifier(z=se){return this.component?this.component.multipleInstances?z:se:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const H=this.getProvider(z.name);if(H.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);H.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const H=new he(z,this);return this.providers.set(z,H),H}getProviders(){return Array.from(this.providers.values())}}},4727:(Mt,Me,P)=>{var d=P(5861),J=P(6881),L=P(4859),se=P(2090);const he=(V,Y)=>Y.some(pe=>V instanceof pe);let ce,ye;const z=new WeakMap,H=new WeakMap,W=new WeakMap,Fe=new WeakMap,we=new WeakMap;let me={get(V,Y,pe){if(V instanceof IDBTransaction){if("done"===Y)return H.get(V);if("objectStoreNames"===Y)return V.objectStoreNames||W.get(V);if("store"===Y)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Pe(V[Y])},set:(V,Y,pe)=>(V[Y]=pe,!0),has:(V,Y)=>V instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in V};function Ke(V){return"function"==typeof V?function je(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...Y){return V.apply(Ee(this),Y),Pe(z.get(this))}:function(...Y){return Pe(V.apply(Ee(this),Y))}:function(Y,...pe){const Qe=V.call(Ee(this),Y,...pe);return W.set(Qe,Y.sort?Y.sort():[Y]),Pe(Qe)}}(V):(V instanceof IDBTransaction&&function vt(V){if(H.has(V))return;const Y=new Promise((pe,Qe)=>{const ln=()=>{V.removeEventListener("complete",jt),V.removeEventListener("error",fn),V.removeEventListener("abort",fn)},jt=()=>{pe(),ln()},fn=()=>{Qe(V.error||new DOMException("AbortError","AbortError")),ln()};V.addEventListener("complete",jt),V.addEventListener("error",fn),V.addEventListener("abort",fn)});H.set(V,Y)}(V),he(V,function Ce(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,me):V)}function Pe(V){if(V instanceof IDBRequest)return function qe(V){const Y=new Promise((pe,Qe)=>{const ln=()=>{V.removeEventListener("success",jt),V.removeEventListener("error",fn)},jt=()=>{pe(Pe(V.result)),ln()},fn=()=>{Qe(V.error),ln()};V.addEventListener("success",jt),V.addEventListener("error",fn)});return Y.then(pe=>{pe instanceof IDBCursor&&z.set(pe,V)}).catch(()=>{}),we.set(Y,V),Y}(V);if(Fe.has(V))return Fe.get(V);const Y=Ke(V);return Y!==V&&(Fe.set(V,Y),we.set(Y,V)),Y}const Ee=V=>we.get(V),ze=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],ae=new Map;function Pt(V,Y){if(!(V instanceof IDBDatabase)||Y in V||"string"!=typeof Y)return;if(ae.get(Y))return ae.get(Y);const pe=Y.replace(/FromIndex$/,""),Qe=Y!==pe,ln=ct.includes(pe);if(!(pe in(Qe?IDBIndex:IDBObjectStore).prototype)||!ln&&!ze.includes(pe))return;const jt=function(){var fn=(0,d.Z)(function*(Rn,...tr){const rn=this.transaction(Rn,ln?"readwrite":"readonly");let pr=rn.store;return Qe&&(pr=pr.index(tr.shift())),(yield Promise.all([pr[pe](...tr),ln&&rn.done]))[0]});return function(tr){return fn.apply(this,arguments)}}();return ae.set(Y,jt),jt}!function Ue(V){me=V(me)}(V=>({...V,get:(Y,pe,Qe)=>Pt(Y,pe)||V.get(Y,pe,Qe),has:(Y,pe)=>!!Pt(Y,pe)||V.has(Y,pe)}));const ot="@firebase/installations",Jt="0.6.4",ut=1e4,es=`w:${Jt}`,fe="FIS_v2",be="https://firebaseinstallations.googleapis.com/v1",Ae=36e5,Ze=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(V){return V instanceof se.ZR&&V.code.includes("request-failed")}function Bt({projectId:V}){return`${be}/projects/${V}/installations`}function xt(V){return{token:V.token,requestStatus:2,expiresIn:ir(V.expiresIn),creationTime:Date.now()}}function Et(V,Y){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(V,Y){const Qe=(yield Y.json()).error;return Ze.create("request-failed",{requestName:V,serverCode:Qe.code,serverMessage:Qe.message,serverStatus:Qe.status})})).apply(this,arguments)}function hn({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function fr(V){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(V){const Y=yield V();return Y.status>=500&&Y.status<600?V():Y})).apply(this,arguments)}function ir(V){return Number(V.replace("s","000"))}function Br(){return(Br=(0,d.Z)(function*({appConfig:V,heartbeatServiceProvider:Y},{fid:pe}){const Qe=Bt(V),ln=hn(V),jt=Y.getImmediate({optional:!0});if(jt){const rn=yield jt.getHeartbeatsHeader();rn&&ln.append("x-firebase-client",rn)}const Rn={method:"POST",headers:ln,body:JSON.stringify({fid:pe,authVersion:fe,appId:V.appId,sdkVersion:es})},tr=yield fr(()=>fetch(Qe,Rn));if(tr.ok){const rn=yield tr.json();return{fid:rn.fid||pe,registrationStatus:2,refreshToken:rn.refreshToken,authToken:xt(rn.authToken)}}throw yield Et("Create Installation",tr)})).apply(this,arguments)}function Si(V){return new Promise(Y=>{setTimeout(Y,V)})}const Ct=/^[cdef][\w-]{21}$/,sr="";function ps(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const pe=function or(V){return function zn(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return Ct.test(pe)?pe:sr}catch{return sr}}function Gn(V){return`${V.appName}!${V.appId}`}const ar=new Map;function en(V,Y){const pe=Gn(V);Nt(pe,Y),function Or(V,Y){const pe=function Hn(){return!Ln&&"BroadcastChannel"in self&&(Ln=new BroadcastChannel("[Firebase] FID Change"),Ln.onmessage=V=>{Nt(V.data.key,V.data.fid)}),Ln}();pe&&pe.postMessage({key:V,fid:Y}),function cr(){0===ar.size&&Ln&&(Ln.close(),Ln=null)}()}(pe,Y)}function Nt(V,Y){const pe=ar.get(V);if(pe)for(const Qe of pe)Qe(Y)}let Ln=null;const Mn="firebase-installations-database",Dr=1,qt="firebase-installations-store";let jr=null;function Xt(){return jr||(jr=function Ie(V,Y,{blocked:pe,upgrade:Qe,blocking:ln,terminated:jt}={}){const fn=indexedDB.open(V,Y),Rn=Pe(fn);return Qe&&fn.addEventListener("upgradeneeded",tr=>{Qe(Pe(fn.result),tr.oldVersion,tr.newVersion,Pe(fn.transaction))}),pe&&fn.addEventListener("blocked",()=>pe()),Rn.then(tr=>{jt&&tr.addEventListener("close",()=>jt()),ln&&tr.addEventListener("versionchange",()=>ln())}).catch(()=>{}),Rn}(Mn,Dr,{upgrade:(V,Y)=>{0===Y&&V.createObjectStore(qt)}})),jr}function Ai(V,Y){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(V,Y){const pe=Gn(V),ln=(yield Xt()).transaction(qt,"readwrite"),jt=ln.objectStore(qt),fn=yield jt.get(pe);return yield jt.put(Y,pe),yield ln.done,(!fn||fn.fid!==Y.fid)&&en(V,Y.fid),Y})).apply(this,arguments)}function $r(V){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(V){const Y=Gn(V),Qe=(yield Xt()).transaction(qt,"readwrite");yield Qe.objectStore(qt).delete(Y),yield Qe.done})).apply(this,arguments)}function Vn(V,Y){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(V,Y){const pe=Gn(V),ln=(yield Xt()).transaction(qt,"readwrite"),jt=ln.objectStore(qt),fn=yield jt.get(pe),Rn=Y(fn);return void 0===Rn?yield jt.delete(pe):yield jt.put(Rn,pe),yield ln.done,Rn&&(!fn||fn.fid!==Rn.fid)&&en(V,Rn.fid),Rn})).apply(this,arguments)}function Tn(V){return fi.apply(this,arguments)}function fi(){return fi=(0,d.Z)(function*(V){let Y;const pe=yield Vn(V.appConfig,Qe=>{const ln=function Hr(V){return Dt(V||{fid:ps(),registrationStatus:0})}(Qe),jt=function j(V,Y){if(0===Y.registrationStatus){if(!navigator.onLine)return{installationEntry:Y,registrationPromise:Promise.reject(Ze.create("app-offline"))};const pe={fid:Y.fid,registrationStatus:1,registrationTime:Date.now()},Qe=function U(V,Y){return G.apply(this,arguments)}(V,pe);return{installationEntry:pe,registrationPromise:Qe}}return 1===Y.registrationStatus?{installationEntry:Y,registrationPromise:ve(V)}:{installationEntry:Y}}(V,ln);return Y=jt.registrationPromise,jt.installationEntry});return pe.fid===sr?{installationEntry:yield Y}:{installationEntry:pe,registrationPromise:Y}}),fi.apply(this,arguments)}function G(){return G=(0,d.Z)(function*(V,Y){try{const pe=yield function yi(V,Y){return Br.apply(this,arguments)}(V,Y);return Ai(V.appConfig,pe)}catch(pe){throw mt(pe)&&409===pe.customData.serverCode?yield $r(V.appConfig):yield Ai(V.appConfig,{fid:Y.fid,registrationStatus:0}),pe}}),G.apply(this,arguments)}function ve(V){return ne.apply(this,arguments)}function ne(){return(ne=(0,d.Z)(function*(V){let Y=yield Ve(V.appConfig);for(;1===Y.registrationStatus;)yield Si(100),Y=yield Ve(V.appConfig);if(0===Y.registrationStatus){const{installationEntry:pe,registrationPromise:Qe}=yield Tn(V);return Qe||pe}return Y})).apply(this,arguments)}function Ve(V){return Vn(V,Y=>{if(!Y)throw Ze.create("installation-not-found");return Dt(Y)})}function Dt(V){return function Q(V){return 1===V.registrationStatus&&V.registrationTime+ut<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function Se(){return(Se=(0,d.Z)(function*({appConfig:V,heartbeatServiceProvider:Y},pe){const Qe=function Ge(V,{fid:Y}){return`${Bt(V)}/${Y}/authTokens:generate`}(V,pe),ln=function Dn(V,{refreshToken:Y}){const pe=hn(V);return pe.append("Authorization",function Cr(V){return`${fe} ${V}`}(Y)),pe}(V,pe),jt=Y.getImmediate({optional:!0});if(jt){const rn=yield jt.getHeartbeatsHeader();rn&&ln.append("x-firebase-client",rn)}const Rn={method:"POST",headers:ln,body:JSON.stringify({installation:{sdkVersion:es,appId:V.appId}})},tr=yield fr(()=>fetch(Qe,Rn));if(tr.ok)return xt(yield tr.json());throw yield Et("Generate Auth Token",tr)})).apply(this,arguments)}function Ne(V){return yt.apply(this,arguments)}function yt(){return yt=(0,d.Z)(function*(V,Y=!1){let pe;const Qe=yield Vn(V.appConfig,jt=>{if(!Oe(jt))throw Ze.create("not-registered");const fn=jt.authToken;if(!Y&&function gt(V){return 2===V.requestStatus&&!function Tt(V){const Y=Date.now();return Y<V.creationTime||V.creationTime+V.expiresIn<Y+Ae}(V)}(fn))return jt;if(1===fn.requestStatus)return pe=function Ft(V,Y){return tn.apply(this,arguments)}(V,Y),jt;{if(!navigator.onLine)throw Ze.create("app-offline");const Rn=function Kt(V){const Y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:Y})}(jt);return pe=function re(V,Y){return X.apply(this,arguments)}(V,Rn),Rn}});return pe?yield pe:Qe.authToken}),yt.apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(V,Y){let pe=yield nn(V.appConfig);for(;1===pe.authToken.requestStatus;)yield Si(100),pe=yield nn(V.appConfig);const Qe=pe.authToken;return 0===Qe.requestStatus?Ne(V,Y):Qe})).apply(this,arguments)}function nn(V){return Vn(V,Y=>{if(!Oe(Y))throw Ze.create("not-registered");return function St(V){return 1===V.requestStatus&&V.requestTime+ut<Date.now()}(Y.authToken)?Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}}):Y})}function X(){return X=(0,d.Z)(function*(V,Y){try{const pe=yield function _e(V,Y){return Se.apply(this,arguments)}(V,Y),Qe=Object.assign(Object.assign({},Y),{authToken:pe});return yield Ai(V.appConfig,Qe),pe}catch(pe){if(!mt(pe)||401!==pe.customData.serverCode&&404!==pe.customData.serverCode){const Qe=Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}});yield Ai(V.appConfig,Qe)}else yield $r(V.appConfig);throw pe}}),X.apply(this,arguments)}function Oe(V){return void 0!==V&&2===V.registrationStatus}function cn(){return(cn=(0,d.Z)(function*(V){const Y=V,{installationEntry:pe,registrationPromise:Qe}=yield Tn(Y);return Qe?Qe.catch(console.error):Ne(Y).catch(console.error),pe.fid})).apply(this,arguments)}function qn(){return qn=(0,d.Z)(function*(V,Y=!1){const pe=V;return yield function lr(V){return jo.apply(this,arguments)}(pe),(yield Ne(pe,Y)).token}),qn.apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(V){const{registrationPromise:Y}=yield Tn(V);Y&&(yield Y)})).apply(this,arguments)}function pi(V){return Ze.create("missing-app-config-values",{valueName:V})}const jn="installations",gs=V=>{const Y=V.getProvider("app").getImmediate(),pe=function er(V){if(!V||!V.options)throw pi("App Configuration");if(!V.name)throw pi("App Name");const Y=["projectId","apiKey","appId"];for(const pe of Y)if(!V.options[pe])throw pi(pe);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(Y);return{app:Y,appConfig:pe,heartbeatServiceProvider:(0,J._getProvider)(Y,"heartbeat"),_delete:()=>Promise.resolve()}},Zt=V=>{const Y=V.getProvider("app").getImmediate(),pe=(0,J._getProvider)(Y,jn).getImmediate();return{getId:()=>function vn(V){return cn.apply(this,arguments)}(pe),getToken:ln=>function Xn(V){return qn.apply(this,arguments)}(pe,ln)}};(function ms(){(0,J._registerComponent)(new L.wA(jn,gs,"PUBLIC")),(0,J._registerComponent)(new L.wA("installations-internal",Zt,"PRIVATE"))})(),(0,J.registerVersion)(ot,Jt),(0,J.registerVersion)(ot,Jt,"esm2017")},1877:(Mt,Me,P)=>{P.d(Me,{Am:()=>ge,Ub:()=>Ce,Yd:()=>ye,in:()=>J});const d=[];var J=(()=>{return(z=J||(J={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",J;var z})();const L={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},se=J.INFO,he={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ce=(z,H,...W)=>{if(H<z.logLevel)return;const Fe=(new Date).toISOString(),we=he[H];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[we](`[${Fe}]  ${z.name}:`,...W)};class ye{constructor(H){this.name=H,this._logLevel=se,this._logHandler=ce,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in J))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?L[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...H),this._logHandler(this,J.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...H),this._logHandler(this,J.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,J.INFO,...H),this._logHandler(this,J.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,J.WARN,...H),this._logHandler(this,J.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...H),this._logHandler(this,J.ERROR,...H)}}function Ce(z){d.forEach(H=>{H.setLogLevel(z)})}function ge(z,H){for(const W of d){let Fe=null;H&&H.level&&(Fe=L[H.level]),W.userLogHandler=null===z?null:(we,qe,...vt)=>{const me=vt.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");qe>=(Fe??we.logLevel)&&z({level:J[qe].toLowerCase(),message:me,args:vt,type:we.name})}}}},5132:(Mt,Me,P)=>{P.d(Me,{Gb:()=>d.Gb});var d=P(579)},259:(Mt,Me,P)=>{P.d(Me,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=P(6881);(0,d.registerVersion)("firebase","9.22.0","app")},9260:(Mt,Me,P)=>{P.d(Me,{Z:()=>d.Z});var d=P(3942);d.Z.registerVersion("firebase","9.22.0","app-compat")},2644:(Mt,Me,P)=>{P.r(Me);var d=P(5861),J=P(3942),L=P(2090),se=P(6881),he=P(655),ce=P(1877),ye=P(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W_EMAIL_SIGNIN="EMAIL_SIGNIN",W_PASSWORD_RESET="PASSWORD_RESET",W_RECOVER_EMAIL="RECOVER_EMAIL",W_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",W_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",W_VERIFY_EMAIL="VERIFY_EMAIL";const qe=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},vt=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new ce.Yd("@firebase/auth");function Pe(y,...f){je.logLevel<=ce.in.ERROR&&je.error(`Auth (${se.SDK_VERSION}): ${y}`,...f)}function Ee(y,...f){throw ct(y,...f)}function Ie(y,...f){return ct(y,...f)}function tt(y,f,g){const w=Object.assign(Object.assign({},vt()),{[f]:g});return new L.LL("auth","Firebase",w).create(f,{appName:y.name})}function ze(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ee(y,"argument-error"),tt(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(y,...f){if("string"!=typeof y){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return me.create(y,...f)}function ae(y,f,...g){if(!y)throw ct(f,...g)}function Pt(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Pe(f),new Error(f)}function ot(y,f){y||Pt(f)}function Jt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ut(){return"http:"===es()||"https:"===es()}function es(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ae{constructor(f,g){this.shortDelay=f,this.longDelay=g,ot(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Re(y,f){ot(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Xe{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new Ae(3e4,6e4);function mt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Bt(y,f,g,w){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(y,f,g,w,D={}){return Et(y,D,(0,d.Z)(function*(){let x={},$={};w&&("GET"===f?$=w:x={body:JSON.stringify(w)});const ee=(0,L.xO)(Object.assign({key:y.config.apiKey},$)).slice(1),Be=yield y._getAdditionalHeaders();return Be["Content-Type"]="application/json",y.languageCode&&(Be["X-Firebase-Locale"]=y.languageCode),Xe.fetch()(fr(y,y.config.apiHost,g,ee),Object.assign({method:f,headers:Be,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Et(y,f,g){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(y,f,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},He),f);try{const D=new Yn(y),x=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const $=yield x.json();if("needConfirmation"in $)throw ir(y,"account-exists-with-different-credential",$);if(x.ok&&!("errorMessage"in $))return $;{const ee=x.ok?$.errorMessage:$.error.message,[Be,et]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw ir(y,"credential-already-in-use",$);if("EMAIL_EXISTS"===Be)throw ir(y,"email-already-in-use",$);if("USER_DISABLED"===Be)throw ir(y,"user-disabled",$);const dt=w[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw tt(y,dt,et);Ee(y,dt)}}catch(D){if(D instanceof L.ZR)throw D;Ee(y,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function hn(y,f,g,w){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,d.Z)(function*(y,f,g,w,D={}){const x=yield Bt(y,f,g,w,D);return"mfaPendingCredential"in x&&Ee(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function fr(y,f,g,w){const D=`${f}${g}?${w}`;return y.config.emulator?Re(y.config,D):`${y.config.apiScheme}://${D}`}class Yn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ie(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ir(y,f,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const D=Ie(y,f,w);return D.customData._tokenResponse=g,D}function yi(){return(yi=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function sr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Gn(){return(Gn=(0,d.Z)(function*(y,f=!1){const g=(0,L.m9)(y),w=yield g.getIdToken(f),D=en(w);ae(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,$=x?.sign_in_provider;return{claims:D,token:w,authTime:sr(ar(D.auth_time)),issuedAtTime:sr(ar(D.iat)),expirationTime:sr(ar(D.exp)),signInProvider:$||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function ar(y){return 1e3*Number(y)}function en(y){const[f,g,w]=y.split(".");if(void 0===f||void 0===g||void 0===w)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,L.tV)(g);return D?JSON.parse(D):(Pe("Failed to decode base64 JWT payload"),null)}catch(D){return Pe("Caught error parsing JWT payload as JSON",D?.toString()),null}}function st(y,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof L.ZR&&function Or({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Ln{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Hn{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(y){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,d.Z)(function*(y){var f;const g=y.auth,w=yield y.getIdToken(),D=yield st(y,function zn(y,f){return Ct.apply(this,arguments)}(g,{idToken:w}));ae(D?.users.length,g,"internal-error");const x=D.users[0];y._notifyReloadListener(x);const $=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?function Xt(y){return y.map(f=>{var{providerId:g}=f,w=(0,he._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(x.providerUserInfo):[],ee=function jr(y,f){return[...y.filter(w=>!f.some(D=>D.providerId===w.providerId)),...f]}(y.providerData,$),dt=!!y.isAnonymous&&!(y.email&&x.passwordHash||ee?.length),ft={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:ee,metadata:new Hn(x.createdAt,x.lastLoginAt),isAnonymous:dt};Object.assign(y,ft)}),Mn.apply(this,arguments)}function qt(){return(qt=(0,d.Z)(function*(y){const f=(0,L.m9)(y);yield cr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(y,f){const g=yield Et(y,{},(0,d.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:x}=y.config,$=fr(y,D,"/v1/token",`key=${x}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Xe.fetch()($,{method:"POST",headers:ee,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class $r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ae(f.idToken,"internal-error"),ae(typeof f.idToken<"u","internal-error"),ae(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function bn(y){const f=en(y);return ae(f,"internal-error"),ae(typeof f.exp<"u","internal-error"),ae(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,d.Z)(function*(){return ae(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,d.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:$}=yield function Ai(y,f){return _n.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(D,x,Number($))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:D,expirationTime:x}=g,$=new $r;return w&&(ae("string"==typeof w,"internal-error",{appName:f}),$.refreshToken=w),D&&(ae("string"==typeof D,"internal-error",{appName:f}),$.accessToken=D),x&&(ae("number"==typeof x,"internal-error",{appName:f}),$.expirationTime=x),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new $r,this.toJSON())}_performRefresh(){return Pt("not implemented")}}function xn(y,f){ae("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Vn{constructor(f){var{uid:g,auth:w,stsTokenManager:D}=f,x=(0,he._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Hn(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,d.Z)(function*(){const w=yield st(g,g.stsTokenManager.getToken(g.auth,f));return ae(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function or(y){return Gn.apply(this,arguments)}(this,f)}reload(){return function Dr(y){return qt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ae(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Vn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,d.Z)(function*(){let D=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),D=!0),g&&(yield cr(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,d.Z)(function*(){const g=yield f.getIdToken();return yield st(f,function Cr(y,f){return yi.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,D,x,$,ee,Be,et,dt;const ft=null!==(w=g.displayName)&&void 0!==w?w:void 0,Wn=null!==(D=g.email)&&void 0!==D?D:void 0,$s=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,fl=null!==($=g.photoURL)&&void 0!==$?$:void 0,ay=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,Jn=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,$p=null!==(et=g.createdAt)&&void 0!==et?et:void 0,Hp=null!==(dt=g.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:Ou,emailVerified:pl,isAnonymous:zi,providerData:ku,stsTokenManager:ic}=g;ae(Ou&&ic,f,"internal-error");const cy=$r.fromJSON(this.name,ic);ae("string"==typeof Ou,f,"internal-error"),xn(ft,f.name),xn(Wn,f.name),ae("boolean"==typeof pl,f,"internal-error"),ae("boolean"==typeof zi,f,"internal-error"),xn($s,f.name),xn(fl,f.name),xn(ay,f.name),xn(Jn,f.name),xn($p,f.name),xn(Hp,f.name);const Pu=new Vn({uid:Ou,auth:f,email:Wn,emailVerified:pl,displayName:ft,isAnonymous:zi,photoURL:fl,phoneNumber:$s,tenantId:ay,stsTokenManager:cy,createdAt:$p,lastLoginAt:Hp});return ku&&Array.isArray(ku)&&(Pu.providerData=ku.map(ly=>Object.assign({},ly))),Jn&&(Pu._redirectEventId=Jn),Pu}static _fromIdTokenResponse(f,g,w=!1){return(0,d.Z)(function*(){const D=new $r;D.updateFromServerResponse(g);const x=new Vn({uid:g.localId,auth:f,stsTokenManager:D,isAnonymous:w});return yield cr(x),x})()}}const hi=new Map;function Tn(y){ot(y instanceof Function,"Expected a class definition");let f=hi.get(y);return f?(ot(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,hi.set(y,f),f)}const Hr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,w){var D=this;return(0,d.Z)(function*(){D.storage[g]=w})()}_get(g){var w=this;return(0,d.Z)(function*(){const D=w.storage[g];return void 0===D?null:D})()}_remove(g){var w=this;return(0,d.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function j(y,f,g){return`firebase:${y}:${f}:${g}`}class U{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:D,name:x}=this.auth;this.fullUserKey=j(this.userKey,D.apiKey,x),this.fullPersistenceKey=j("persistence",D.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Vn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,d.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,d.Z)(function*(){if(!g.length)return new U(Tn(Hr),f,w);const D=(yield Promise.all(g.map(function(){var et=(0,d.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return et.apply(this,arguments)}}()))).filter(et=>et);let x=D[0]||Tn(Hr);const $=j(w,f.config.apiKey,f.name);let ee=null;for(const et of g)try{const dt=yield et._get($);if(dt){const ft=Vn._fromJSON(f,dt);et!==x&&(ee=ft),x=et;break}}catch{}const Be=D.filter(et=>et._shouldAllowMigration);return x._shouldAllowMigration&&Be.length?(x=Be[0],ee&&(yield x._set($,ee.toJSON())),yield Promise.all(g.map(function(){var et=(0,d.Z)(function*(dt){if(dt!==x)try{yield dt._remove($)}catch{}});return function(dt){return et.apply(this,arguments)}}())),new U(x,f,w)):new U(x,f,w)})()}}function G(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Dt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ve(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(_e(f))return"Blackberry";if(Se(f))return"Webos";if(ne(f))return"Safari";if((f.includes("chrome/")||Ve(f))&&!f.includes("edge/"))return"Chrome";if(Q(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ve(y=(0,L.z$)()){return/firefox\//i.test(y)}function ne(y=(0,L.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ve(y=(0,L.z$)()){return/crios\//i.test(y)}function Dt(y=(0,L.z$)()){return/iemobile/i.test(y)}function Q(y=(0,L.z$)()){return/android/i.test(y)}function _e(y=(0,L.z$)()){return/blackberry/i.test(y)}function Se(y=(0,L.z$)()){return/webos/i.test(y)}function Ge(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function tn(y=(0,L.z$)()){return Ge(y)||Q(y)||Se(y)||_e(y)||/windows phone/i.test(y)||Dt(y)}function re(y,f=[]){let g;switch(y){case"Browser":g=G((0,L.z$)());break;case"Worker":g=`${G((0,L.z$)())}-${y}`;break;default:g=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${se.SDK_VERSION}/${w}`}function Oe(){return(Oe=(0,d.Z)(function*(y){return(yield Bt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gt(y,f){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(y,f){return Bt(y,"GET","/v2/recaptchaConfig",mt(y,f))})).apply(this,arguments)}function Kt(y){return void 0!==y&&void 0!==y.getResponse}function St(y){return void 0!==y&&void 0!==y.enterprise}class vn{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Xn(y){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=D=>{const x=Ie("internal-error");x.customData=D,g(x)},w.type="text/javascript",w.charset="UTF-8",function cn(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function qn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ks="NO_RECAPTCHA";class zr{constructor(f){this.type="recaptcha-enterprise",this.auth=wn(f)}verify(f="verify",g=!1){var w=this;return(0,d.Z)(function*(){function x(){return x=(0,d.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Be=(0,d.Z)(function*(et,dt){gt(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ft=>{if(void 0!==ft.recaptchaKey){const Wn=new vn(ft);return null==ee.tenantId?ee._agentRecaptchaConfig=Wn:ee._tenantRecaptchaConfigs[ee.tenantId]=Wn,et(Wn.siteKey)}dt(new Error("recaptcha Enterprise site key undefined"))}).catch(ft=>{dt(ft)})});return function(et,dt){return Be.apply(this,arguments)}}())}),x.apply(this,arguments)}function $(ee,Be,et){const dt=window.grecaptcha;St(dt)?dt.enterprise.ready(()=>{dt.enterprise.execute(ee,{action:f}).then(ft=>{Be(ft)}).catch(()=>{Be(ks)})}):et(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Be)=>{(function D(ee){return x.apply(this,arguments)})(w.auth).then(et=>{if(!g&&St(window.grecaptcha))$(et,ee,Be);else{if(typeof window>"u")return void Be(new Error("RecaptchaVerifier is only supported in browser"));Xn("https://www.google.com/recaptcha/enterprise.js?render="+et).then(()=>{$(et,ee,Be)}).catch(dt=>{Be(dt)})}}).catch(et=>{Be(et)})})})()}}function nt(y,f,g){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(y,f,g,w=!1){const D=new zr(y);let x;try{x=yield D.verify(g)}catch{x=yield D.verify(g,!0)}const $=Object.assign({},f);return Object.assign($,w?{captchaResp:x}:{captchaResponse:x}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class On{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=x=>new Promise(($,ee)=>{try{$(f(x))}catch(Be){ee(Be)}});w.onAbort=g,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===f)return;const w=[];try{for(const D of g.queue)yield D(f),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const x of w)try{x()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Xr{constructor(f,g,w,D){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new er(this),this.idTokenSubscription=new er(this),this.beforeStateQueue=new On(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=Tn(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var D,x;if(!w._deleted&&(w.persistenceManager=yield U.create(w,f),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,d.Z)(function*(){var w;const D=yield g.assertedPersistence.getCurrentUser();let x=D,$=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Be=x?._redirectEventId,et=yield g.tryRedirectSignIn(f);(!ee||ee===Be)&&et?.user&&(x=et.user,$=!0)}if(!x)return g.directlySetCurrentUser(null);if(!x._redirectEventId){if($)try{yield g.beforeStateQueue.runMiddleware(x)}catch(ee){x=D,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return x?g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)}return ae(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var g=this;return(0,d.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,d.Z)(function*(){try{yield cr(f)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,d.Z)(function*(){const w=f?(0,L.m9)(f):null;return w&&ae(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return f&&ae(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(Tn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const g=yield gt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new vn(g);null==f.tenantId?f._agentRecaptchaConfig=w:f._tenantRecaptchaConfigs[f.tenantId]=w,w.emailPasswordEnabled&&new zr(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,d.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(g);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&Tn(f)||g._popupRedirectResolver;ae(w,g,"argument-error"),g.redirectPersistenceManager=yield U.create(g,[Tn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,d.Z)(function*(){var w,D;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,d.Z)(function*(){if(f===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,D){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return ae($,this,"internal-error"),$.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,w,D):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const D=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();D&&(w["X-Firebase-Client"]=D);const x=yield f._getAppCheckToken();return x&&(w["X-Firebase-AppCheck"]=x),w})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var g;const w=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function Ke(y,...f){je.logLevel<=ce.in.WARN&&je.warn(`Auth (${se.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function wn(y){return(0,L.m9)(y)}class er{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gs(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ms(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Y{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Pt("not implemented")}_getIdTokenResponse(f){return Pt("not implemented")}_linkToIdToken(f,g){return Pt("not implemented")}_getReauthenticationResolver(f){return Pt("not implemented")}}function pe(y,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:resetPassword",mt(y,f))})).apply(this,arguments)}function ln(y,f){return jt.apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",mt(y,f))})).apply(this,arguments)}function tr(y,f){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.Z)(function*(y,f){return hn(y,"POST","/v1/accounts:signInWithPassword",mt(y,f))})).apply(this,arguments)}function pr(y,f){return $o.apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:sendOobCode",mt(y,f))})).apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(y,f){return pr(y,f)})).apply(this,arguments)}function Ps(y,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(y,f){return pr(y,f)})).apply(this,arguments)}function Tr(y,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,d.Z)(function*(y,f){return pr(y,f)})).apply(this,arguments)}function ei(){return(ei=(0,d.Z)(function*(y,f){return pr(y,f)})).apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(y,f){return hn(y,"POST","/v1/accounts:signInWithEmailLink",mt(y,f))})).apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(y,f){return hn(y,"POST","/v1/accounts:signInWithEmailLink",mt(y,f))})).apply(this,arguments)}class zo extends Y{constructor(f,g,w,D=null){super("password",w),this._email=f,this._password=g,this._tenantId=D}static _fromEmailAndPassword(f,g){return new zo(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new zo(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,d.Z)(function*(){var w;switch(g.signInMethod){case"password":const D={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=f._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const x=yield nt(f,D,"signInWithPassword");return tr(f,x)}return tr(f,D).catch(function(){var x=(0,d.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield nt(f,D,"signInWithPassword");return tr(f,ee)}return Promise.reject($)});return function($){return x.apply(this,arguments)}}());case"emailLink":return function Tc(y,f){return ys.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ee(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return ln(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ho(y,f){return ti.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Ee(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ts(y,f){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(y,f){return hn(y,"POST","/v1/accounts:signInWithIdp",mt(y,f))})).apply(this,arguments)}class Bi extends Y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Bi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ee("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:D}=g,x=(0,he._T)(g,["providerId","signInMethod"]);if(!w||!D)return null;const $=new Bi(w,D);return $.idToken=x.idToken||void 0,$.accessToken=x.accessToken||void 0,$.secret=x.secret,$.nonce=x.nonce,$.pendingToken=x.pendingToken||null,$}_getIdTokenResponse(f){return ts(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,ts(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,ts(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,L.xO)(g)}return f}}function Oa(){return(Oa=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:sendVerificationCode",mt(y,f))})).apply(this,arguments)}function ql(){return(ql=(0,d.Z)(function*(y,f){return hn(y,"POST","/v1/accounts:signInWithPhoneNumber",mt(y,f))})).apply(this,arguments)}function Go(){return(Go=(0,d.Z)(function*(y,f){const g=yield hn(y,"POST","/v1/accounts:signInWithPhoneNumber",mt(y,f));if(g.temporaryProof)throw ir(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ka={USER_NOT_FOUND:"user-not-found"};function Ac(){return(Ac=(0,d.Z)(function*(y,f){return hn(y,"POST","/v1/accounts:signInWithPhoneNumber",mt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ka)})).apply(this,arguments)}class Ys extends Y{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Ys({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Ys({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function rp(y,f){return ql.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function ip(y,f){return Go.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function xm(y,f){return Ac.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:D}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:D,temporaryProof:x}=f;return w||g||D||x?new Ys({verificationId:g,verificationCode:w,phoneNumber:D,temporaryProof:x}):null}}class Ns{constructor(f){var g,w,D,x,$,ee;const Be=(0,L.zd)((0,L.pd)(f)),et=null!==(g=Be.apiKey)&&void 0!==g?g:null,dt=null!==(w=Be.oobCode)&&void 0!==w?w:null,ft=function sp(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Be.mode)&&void 0!==D?D:null);ae(et&&dt&&ft,"argument-error"),this.apiKey=et,this.operation=ft,this.code=dt,this.continueUrl=null!==(x=Be.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==($=Be.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ee=Be.tenantId)&&void 0!==ee?ee:null}static parseLink(f){const g=function jd(y){const f=(0,L.zd)((0,L.pd)(y)).link,g=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||f||y}(f);try{return new Ns(g)}catch{return null}}}let Wl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return zo._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const D=Ns.parseLink(w);return ae(D,"argument-error"),zo._fromEmailAndCode(g,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ns{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ji extends ns{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class qo extends ji{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ae("providerId"in g&&"signInMethod"in g,"argument-error"),Bi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ae(f.idToken||f.accessToken,"argument-error"),Bi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return qo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return qo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:x,nonce:$,providerId:ee}=f;if(!w&&!D&&!g&&!x||!ee)return null;try{return new qo(ee)._credential({idToken:g,accessToken:w,nonce:$,pendingToken:x})}catch{return null}}}let Mc=(()=>{class y extends ji{constructor(){super("facebook.com")}static credential(g){return Bi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),xc=(()=>{class y extends ji{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Bi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:D}=g;if(!w&&!D)return null;try{return y.credential(w,D)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Kl=(()=>{class y extends ji{constructor(){super("github.com")}static credential(g){return Bi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Qs extends Y{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return ts(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,ts(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,ts(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:D,pendingToken:x}=g;return w&&D&&x&&w===D?new Qs(w,x):null}static _create(f,g){return new Qs(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pa extends ns{constructor(f){ae(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Pa.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Pa.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Qs.fromJSON(f);return ae(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Qs._create(w,g)}catch{return null}}}let Oc=(()=>{class y extends ji{constructor(){super("twitter.com")}static credential(g,w){return Bi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=g;if(!w||!D)return null;try{return y.credential(w,D)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function _o(y,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(y,f){return hn(y,"POST","/v1/accounts:signUp",mt(y,f))})).apply(this,arguments)}class ri{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,D=!1){return(0,d.Z)(function*(){const x=yield Vn._fromIdTokenResponse(f,w,D),$=Wo(w);return new ri({user:x,providerId:$,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const D=Wo(w);return new ri({user:f,providerId:D,_tokenResponse:w,operationType:g})})()}}function Wo(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Fs(){return(Fs=(0,d.Z)(function*(y){var f;const g=wn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ri({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield _o(g,{returnSecureToken:!0}),D=yield ri._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class _s extends L.ZR{constructor(f,g,w,D){var x;super(g.code,g.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,_s.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,D){return new _s(f,g,w,D)}}function mr(y,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?_s._fromErrorAndOperation(y,x,f,w):x})}function zd(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Js(){return Js=(0,d.Z)(function*(y,f){const g=(0,L.m9)(y);yield Mi(!0,g,f);const{providerUserInfo:w}=yield function Br(y,f){return Si.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),D=zd(w||[]);return g.providerData=g.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Js.apply(this,arguments)}function Gr(y,f){return kc.apply(this,arguments)}function kc(){return(kc=(0,d.Z)(function*(y,f,g=!1){const w=yield st(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return ri._forOperation(y,"link",w)})).apply(this,arguments)}function Mi(y,f,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(y,f,g){yield cr(f);const D=!1===y?"provider-already-linked":"no-such-provider";ae(zd(f.providerData).has(g)===y,f.auth,D)})).apply(this,arguments)}function Ls(y,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(y,f,g=!1){const{auth:w}=y,D="reauthenticate";try{const x=yield st(y,mr(w,D,f,y),g);ae(x.idToken,w,"internal-error");const $=en(x.idToken);ae($,w,"internal-error");const{sub:ee}=$;return ae(y.uid===ee,w,"user-mismatch"),ri._forOperation(y,D,x)}catch(x){throw"auth/user-not-found"===x?.code&&Ee(w,"user-mismatch"),x}})).apply(this,arguments)}function rs(y,f){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.Z)(function*(y,f,g=!1){const w="signIn",D=yield mr(y,w,f),x=yield ri._fromIdTokenResponse(y,w,D);return g||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function $i(y,f){return op.apply(this,arguments)}function op(){return(op=(0,d.Z)(function*(y,f){return rs(wn(y),f)})).apply(this,arguments)}function qd(y,f){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(y,f){const g=(0,L.m9)(y);return yield Mi(!1,g,f.providerId),Gr(g,f)})).apply(this,arguments)}function Zl(y,f){return La.apply(this,arguments)}function La(){return(La=(0,d.Z)(function*(y,f){return Ls((0,L.m9)(y),f)})).apply(this,arguments)}function O(){return(O=(0,d.Z)(function*(y,f){return hn(y,"POST","/v1/accounts:signInWithCustomToken",mt(y,f))})).apply(this,arguments)}function N(){return N=(0,d.Z)(function*(y,f){const g=wn(y),w=yield function Om(y,f){return O.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),D=yield ri._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(D.user),D}),N.apply(this,arguments)}class oe{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ke._fromServerResponse(f,g):"totpInfo"in g?xe._fromServerResponse(f,g):Ee(f,"internal-error")}}class ke extends oe{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ke(g)}}class xe extends oe{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new xe(g)}}function lt(y,f,g){var w;ae((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),ae(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ae(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ae(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function sn(){return sn=(0,d.Z)(function*(y,f,g){var w;const D=wn(y),x={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const $=yield nt(D,x,"getOobCode",!0);g&&lt(D,$,g),yield Ps(D,$)}else g&&lt(D,x,g),yield Ps(D,x).catch(function(){var $=(0,d.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Be=yield nt(D,x,"getOobCode",!0);g&&lt(D,Be,g),yield Ps(D,Be)}});return function(ee){return $.apply(this,arguments)}}())}),sn.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(y,f,g){yield pe((0,L.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function vs(){return vs=(0,d.Z)(function*(y,f){yield function fn(y,f){return Rn.apply(this,arguments)}((0,L.m9)(y),{oobCode:f})}),vs.apply(this,arguments)}function is(y,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(y,f){const g=(0,L.m9)(y),w=yield pe(g,{oobCode:f}),D=w.requestType;switch(ae(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(w.mfaInfo,g,"internal-error");default:ae(w.email,g,"internal-error")}let x=null;return w.mfaInfo&&(x=oe._fromServerResponse(wn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(y,f){const{data:g}=yield is((0,L.m9)(y),f);return g.email})).apply(this,arguments)}function kr(){return kr=(0,d.Z)(function*(y,f,g){var w;const D=wn(y),x={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const et=yield nt(D,x,"signUpPassword");$=_o(D,et)}else $=_o(D,x).catch(function(){var et=(0,d.Z)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ft=yield nt(D,x,"signUpPassword");return _o(D,ft)}return Promise.reject(dt)});return function(dt){return et.apply(this,arguments)}}());const ee=yield $.catch(et=>Promise.reject(et)),Be=yield ri._fromIdTokenResponse(D,"signIn",ee);return yield D._updateCurrentUser(Be.user),Be}),kr.apply(this,arguments)}function ap(){return ap=(0,d.Z)(function*(y,f,g){var w;const D=wn(y),x={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function $(ee,Be){ae(Be.handleCodeInApp,D,"argument-error"),Be&&lt(D,ee,Be)}if(null!==(w=D._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield nt(D,x,"getOobCode",!0);$(ee,g),yield Tr(D,ee)}else $(x,g),yield Tr(D,x).catch(function(){var ee=(0,d.Z)(function*(Be){if("auth/missing-recaptcha-token"!==Be.code)return Promise.reject(Be);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const et=yield nt(D,x,"getOobCode",!0);$(et,g),yield Tr(D,et)}});return function(Be){return ee.apply(this,arguments)}}())}),ap.apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(y,f,g){const w=(0,L.m9)(y),D=Wl.credentialWithLink(f,g||Jt());return ae(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),$i(w,D)})).apply(this,arguments)}function Yl(){return(Yl=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:createAuthUri",mt(y,f))})).apply(this,arguments)}function Zd(){return Zd=(0,d.Z)(function*(y,f){const w={identifier:f,continueUri:ut()?Jt():"http://localhost"},{signinMethods:D}=yield function km(y,f){return Yl.apply(this,arguments)}((0,L.m9)(y),w);return D||[]}),Zd.apply(this,arguments)}function Yd(){return Yd=(0,d.Z)(function*(y,f){const g=(0,L.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&lt(g.auth,D,f);const{email:x}=yield function Dc(y,f){return yo.apply(this,arguments)}(g.auth,D);x!==y.email&&(yield y.reload())}),Yd.apply(this,arguments)}function Qd(){return Qd=(0,d.Z)(function*(y,f,g){const w=(0,L.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&lt(w.auth,x,g);const{email:$}=yield function _i(y,f){return ei.apply(this,arguments)}(w.auth,x);$!==y.email&&(yield y.reload())}),Qd.apply(this,arguments)}function Ql(){return(Ql=(0,d.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function lp(){return lp=(0,d.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,L.m9)(y),x={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},$=yield st(w,function Rm(y,f){return Ql.apply(this,arguments)}(w.auth,x));w.displayName=$.displayName||null,w.photoURL=$.photoUrl||null;const ee=w.providerData.find(({providerId:Be})=>"password"===Be);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary($)}),lp.apply(this,arguments)}function nr(y,f,g){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,d.Z)(function*(y,f,g){const{auth:w}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const $=yield st(y,ln(w,x));yield y._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Ua{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class Fm extends Ua{constructor(f,g,w,D){super(f,g,w),this.username=D}}class C0 extends Ua{constructor(f,g){super(f,"facebook.com",g)}}class D0 extends Fm{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Xd extends Ua{constructor(f,g){super(f,"google.com",g)}}class eh extends Fm{constructor(f,g,w){super(f,"twitter.com",g,w)}}function th(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function I0(y){var f,g;if(!y)return null;const{providerId:w}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const $=null===(g=null===(f=en(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new Ua(x,"anonymous"!==$&&"custom"!==$?$:null)}if(!w)return null;switch(w){case"facebook.com":return new C0(x,D);case"github.com":return new D0(x,D);case"google.com":return new Xd(x,D);case"twitter.com":return new eh(x,D,y.screenName||null);case"custom":case"anonymous":return new Ua(x,null);default:return new Ua(x,w,D)}}(g)}class Yo{constructor(f,g,w){this.type=f,this.credential=g,this.auth=w}static _fromIdtoken(f,g){return new Yo("enroll",f,g)}static _fromMfaPendingCredential(f){return new Yo("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Yo._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Yo._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Nc{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=wn(f),D=g.customData._serverResponse,x=(D.mfaInfo||[]).map(ee=>oe._fromServerResponse(w,ee));ae(D.mfaPendingCredential,w,"internal-error");const $=Yo._fromMfaPendingCredential(D.mfaPendingCredential);return new Nc($,x,function(){var ee=(0,d.Z)(function*(Be){const et=yield Be._process(w,$);delete D.mfaInfo,delete D.mfaPendingCredential;const dt=Object.assign(Object.assign({},D),{idToken:et.idToken,refreshToken:et.refreshToken});switch(g.operationType){case"signIn":const ft=yield ri._fromIdTokenResponse(w,g.operationType,dt);return yield w._updateCurrentUser(ft.user),ft;case"reauthenticate":return ae(g.user,w,"internal-error"),ri._forOperation(g.user,g.operationType,dt);default:Ee(w,"internal-error")}});return function(Be){return ee.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,d.Z)(function*(){return g.signInResolver(f)})()}}class Lc{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>oe._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Lc(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Yo._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var w=this;return(0,d.Z)(function*(){const D=f,x=yield w.getSession(),$=yield st(w.user,D._process(w.user.auth,x,g));return yield w.user._updateTokensIfNecessary($),w.user.reload()})()}unenroll(f){var g=this;return(0,d.Z)(function*(){const w="string"==typeof f?f:f.uid,D=yield g.user.getIdToken();try{const x=yield st(g.user,function Xl(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",mt(y,f))}(g.user.auth,{idToken:D,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==w),yield g.user._updateTokensIfNecessary(x),yield g.user.reload()}catch(x){throw x}})()}}const Jo=new WeakMap,Xo="__sak";class eu{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uc=(()=>{class y extends eu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vc(){const y=(0,L.z$)();return ne(y)||Ge(y)}()&&function nn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),x=this.localCache[w];D!==x&&g(w,x,D)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ee,Be,et)=>{this.notifyListeners(ee,et)});const D=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(D);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!w)return}const x=()=>{const ee=this.storage.getItem(D);!w&&this.localCache[D]===ee||this.notifyListeners(D,ee)},$=this.storage.getItem(D);!function Ft(){return(0,L.w1)()&&10===document.documentMode}()||$===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,w){this.localCache[g]=w;const D=this.listeners[g];if(D)for(const x of Array.from(D))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var D=()=>super._set,x=this;return(0,d.Z)(function*(){yield D().call(x,g,w),x.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,D=this;return(0,d.Z)(function*(){const x=yield w().call(D,g);return D.localCache[g]=JSON.stringify(x),x})()}_remove(g){var w=()=>super._remove,D=this;return(0,d.Z)(function*(){yield w().call(D,g),delete D.localCache[g]})()}}return y.type="LOCAL",y})(),Vs=(()=>{class y extends eu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let nu=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(x=>x.isListeningto(g));if(w)return w;const D=new y(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,d.Z)(function*(){const D=g,{eventId:x,eventType:$,data:ee}=D.data,Be=w.handlersMap[$];if(!Be?.size)return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:$});const et=Array.from(Be).map(function(){var ft=(0,d.Z)(function*(Wn){return Wn(D.origin,ee)});return function(Wn){return ft.apply(this,arguments)}}()),dt=yield function tu(y){return Promise.all(y.map(function(){var f=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(et);D.ports[0].postMessage({status:"done",eventId:x,eventType:$,response:dt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ea(y="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return y+g}class oh{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var D=this;return(0,d.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let $,ee;return new Promise((Be,et)=>{const dt=ea("",20);x.port1.start();const ft=setTimeout(()=>{et(new Error("unsupported_event"))},w);ee={messageChannel:x,onMessage(Wn){const $s=Wn;if($s.data.eventId===dt)switch($s.data.status){case"ack":clearTimeout(ft),$=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Be($s.data.response);break;default:clearTimeout(ft),clearTimeout($),et(new Error("invalid_response"))}}},D.handlers.add(ee),x.port1.addEventListener("message",ee.onMessage),D.target.postMessage({eventType:f,eventId:dt,data:g},[x.port2])}).finally(()=>{ee&&D.removeMessageHandler(ee)})})()}}function Qn(){return window}function ru(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function iu(){return(iu=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ta="firebaseLocalStorageDb",ja=1,ch="firebaseLocalStorage",su="fbase_key";class Bc{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Xs(y,f){return y.transaction([ch],f?"readwrite":"readonly").objectStore(ch)}function ou(){const y=indexedDB.open(ta,ja);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ch,{keyPath:su})}catch(D){g(D)}}),y.addEventListener("success",(0,d.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ch)?f(w):(w.close(),yield function Um(){const y=indexedDB.deleteDatabase(ta);return new Bc(y).toPromise()}(),f(yield ou()))}))})}function jc(y,f,g){return lh.apply(this,arguments)}function lh(){return(lh=(0,d.Z)(function*(y,f,g){const w=Xs(y,!0).put({[su]:f,value:g});return new Bc(w).toPromise()})).apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(y,f){const g=Xs(y,!1).get(f),w=yield new Bc(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function vo(y,f){const g=Xs(y,!0).delete(f);return new Bc(g).toPromise()}const ra=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield ou()),g.db})()}_withRetries(g){var w=this;return(0,d.Z)(function*(){let D=0;for(;;)try{const x=yield w._openDb();return yield g(x)}catch(x){if(D++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return ru()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=nu._getInstance(function Vm(){return ru()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(D,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(D,x){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var w,D;if(g.activeServiceWorker=yield function ah(){return iu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new oh(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);x&&null!==(w=x[0])&&void 0!==w&&w.fulfilled&&null!==(D=x[0])&&void 0!==D&&D.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function gp(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ou();return yield jc(g,Xo,"1"),yield vo(g,Xo),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(x=>jc(x,g,w)),D.localCache[g]=w,D.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,d.Z)(function*(){const D=yield w._withRetries(x=>function uh(y,f){return $a.apply(this,arguments)}(x,g));return w.localCache[g]=D,D})()}_remove(g){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(D=>vo(D,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const w=yield g._withRetries($=>{const ee=Xs($,!1).getAll();return new Bc(ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:$,value:ee}of w)x.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(ee)&&(g.notifyListeners($,ee),D.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!x.has($)&&(g.notifyListeners($,null),D.push($));return D})()}notifyListeners(g,w){this.localCache[g]=w;const D=this.listeners[g];if(D)for(const x of Array.from(D))x(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),dh=1e12;class _p{constructor(f){this.auth=f,this.counter=dh,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new jm(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||dh;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||dh))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,d.Z)(function*(){var w;return null===(w=g._widgets.get(f||dh))||void 0===w||w.execute(),""})()}}class jm{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;ae(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rC(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $m=qn("rcb"),iC=new Ae(3e4,6e4);class sC{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Qn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ae(function oC(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Kt(Qn().grecaptcha)?Promise.resolve(Qn().grecaptcha):new Promise((w,D)=>{const x=Qn().setTimeout(()=>{D(Ie(f,"network-request-failed"))},iC.get());Qn()[$m]=()=>{Qn().clearTimeout(x),delete Qn()[$m];const ee=Qn().grecaptcha;if(!ee||!Kt(ee))return void D(Ie(f,"internal-error"));const Be=ee.render;ee.render=(et,dt)=>{const ft=Be(et,dt);return this.counter++,ft},this.hostLanguage=g,w(ee)},Xn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:$m,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),D(Ie(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Qn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qr{load(f){return(0,d.Z)(function*(){return new _p(f)})()}clearedOneInstance(){}}const hh="recaptcha",au={theme:"light",type:"image"};class Hm{constructor(f,g=Object.assign({},au),w){this.parameters=g,this.type=hh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(w),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof f?document.getElementById(f):f;ae(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qr:new sC,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(x=>{const $=ee=>{ee&&(f.tokenChangeListeners.delete($),x(ee))};f.tokenChangeListeners.add($),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=Qn()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){ae(ut()&&!ru(),f.auth,"internal-error"),yield function ws(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function X(y){return Oe.apply(this,arguments)}(f.auth);ae(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wo{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Ys._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function zc(){return(zc=(0,d.Z)(function*(y,f,g){const w=wn(y),D=yield fh(w,f,(0,L.m9)(g));return new wo(D,x=>$i(w,x))})).apply(this,arguments)}function vp(){return(vp=(0,d.Z)(function*(y,f,g){const w=(0,L.m9)(y);yield Mi(!1,w,"phone");const D=yield fh(w.auth,f,(0,L.m9)(g));return new wo(D,x=>qd(w,x))})).apply(this,arguments)}function wp(){return(wp=(0,d.Z)(function*(y,f,g){const w=(0,L.m9)(y),D=yield fh(w.auth,f,(0,L.m9)(g));return new wo(D,x=>Zl(w,x))})).apply(this,arguments)}function fh(y,f,g){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,d.Z)(function*(y,f,g){var w;const D=yield g.verify();try{let x;if(ae("string"==typeof D,y,"argument-error"),ae(g.type===hh,y,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const $=x.session;if("phoneNumber"in x)return ae("enroll"===$.type,y,"internal-error"),(yield function Jl(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:start",mt(y,f))}(y,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ae("signin"===$.type,y,"internal-error");const ee=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return ae(ee,y,"missing-multi-factor-info"),(yield function Ha(y,f){return Bt(y,"POST","/v2/accounts/mfaSignIn:start",mt(y,f))}(y,{mfaPendingCredential:$.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function Bd(y,f){return Oa.apply(this,arguments)}(y,{phoneNumber:x.phoneNumber,recaptchaToken:D});return $}}finally{g._reset()}}),Oi.apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(y,f){yield Gr((0,L.m9)(y),f)})).apply(this,arguments)}let wt=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=wn(g)}verifyPhoneNumber(g,w){return fh(this.auth,g,(0,L.m9)(w))}static credential(g,w){return Ys._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:D}=g;return w&&D?Ys._fromTokenResponse(w,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Pr(y,f){return f?Tn(f):(ae(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ki extends Y{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ts(f,this._buildIdpRequest())}_linkToIdToken(f,g){return ts(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return ts(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Gm(y){return rs(y.auth,new ki(y),y.bypassAuthState)}function lu(y){const{auth:f,user:g}=y;return ae(g,f,"internal-error"),Ls(g,new ki(y),y.bypassAuthState)}function Es(y){return ph.apply(this,arguments)}function ph(){return(ph=(0,d.Z)(function*(y){const{auth:f,user:g}=y;return ae(g,f,"internal-error"),Gr(g,new ki(y),y.bypassAuthState)})).apply(this,arguments)}class Ep{constructor(f,g,w,D,x=!1){this.auth=f,this.resolver=w,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,d.Z)(function*(w,D){f.pendingPromise={resolve:w,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(w,D){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:x,tenantId:$,error:ee,type:Be}=f;if(ee)return void g.reject(ee);const et={auth:g.auth,requestUri:w,sessionId:D,tenantId:$||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(et))}catch(dt){g.reject(dt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Gm;case"linkViaPopup":case"linkViaRedirect":return Es;case"reauthViaPopup":case"reauthViaRedirect":return lu;default:Ee(this.auth,"internal-error")}}resolve(f){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gh=new Ae(2e3,1e4);function za(){return(za=(0,d.Z)(function*(y,f,g){const w=wn(y);ze(y,f,ns);const D=Pr(w,g);return new du(w,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(y,f,g){const w=(0,L.m9)(y);ze(w.auth,f,ns);const D=Pr(w.auth,g);return new du(w.auth,"reauthViaPopup",f,D,w).executeNotNull()})).apply(this,arguments)}function mh(){return(mh=(0,d.Z)(function*(y,f,g){const w=(0,L.m9)(y);ze(w.auth,f,ns);const D=Pr(w.auth,g);return new du(w.auth,"linkViaPopup",f,D,w).executeNotNull()})).apply(this,arguments)}let du=(()=>{class y extends Ep{constructor(g,w,D,x,$){super(g,w,x,$),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const w=yield g.execute();return ae(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,d.Z)(function*(){ot(1===g.filter.length,"Popup operations only handle one event");const w=ea();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(Ie(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,gh.get())};g()}}return y.currentPopupAction=null,y})();const Ga="pendingRedirect",eo=new Map;class yr extends Ep{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,d.Z)(function*(){let w=eo.get(g.auth._key());if(!w){try{const x=(yield function qm(y,f){return qc.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(x)}catch(D){w=()=>Promise.reject(D)}eo.set(g.auth._key(),w)}return g.bypassAuthState||eo.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const D=yield w.auth._redirectUserForId(f.eventId);if(D)return w.user=D,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function qc(){return(qc=(0,d.Z)(function*(y,f){const g=ia(f),w=qa(y);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(g));return yield w._remove(g),D})).apply(this,arguments)}function bo(y,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(y,f){return qa(y)._set(ia(f),"true")})).apply(this,arguments)}function bp(y,f){eo.set(y._key(),f)}function qa(y){return Tn(y._redirectPersistence)}function ia(y){return j(Ga,y.config.apiKey,y.name)}function Wm(y,f,g){return function Km(y,f,g){return Kc.apply(this,arguments)}(y,f,g)}function Kc(){return(Kc=(0,d.Z)(function*(y,f,g){const w=wn(y);ze(y,f,ns),yield w._initializationPromise;const D=Pr(w,g);return yield bo(D,w),D._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Zc(y,f,g){return function os(y,f,g){return Yc.apply(this,arguments)}(y,f,g)}function Yc(){return(Yc=(0,d.Z)(function*(y,f,g){const w=(0,L.m9)(y);ze(w.auth,f,ns),yield w.auth._initializationPromise;const D=Pr(w.auth,g);yield bo(D,w.auth);const x=yield Rr(w);return D._openRedirect(w.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Wr(y,f,g){return function hu(y,f,g){return yh.apply(this,arguments)}(y,f,g)}function yh(){return(yh=(0,d.Z)(function*(y,f,g){const w=(0,L.m9)(y);ze(w.auth,f,ns),yield w.auth._initializationPromise;const D=Pr(w.auth,g);yield Mi(!1,w,f.providerId),yield bo(D,w.auth);const x=yield Rr(w);return D._openRedirect(w.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(y,f){return yield wn(y)._initializationPromise,to(y,f,!1)})).apply(this,arguments)}function to(y,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(y,f,g=!1){const w=wn(y),D=Pr(w,f),$=yield new yr(w,D,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield w._persistUserIfCurrent($.user),yield w._setRedirectUser(null,f)),$})).apply(this,arguments)}function Rr(y){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,d.Z)(function*(y){const f=ea(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class fu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ei(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!sa(f)){const D=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ie(this.auth,D))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(no(f))}saveEventToCache(f){this.cachedEventUids.add(no(f)),this.lastProcessedEventTime=Date.now()}}function no(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function sa({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Do(y){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,d.Z)(function*(y,f={}){return Bt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Jc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pu=/^https?/;function mu(){return(mu=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Do(y);for(const g of f)try{if(Cp(g))return}catch{}Ee(y,"unauthorized-domain")})).apply(this,arguments)}function Cp(y){const f=Jt(),{protocol:g,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const $=new URL(y);return""===$.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===w}if(!pu.test(g))return!1;if(Jc.test(y))return w===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const yu=new Ae(3e4,6e4);function Vt(){const y=Qn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let _u=null;const Dp=new Ae(5e3,15e3),_h="__/auth/iframe",Us="emulator/auth/iframe",Tp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vh(y){const f=y.config;ae(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Re(f,Us):`https://${y.config.authDomain}/${_h}`,w={apiKey:f.apiKey,appName:y.name,v:se.SDK_VERSION},D=Sp.get(y.config.apiHost);D&&(w.eid=D);const x=y._getFrameworks();return x.length&&(w.fw=x.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function Nr(){return Nr=(0,d.Z)(function*(y){const f=yield function Wa(y){return _u=_u||function Xc(y){return new Promise((f,g)=>{var w,D,x;function $(){Vt(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Vt(),g(Ie(y,"network-request-failed"))},timeout:yu.get()})}if(null!==(D=null===(w=Qn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)f(gapi.iframes.getContext());else{if(null===(x=Qn().gapi)||void 0===x||!x.load){const ee=qn("iframefcb");return Qn()[ee]=()=>{gapi.load?$():g(Ie(y,"network-request-failed"))},Xn(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Be=>g(Be))}$()}}).catch(f=>{throw _u=null,f})}(y),_u}(y),g=Qn().gapi;return ae(g,y,"internal-error"),f.open({where:document.body,url:vh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tp,dontclear:!0},w=>new Promise(function(){var D=(0,d.Z)(function*(x,$){yield w.restyle({setHideOnLeave:!1});const ee=Ie(y,"network-request-failed"),Be=Qn().setTimeout(()=>{$(ee)},Dp.get());function et(){Qn().clearTimeout(Be),x(w)}w.ping(et).then(et,()=>{$(ee)})});return function(x,$){return D.apply(this,arguments)}}()))}),Nr.apply(this,arguments)}const _r={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ka=500,Ap=600,vu="_blank",si="http://localhost";class Za{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xp="__/auth/handler",Eh="emulator/auth/handler",wu=encodeURIComponent("fac");function bs(y,f,g,w,D,x){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(y,f,g,w,D,x){ae(y.config.authDomain,y,"auth-domain-config-required"),ae(y.config.apiKey,y,"invalid-api-key");const $={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:se.SDK_VERSION,eventId:D};if(f instanceof ns){f.setDefaultLanguage(y.languageCode),$.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||($.customParameters=JSON.stringify(f.getCustomParameters()));for(const[dt,ft]of Object.entries(x||{}))$[dt]=ft}if(f instanceof ji){const dt=f.getScopes().filter(ft=>""!==ft);dt.length>0&&($.scopes=dt.join(","))}y.tenantId&&($.tid=y.tenantId);const ee=$;for(const dt of Object.keys(ee))void 0===ee[dt]&&delete ee[dt];const Be=yield y._getAppCheckToken(),et=Be?`#${wu}=${encodeURIComponent(Be)}`:"";return`${function Ya({config:y}){return y.emulator?Re(y,Eh):`https://${y.authDomain}/${xp}`}(y)}?${(0,L.xO)(ee).slice(1)}${et}`})).apply(this,arguments)}const bh="webStorageSupport",Eu=class oa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vs,this._completeRedirectFn=to,this._overrideRedirectResult=bp}_openPopup(f,g,w,D){var x=this;return(0,d.Z)(function*(){var $;ot(null===($=x.eventManagers[f._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ee=yield bs(f,g,w,Jt(),D);return function wh(y,f,g,w=Ka,D=Ap){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Be=Object.assign(Object.assign({},_r),{width:w.toString(),height:D.toString(),top:x,left:$}),et=(0,L.z$)().toLowerCase();g&&(ee=Ve(et)?vu:g),ve(et)&&(f=f||si,Be.scrollbars="yes");const dt=Object.entries(Be).reduce((Wn,[$s,fl])=>`${Wn}${$s}=${fl},`,"");if(function yt(y=(0,L.z$)()){var f;return Ge(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(et)&&"_self"!==ee)return function Mp(y,f){const g=document.createElement("a");g.href=y,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",ee),new Za(null);const ft=window.open(f||"",ee,dt);ae(ft,y,"popup-blocked");try{ft.focus()}catch{}return new Za(ft)}(f,ee,ea())})()}_openRedirect(f,g,w,D){var x=this;return(0,d.Z)(function*(){return yield x._originValidation(f),function pp(y){Qn().location.href=y}(yield bs(f,g,w,Jt(),D)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:D,promise:x}=this.eventManagers[g];return D?Promise.resolve(D):(ot(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,d.Z)(function*(){const w=yield function x0(y){return Nr.apply(this,arguments)}(f),D=new fu(f);return w.register("authEvent",x=>(ae(x?.authEvent,f,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:D},g.iframes[f._key()]=w,D})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(bh,{type:bh},D=>{var x;const $=null===(x=D?.[0])||void 0===x?void 0:x[bh];void 0!==$&&g(!!$),Ee(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function gu(y){return mu.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return tn()||ne()||Ge()}};class aa{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return Pt("unexpected MultiFactorSessionType")}}}class el extends aa{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new el(f)}_finalizeEnroll(f,g,w){return function sh(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:finalize",mt(y,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function mp(y,f){return Bt(y,"POST","/v2/accounts/mfaSignIn:finalize",mt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tl=(()=>{class y{constructor(){}static assertion(g){return el._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Ch="@firebase/auth";class Qa{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function la(){return window}(0,L.Pz)("authIdTokenMaxAge"),function Op(y){(0,se._registerComponent)(new ye.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),D=f.getProvider("heartbeat"),x=f.getProvider("app-check-internal"),{apiKey:$,authDomain:ee}=w.options;ae($&&!$.includes(":"),"invalid-api-key",{appName:w.name});const Be={apiKey:$,authDomain:ee,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:re(y)},et=new Xr(w,D,x,Be);return function jn(y,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Tn);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,f?.popupRedirectResolver)}(et,g),et},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ye.wA("auth-internal",f=>{const g=wn(f.getProvider("auth").getImmediate());return new Qa(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Ch,"0.23.2",function Dh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,se.registerVersion)(Ch,"0.23.2","esm2017")}("Browser");const Qm=2e3;function rl(){return rl=(0,d.Z)(function*(y,f,g){var w;const{BuildInfo:D}=la();ot(f.sessionId,"AuthEvent did not contain a session ID");const x=yield function So(y){return il.apply(this,arguments)}(f.sessionId),$={};return Ge()?$.ibi=D.packageName:Q()?$.apn=D.packageName:Ee(y,"operation-not-supported-in-this-environment"),D.displayName&&($.appDisplayName=D.displayName),$.sessionId=x,bs(y,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,$)}),rl.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(y){const{BuildInfo:f}=la(),g={};Ge()?g.iosBundleId=f.packageName:Q()?g.androidPackageName=f.packageName:Ee(y,"operation-not-supported-in-this-environment"),yield Do(y,g)})).apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(y,f,g){const{cordova:w}=la();let D=()=>{};try{yield new Promise((x,$)=>{let ee=null;function Be(){var ft;x();const Wn=null===(ft=w.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof Wn&&Wn(),"function"==typeof g?.close&&g.close()}function et(){ee||(ee=window.setTimeout(()=>{$(Ie(y,"redirect-cancelled-by-user"))},Qm))}function dt(){"visible"===document?.visibilityState&&et()}f.addPassiveListener(Be),document.addEventListener("resume",et,!1),Q()&&document.addEventListener("visibilitychange",dt,!1),D=()=>{f.removePassiveListener(Be),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",dt,!1),ee&&window.clearTimeout(ee)}})}finally{D()}})).apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(y){const f=function Rp(y){if(ot(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const sl=20;class Cu extends fu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function Du(y){return ol.apply(this,arguments)}function ol(){return(ol=(0,d.Z)(function*(y){const f=yield Tu()._get(ha(y));return f&&(yield Tu()._remove(ha(y))),f})).apply(this,arguments)}function Sh(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<sl;g++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function Tu(){return Tn(Uc)}function ha(y){return j("authEvent",y.config.apiKey,y.name)}function Is(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,L.zd)(g.join("?"))}const cl=class al{constructor(){this._redirectPersistence=Vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=to,this._overrideRedirectResult=bp}_initialize(f){var g=this;return(0,d.Z)(function*(){const w=f._key();let D=g.eventManagers.get(w);return D||(D=new Cu(f),g.eventManagers.set(w,D),g.attachCallbackListeners(f,D)),D})()}_openPopup(f){Ee(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,D){var x=this;return(0,d.Z)(function*(){!function Xm(y){var f,g,w,D,x,$,ee,Be,et,dt;const ft=la();ae("function"==typeof(null===(f=ft?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(typeof(null===(g=ft?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(x=null===(D=null===(w=ft?.cordova)||void 0===w?void 0:w.plugins)||void 0===D?void 0:D.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(Be=null===(ee=null===($=ft?.cordova)||void 0===$?void 0:$.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Be?void 0:Be.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(dt=null===(et=ft?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===dt?void 0:dt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const $=yield x._initialize(f);yield $.initialized(),$.resetRedirect(),function Wc(){eo.clear()}(),yield x._originValidation(f);const ee=function so(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Sh(),postBody:null,tenantId:y.tenantId,error:Ie(y,"no-auth-event")}}(f,w,D);yield function Np(y,f){return Tu()._set(ha(y),f)}(f,ee);const Be=yield function Pp(y,f,g){return rl.apply(this,arguments)}(f,ee,g),et=yield function Jm(y){const{cordova:f}=la();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let D=null;w?f.plugins.browsertab.openUrl(y):D=f.InAppBrowser.open(y,function Ne(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(D)})})}(Be);return function ua(y,f,g){return Ja.apply(this,arguments)}(f,$,et)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Iu(y){return To.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:D,BuildInfo:x}=la(),$=setTimeout((0,d.Z)(function*(){yield Du(f),g.onEvent(Mh())}),500),ee=function(){var dt=(0,d.Z)(function*(ft){clearTimeout($);const Wn=yield Du(f);let $s=null;Wn&&ft?.url&&($s=function da(y,f){var g,w;const D=function Au(y){const f=Is(y),g=f.link?decodeURIComponent(f.link):void 0,w=Is(g).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Is(D).link||D||w||g||y}(f);if(D.includes("/__/auth/callback")){const x=Is(D),$=x.firebaseError?function Su(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,ee=null===(w=null===(g=$?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Be=ee?Ie(ee):null;return Be?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(Wn,ft.url)),g.onEvent($s||Mh())});return function(Wn){return dt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Be=D,et=`${x.packageName.toLowerCase()}://`;la().handleOpenURL=function(){var dt=(0,d.Z)(function*(ft){if(ft.toLowerCase().startsWith(et)&&ee({url:ft}),"function"==typeof Be)try{Be(ft)}catch(Wn){console.error(Wn)}});return function(ft){return dt.apply(this,arguments)}}()}};function Mh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}const Oh=1e3;function as(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ao(y=(0,L.z$)()){return!("file:"!==as()&&"ionic:"!==as()&&"capacitor:"!==as()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ny(){try{const y=self.localStorage,f=ea();if(y)return y.setItem(f,"1"),y.removeItem(f),!function ty(y=(0,L.z$)()){return function Xa(){return(0,L.w1)()&&11===document?.documentMode}()||function ey(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch{return kh()&&(0,L.hl)()}return!1}function kh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hl(){return(function ul(){return"http:"===as()||"https:"===as()}()||(0,L.ru)()||Ao())&&!function dl(){return(0,L.b$)()||(0,L.UG)()}()&&ny()&&!kh()}function Fp(){return Ao()&&typeof document<"u"}function ec(){return(ec=(0,d.Z)(function*(){return!!Fp()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},Oh);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const bi={LOCAL:"local",NONE:"none",SESSION:"session"},fa=ae,Rh="persistence";function Nh(y){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,d.Z)(function*(y){yield y._initializationPromise;const f=Lh(),g=j(Rh,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function Lh(){var y;try{return(null===(y=function Ph(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Vh=ae;class oi{constructor(){this.browserResolver=Tn(Eu),this.cordovaResolver=Tn(cl),this.underlyingResolver=null,this._redirectPersistence=Vs,this._completeRedirectFn=to,this._overrideRedirectResult=bp}_initialize(f){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,D){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,w,D)})()}_openRedirect(f,g,w,D){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,w,D)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Fp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Lp(){return ec.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Pi(y){return y.unwrap()}function iy(y){return oy(y)}function oy(y){const{_tokenResponse:f}=y instanceof L.ZR?y.customData:y;if(!f)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return wt.credentialFromResult(y);const g=f.providerId;if(!g||g===ge.PASSWORD)return null;let w;switch(g){case ge.GOOGLE:w=xc;break;case ge.FACEBOOK:w=Mc;break;case ge.GITHUB:w=Kl;break;case ge.TWITTER:w=Oc;break;default:const{oauthIdToken:D,oauthAccessToken:x,oauthTokenSecret:$,pendingToken:ee,nonce:Be}=f;return x||$||D||ee?ee?g.startsWith("saml.")?Qs._create(g,ee):Bi._fromParams({providerId:g,signInMethod:g,pendingToken:ee,idToken:D,accessToken:x}):new qo(g).credential({idToken:D,accessToken:x,rawNonce:Be}):null}return y instanceof L.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Sr(y,f){return f.catch(g=>{throw g instanceof L.ZR&&function sy(y,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new xu(y,function ih(y,f){var g;const w=(0,L.m9)(y),D=f;return ae(f.customData.operationType,w,"argument-error"),ae(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Nc._fromError(w,D)}(y,f));else if(w){const D=oy(f),x=f;D&&(x.credential=D,x.tenantId=w.tenantId||void 0,x.email=w.email||void 0,x.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:iy(g),additionalUserInfo:th(g),user:js.getOrCreate(D)}})}function Uh(y,f){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>Sr(y,g.confirm(w))}})).apply(this,arguments)}class xu{constructor(f,g){this.resolver=g,this.auth=function tc(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Sr(Pi(this.auth),this.resolver.resolveSignIn(f))}}class js{constructor(f){this._delegate=f,this.multiFactor=function Lm(y){const f=(0,L.m9)(y);return Jo.has(f)||Jo.set(f,Lc._fromUser(f)),Jo.get(f)}(f)}static getOrCreate(f){return js.USER_MAP.has(f)||js.USER_MAP.set(f,new js(f)),js.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,d.Z)(function*(){return Sr(g.auth,qd(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,d.Z)(function*(){return Uh(w.auth,function cu(y,f,g){return vp.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,d.Z)(function*(){return Sr(g.auth,function kt(y,f,g){return mh.apply(this,arguments)}(g._delegate,f,oi))})()}linkWithRedirect(f){var g=this;return(0,d.Z)(function*(){return yield Nh(wn(g.auth)),Wr(g._delegate,f,oi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,d.Z)(function*(){return Sr(g.auth,Zl(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Uh(this.auth,function aC(y,f,g){return wp.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Sr(this.auth,function Gc(y,f,g){return Eo.apply(this,arguments)}(this._delegate,f,oi))}reauthenticateWithRedirect(f){var g=this;return(0,d.Z)(function*(){return yield Nh(wn(g.auth)),Zc(g._delegate,f,oi)})()}sendEmailVerification(f){return function cp(y,f){return Yd.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,d.Z)(function*(){return yield function Gd(y,f){return Js.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function wi(y,f){return nr((0,L.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Ko(y,f){return nr((0,L.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function $n(y,f){return Hi.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Nm(y,f){return lp.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Pm(y,f,g){return Qd.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}js.USER_MAP=new WeakMap;const pa=ae;let Bh=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;pa(D,"invalid-api-key",{appName:g.name}),pa(D,"invalid-api-key",{appName:g.name});const x=typeof window<"u"?oi:void 0;this._delegate=w.initialize({options:{persistence:Cs(D,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?js.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Zs(y,f,g){const w=wn(y);ae(w._canInitEmulator,w,"emulator-config-failed"),ae(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const D=!!g?.disableWarnings,x=gs(f),{host:$,port:ee}=function Zt(y){const f=gs(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const x=D[1];return{host:x,port:ms(w.substr(x.length+1))}}{const[x,$]=w.split(":");return{host:x,port:ms($)}}}(f);w.config.emulator={url:`${x}//${$}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$,port:ee,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function V(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function mn(y,f){return vs.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return is(this._delegate,g)}confirmPasswordReset(g,w){return function Nn(y,f,g){return In.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var D=this;return(0,d.Z)(function*(){return Sr(D._delegate,function ii(y,f,g){return kr.apply(this,arguments)}(D._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function b0(y,f){return Zd.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function E0(y,f){return"EMAIL_SIGNIN"===Ns.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){pa(hl(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function rr(y,f){return Co.apply(this,arguments)}(g._delegate,oi);return w?Sr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function xh(y,f){wn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,D){const{next:x,error:$,complete:ee}=nc(g,w,D);return this._delegate.onAuthStateChanged(x,$,ee)}onIdTokenChanged(g,w,D){const{next:x,error:$,complete:ee}=nc(g,w,D);return this._delegate.onIdTokenChanged(x,$,ee)}sendSignInLinkToEmail(g,w){return function Wd(y,f,g){return ap.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function En(y,f,g){return sn.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,d.Z)(function*(){let D;switch(function Vp(y,f){fa(Object.values(bi).includes(f),y,"invalid-persistence-type"),(0,L.b$)()?fa(f!==bi.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?fa(f===bi.NONE,y,"unsupported-persistence-type"):kh()?fa(f===bi.NONE||f===bi.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):fa(f===bi.NONE||ny(),y,"unsupported-persistence-type")}(w._delegate,g),g){case bi.SESSION:D=Vs;break;case bi.LOCAL:D=(yield Tn(ra)._isAvailable())?ra:Uc;break;case bi.NONE:D=Hr;break;default:return Ee("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Sr(this._delegate,function gr(y){return Fs.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Sr(this._delegate,$i(this._delegate,g))}signInWithCustomToken(g){return Sr(this._delegate,function T(y,f){return N.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Sr(this._delegate,function Pc(y,f,g){return $i((0,L.m9)(y),Wl.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Sr(this._delegate,function Kd(y,f,g){return Va.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Uh(this._delegate,function zm(y,f,g){return zc.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,d.Z)(function*(){return pa(hl(),w._delegate,"operation-not-supported-in-this-environment"),Sr(w._delegate,function uu(y,f,g){return za.apply(this,arguments)}(w._delegate,g,oi))})()}signInWithRedirect(g){var w=this;return(0,d.Z)(function*(){return pa(hl(),w._delegate,"operation-not-supported-in-this-environment"),yield Nh(w._delegate),Wm(w._delegate,g,oi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function vi(y,f){return xi.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=bi,y})();function nc(y,f,g){let w=y;"function"!=typeof y&&({next:w,error:f,complete:g}=y);const D=w;return{next:$=>D($&&js.getOrCreate($)),error:f,complete:g}}function Cs(y,f){const g=function ry(y,f){const g=Lh();if(!g)return[];const w=j(Rh,y,f);switch(g.getItem(w)){case bi.NONE:return[Hr];case bi.LOCAL:return[ra,Vs];case bi.SESSION:return[Vs];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(ra)&&g.push(ra),typeof window<"u")for(const w of[Uc,Vs])g.includes(w)||g.push(w);return g.includes(Hr)||g.push(Hr),g}class ga{constructor(){this.providerId="phone",this._delegate=new wt(Pi(J.Z.auth()))}static credential(f,g){return wt.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}ga.PHONE_SIGN_IN_METHOD=wt.PHONE_SIGN_IN_METHOD,ga.PROVIDER_ID=wt.PROVIDER_ID;const rc=ae;class Up{constructor(f,g,w=J.Z.app()){var D;rc(null===(D=w.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Hm(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function jp(y){y.INTERNAL.registerComponent(new ye.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new Bh(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W_EMAIL_SIGNIN,PASSWORD_RESET:W_PASSWORD_RESET,RECOVER_EMAIL:W_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W_VERIFY_EMAIL}},EmailAuthProvider:Wl,FacebookAuthProvider:Mc,GithubAuthProvider:Kl,GoogleAuthProvider:xc,OAuthProvider:qo,SAMLAuthProvider:Pa,PhoneAuthProvider:ga,PhoneMultiFactorGenerator:tl,RecaptchaVerifier:Up,TwitterAuthProvider:Oc,Auth:Bh,AuthCredential:Y,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(J.Z)},5861:(Mt,Me,P)=>{function d(L,se,he,ce,ye,Ce,ge){try{var z=L[Ce](ge),H=z.value}catch(W){return void he(W)}z.done?se(H):Promise.resolve(H).then(ce,ye)}function J(L){return function(){var se=this,he=arguments;return new Promise(function(ce,ye){var Ce=L.apply(se,he);function ge(H){d(Ce,ce,ye,ge,z,"next",H)}function z(H){d(Ce,ce,ye,ge,z,"throw",H)}ge(void 0)})}}P.d(Me,{Z:()=>J})}},Mt=>{Mt(Mt.s=8507)}]);
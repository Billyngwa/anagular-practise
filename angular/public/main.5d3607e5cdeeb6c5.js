"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[179],{2011:(Mt,Pe,L)=>{L.d(Pe,{Dh:()=>Ce,GT:()=>ue,Ot:()=>Ee,cc:()=>Te,hO:()=>Ne,on:()=>K,pX:()=>ye,xv:()=>Ie});var u=L(4650),B=L(9260),F=L(3324);Mt=L.hmd(Mt);const re=["ngOnDestroy"],ye=(Le,$e,qe,Me={})=>new Proxy(Le,{get:(Se,Ve)=>qe.runOutsideAngular(()=>{var Je;if(Le[Ve])return!(null===(Je=Me?.spy)||void 0===Je)&&Je.get&&Me.spy.get(Ve,Le[Ve]),Le[Ve];if(re.indexOf(Ve)>-1)return()=>{};const ze=$e.toPromise().then(ce=>{const it=ce&&ce[Ve];return"function"==typeof it?it.bind(ce):it&&it.then?it.then(Pt=>qe.run(()=>Pt)):qe.run(()=>it)});return new Proxy(()=>{},{get:(ce,it)=>ze[it],apply:(ce,it,Pt)=>ze.then(ht=>{var Kt;const ft=ht&&ht(...Pt);return!(null===(Kt=Me?.spy)||void 0===Kt)&&Kt.apply&&Me.spy.apply(Ve,Pt,ft),ft})})})}),ue=(Le,$e)=>{$e.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Me=>{Object.defineProperty(Le.prototype,Me,Object.getOwnPropertyDescriptor(qe.prototype||qe,Me))})})};class Ee{constructor($e){return $e}}const Ce=new u.OlP("angularfire2.app.options"),Ie=new u.OlP("angularfire2.app.name");function K(Le,$e,qe){const Se="object"==typeof qe&&qe||{};Se.name=Se.name||"string"==typeof qe&&qe||"[DEFAULT]";const Je=B.Z.apps.filter(ze=>ze&&ze.name===Se.name)[0]||$e.runOutsideAngular(()=>B.Z.initializeApp(Le,Se));try{JSON.stringify(Le)!==JSON.stringify(Je.options)&&q("error",`${Je.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(Je)}const q=(Le,...$e)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Le](...$e)},ee={provide:Ee,useFactory:K,deps:[Ce,u.R0b,[new u.FiY,Ie]]};let Ne=(()=>{class Le{constructor(qe){B.Z.registerVersion("angularfire",F.q4.full,"core"),B.Z.registerVersion("angularfire",F.q4.full,"app-compat"),B.Z.registerVersion("angular",u.q4F.full,qe.toString())}static initializeApp(qe,Me){return{ngModule:Le,providers:[{provide:Ce,useValue:qe},{provide:Ie,useValue:Me}]}}}return Le.\u0275fac=function(qe){return new(qe||Le)(u.LFG(u.Lbi))},Le.\u0275mod=u.oAB({type:Le}),Le.\u0275inj=u.cJS({providers:[ee]}),Le})();function Te(Le,$e,qe,Me,Se){const[,Ve,Je]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Le)||[];if(Ve)return function We(Le,$e){try{return Le.toString()===$e.toString()}catch{return Le===$e}}(Se,Je)||(we("error",`${$e} was already initialized on the ${qe} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Se,was:Je})),Ve;{const ze=Me();return globalThis.\u0275AngularfireInstanceCache.push([Le,ze,Se]),ze}}const mt=!!Mt.hot,we=(Le,...$e)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Le](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(Mt,Pe,L)=>{L.d(Pe,{q4:()=>ar,iC:()=>Na,HU:()=>Yo,vb:()=>uo,JM:()=>Pa,nk:()=>Xr,u3:()=>jd});var u=L(4650),B=L(259),F=L(5861),re=L(6881),ye=L(2090),ue=L(4859),Ee=L(1877);L(4727);const Ie="@firebase/remote-config",K="0.4.4",Te=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class be{constructor(O,z,le,De){this.client=O,this.storage=z,this.storageCache=le,this.logger=De}isCachedDataFresh(O,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-z,De=le<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${De}.`),De}fetch(O){var z=this;return(0,F.Z)(function*(){const[le,De]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(De&&z.isCachedDataFresh(O.cacheMaxAgeMillis,le))return De;O.eTag=De&&De.eTag;const Ke=yield z.client.fetch(O),pt=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ke.status&&pt.push(z.storage.setLastSuccessfulFetchResponse(Ke)),yield Promise.all(pt),Ke})()}}function ke(D=navigator){return D.languages&&D.languages[0]||D.language}class Ue{constructor(O,z,le,De,Ke,pt){this.firebaseInstallations=O,this.sdkVersion=z,this.namespace=le,this.projectId=De,this.apiKey=Ke,this.appId=pt}fetch(O){var z=this;return(0,F.Z)(function*(){const[le,De]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},En={sdk_version:z.sdkVersion,app_instance_id:le,app_instance_id_token:De,app_id:z.appId,language_code:ke()},$n={method:"POST",headers:pn,body:JSON.stringify(En)},Fn=fetch(pt,$n),gn=new Promise((Vr,us)=>{O.signal.addEventListener(()=>{const fo=new Error("The operation was aborted.");fo.name="AbortError",us(fo)})});let Ji;try{yield Promise.race([Fn,gn]),Ji=yield Fn}catch(Vr){let us="fetch-client-network";throw"AbortError"===Vr?.name&&(us="fetch-timeout"),Te.create(us,{originalErrorMessage:Vr?.message})}let cr=Ji.status;const ei=Ji.headers.get("ETag")||void 0;let Ds,$i;if(200===Ji.status){let Vr;try{Vr=yield Ji.json()}catch(us){throw Te.create("fetch-client-parse",{originalErrorMessage:us?.message})}Ds=Vr.entries,$i=Vr.state}if("INSTANCE_STATE_UNSPECIFIED"===$i?cr=500:"NO_CHANGE"===$i?cr=304:("NO_TEMPLATE"===$i||"EMPTY_CONFIG"===$i)&&(Ds={}),304!==cr&&200!==cr)throw Te.create("fetch-status",{httpStatus:cr});return{status:cr,eTag:ei,config:Ds}})()}}class Re{constructor(O,z){this.client=O,this.storage=z}fetch(O){var z=this;return(0,F.Z)(function*(){const le=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(O,le)})()}attemptFetch(O,{throttleEndTimeMillis:z,backoffCount:le}){var De=this;return(0,F.Z)(function*(){yield function Xe(D,O){return new Promise((z,le)=>{const De=Math.max(O-Date.now(),0),Ke=setTimeout(z,De);D.addEventListener(()=>{clearTimeout(Ke),le(Te.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,z);try{const Ke=yield De.client.fetch(O);return yield De.storage.deleteThrottleMetadata(),Ke}catch(Ke){if(!function He(D){if(!(D instanceof ye.ZR&&D.customData))return!1;const O=Number(D.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Ke))throw Ke;const pt={throttleEndTimeMillis:Date.now()+(0,ye.$s)(le),backoffCount:le+1};return yield De.storage.setThrottleMetadata(pt),De.attemptFetch(O,pt)}})()}}class It{constructor(O,z,le,De,Ke){this.app=O,this._client=z,this._storageCache=le,this._storage=De,this._logger=Ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wt(D,O){const z=D.target.error||void 0;return Te.create(O,{originalErrorMessage:z&&z?.message})}const jt="app_namespace_store";class Un{constructor(O,z,le,De=function yr(){return new Promise((D,O)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=le=>{O(wt(le,"storage-open"))},z.onsuccess=le=>{D(le.target.result)},z.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(jt,{keyPath:"compositeKey"})}}catch(z){O(Te.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=O,this.appName=z,this.namespace=le,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var z=this;return(0,F.Z)(function*(){const le=yield z.openDbPromise;return new Promise((De,Ke)=>{const pn=le.transaction([jt],"readonly").objectStore(jt),En=z.createCompositeKey(O);try{const $n=pn.get(En);$n.onerror=Fn=>{Ke(wt(Fn,"storage-get"))},$n.onsuccess=Fn=>{const gn=Fn.target.result;De(gn?gn.value:void 0)}}catch($n){Ke(Te.create("storage-get",{originalErrorMessage:$n?.message}))}})})()}set(O,z){var le=this;return(0,F.Z)(function*(){const De=yield le.openDbPromise;return new Promise((Ke,pt)=>{const En=De.transaction([jt],"readwrite").objectStore(jt),$n=le.createCompositeKey(O);try{const Fn=En.put({compositeKey:$n,value:z});Fn.onerror=gn=>{pt(wt(gn,"storage-set"))},Fn.onsuccess=()=>{Ke()}}catch(Fn){pt(Te.create("storage-set",{originalErrorMessage:Fn?.message}))}})})()}delete(O){var z=this;return(0,F.Z)(function*(){const le=yield z.openDbPromise;return new Promise((De,Ke)=>{const pn=le.transaction([jt],"readwrite").objectStore(jt),En=z.createCompositeKey(O);try{const $n=pn.delete(En);$n.onerror=Fn=>{Ke(wt(Fn,"storage-delete"))},$n.onsuccess=()=>{De()}}catch($n){Ke(Te.create("storage-delete",{originalErrorMessage:$n?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Ar{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,F.Z)(function*(){const z=O.storage.getLastFetchStatus(),le=O.storage.getLastSuccessfulFetchTimestampMillis(),De=O.storage.getActiveConfig(),Ke=yield z;Ke&&(O.lastFetchStatus=Ke);const pt=yield le;pt&&(O.lastSuccessfulFetchTimestampMillis=pt);const pn=yield De;pn&&(O.activeConfig=pn)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function ki(){return kn.apply(this,arguments)}function kn(){return(kn=(0,F.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}!function Xn(){(0,re._registerComponent)(new ue.wA("remote-config",function D(O,{instanceIdentifier:z}){const le=O.getProvider("app").getImmediate(),De=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Te.create("registration-window");if(!(0,ye.hl)())throw Te.create("indexed-db-unavailable");const{projectId:Ke,apiKey:pt,appId:pn}=le.options;if(!Ke)throw Te.create("registration-project-id");if(!pt)throw Te.create("registration-api-key");if(!pn)throw Te.create("registration-app-id");const En=new Un(pn,le.name,z=z||"firebase"),$n=new Ar(En),Fn=new Ee.Yd(Ie);Fn.logLevel=Ee.in.ERROR;const gn=new Ue(De,re.SDK_VERSION,z,Ke,pt,pn),Ji=new Re(gn,En),cr=new be(Ji,En,$n,Fn),ei=new It(le,cr,$n,En,Fn);return function Je(D){const O=(0,ye.m9)(D);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(ei),ei},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Ie,K),(0,re.registerVersion)(Ie,K,"esm2017")}();const Et=(D,O)=>O.some(z=>D instanceof z);let Pn,Qr;const Yn=new WeakMap,nn=new WeakMap,ln=new WeakMap,dt=new WeakMap,Lt=new WeakMap;let Rn={get(D,O,z){if(D instanceof IDBTransaction){if("done"===O)return nn.get(D);if("objectStoreNames"===O)return D.objectStoreNames||ln.get(D);if("store"===O)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return Ot(D[O])},set:(D,O,z)=>(D[O]=z,!0),has:(D,O)=>D instanceof IDBTransaction&&("done"===O||"store"===O)||O in D};function nr(D){return"function"==typeof D?function Nn(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kn(){return Qr||(Qr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...O){return D.apply(vr(this),O),Ot(Yn.get(this))}:function(...O){return Ot(D.apply(vr(this),O))}:function(O,...z){const le=D.call(vr(this),O,...z);return ln.set(le,O.sort?O.sort():[O]),Ot(le)}}(D):(D instanceof IDBTransaction&&function Tn(D){if(nn.has(D))return;const O=new Promise((z,le)=>{const De=()=>{D.removeEventListener("complete",Ke),D.removeEventListener("error",pt),D.removeEventListener("abort",pt)},Ke=()=>{z(),De()},pt=()=>{le(D.error||new DOMException("AbortError","AbortError")),De()};D.addEventListener("complete",Ke),D.addEventListener("error",pt),D.addEventListener("abort",pt)});nn.set(D,O)}(D),Et(D,function Zn(){return Pn||(Pn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Rn):D)}function Ot(D){if(D instanceof IDBRequest)return function Gn(D){const O=new Promise((z,le)=>{const De=()=>{D.removeEventListener("success",Ke),D.removeEventListener("error",pt)},Ke=()=>{z(Ot(D.result)),De()},pt=()=>{le(D.error),De()};D.addEventListener("success",Ke),D.addEventListener("error",pt)});return O.then(z=>{z instanceof IDBCursor&&Yn.set(z,D)}).catch(()=>{}),Lt.set(O,D),O}(D);if(dt.has(D))return dt.get(D);const O=nr(D);return O!==D&&(dt.set(D,O),Lt.set(O,D)),O}const vr=D=>Lt.get(D);function Wt(D,O,{blocked:z,upgrade:le,blocking:De,terminated:Ke}={}){const pt=indexedDB.open(D,O),pn=Ot(pt);return le&&pt.addEventListener("upgradeneeded",En=>{le(Ot(pt.result),En.oldVersion,En.newVersion,Ot(pt.transaction))}),z&&pt.addEventListener("blocked",()=>z()),pn.then(En=>{Ke&&En.addEventListener("close",()=>Ke()),De&&En.addEventListener("versionchange",()=>De())}).catch(()=>{}),pn}function Jr(D,{blocked:O}={}){const z=indexedDB.deleteDatabase(D);return O&&z.addEventListener("blocked",()=>O()),Ot(z).then(()=>{})}const zt=["get","getKey","getAll","getAllKeys","count"],Qn=["put","add","delete","clear"],Sn=new Map;function er(D,O){if(!(D instanceof IDBDatabase)||O in D||"string"!=typeof O)return;if(Sn.get(O))return Sn.get(O);const z=O.replace(/FromIndex$/,""),le=O!==z,De=Qn.includes(z);if(!(z in(le?IDBIndex:IDBObjectStore).prototype)||!De&&!zt.includes(z))return;const Ke=function(){var pt=(0,F.Z)(function*(pn,...En){const $n=this.transaction(pn,De?"readwrite":"readonly");let Fn=$n.store;return le&&(Fn=Fn.index(En.shift())),(yield Promise.all([Fn[z](...En),De&&$n.done]))[0]});return function(En){return pt.apply(this,arguments)}}();return Sn.set(O,Ke),Ke}!function _r(D){Rn=D(Rn)}(D=>({...D,get:(O,z,le)=>er(O,z)||D.get(O,z,le),has:(O,z)=>!!er(O,z)||D.has(O,z)}));const tr="/firebase-messaging-sw.js",hr="/firebase-cloud-messaging-push-scope",Mr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gr="https://fcmregistrations.googleapis.com/v1",W="google.c.a.c_id",$="google.c.a.c_l",P="google.c.a.ts",N="google.c.a.e";var Q=(()=>{return(D=Q||(Q={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Q;var D})();function ve(D){const O=new Uint8Array(D);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y(D){const z=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(z),De=new Uint8Array(le.length);for(let Ke=0;Ke<le.length;++Ke)De[Ke]=le.charCodeAt(Ke);return De}const ae="fcm_token_details_db",fe=5,Fe="fcm_token_object_Store";function st(){return st=(0,F.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ke=>Ke.name).includes(ae))return null;let O=null;return(yield Wt(ae,fe,{upgrade:(le=(0,F.Z)(function*(De,Ke,pt,pn){var En;if(Ke<2||!De.objectStoreNames.contains(Fe))return;const $n=pn.objectStore(Fe),Fn=yield $n.index("fcmSenderId").get(D);if(yield $n.clear(),Fn)if(2===Ke){const gn=Fn;if(!gn.auth||!gn.p256dh||!gn.endpoint)return;O={token:gn.fcmToken,createTime:null!==(En=gn.createTime)&&void 0!==En?En:Date.now(),subscriptionOptions:{auth:gn.auth,p256dh:gn.p256dh,endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:"string"==typeof gn.vapidKey?gn.vapidKey:ve(gn.vapidKey)}}}else if(3===Ke){const gn=Fn;O={token:gn.fcmToken,createTime:gn.createTime,subscriptionOptions:{auth:ve(gn.auth),p256dh:ve(gn.p256dh),endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:ve(gn.vapidKey)}}}else if(4===Ke){const gn=Fn;O={token:gn.fcmToken,createTime:gn.createTime,subscriptionOptions:{auth:ve(gn.auth),p256dh:ve(gn.p256dh),endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:ve(gn.vapidKey)}}}}),function(Ke,pt,pn,En){return le.apply(this,arguments)})})).close(),yield Jr(ae),yield Jr("fcm_vapid_details_db"),yield Jr("undefined"),function nt(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:O}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var le}),st.apply(this,arguments)}const $t="firebase-messaging-database",Zt=1,se="firebase-messaging-store";let ne=null;function Be(){return ne||(ne=Wt($t,Zt,{upgrade:(D,O)=>{0===O&&D.createObjectStore(se)}})),ne}function yt(D){return At.apply(this,arguments)}function At(){return At=(0,F.Z)(function*(D){const O=wr(D),le=yield(yield Be()).transaction(se).objectStore(se).get(O);if(le)return le;{const De=yield function xe(D){return st.apply(this,arguments)}(D.appConfig.senderId);if(De)return yield Xt(D,De),De}}),At.apply(this,arguments)}function Xt(D,O){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,F.Z)(function*(D,O){const z=wr(D),De=(yield Be()).transaction(se,"readwrite");return yield De.objectStore(se).put(O,z),yield De.done,O})).apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(D){const O=wr(D),le=(yield Be()).transaction(se,"readwrite");yield le.objectStore(se).delete(O),yield le.done})).apply(this,arguments)}function wr({appConfig:D}){return D.appId}const Er=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zo(D,O){return as.apply(this,arguments)}function as(){return(as=(0,F.Z)(function*(D,O){const z=yield Pi(D),le=ii(O),De={method:"POST",headers:z,body:JSON.stringify(le)};let Ke;try{Ke=yield(yield fetch(_n(D.appConfig),De)).json()}catch(pt){throw Er.create("token-subscribe-failed",{errorInfo:pt?.toString()})}if(Ke.error)throw Er.create("token-subscribe-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Er.create("token-subscribe-no-token");return Ke.token})).apply(this,arguments)}function at(){return(at=(0,F.Z)(function*(D,O){const z=yield Pi(D),le=ii(O.subscriptionOptions),De={method:"PATCH",headers:z,body:JSON.stringify(le)};let Ke;try{Ke=yield(yield fetch(`${_n(D.appConfig)}/${O.token}`,De)).json()}catch(pt){throw Er.create("token-update-failed",{errorInfo:pt?.toString()})}if(Ke.error)throw Er.create("token-update-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Er.create("token-update-no-token");return Ke.token})).apply(this,arguments)}function Yt(D,O){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,F.Z)(function*(D,O){const le={method:"DELETE",headers:yield Pi(D)};try{const Ke=yield(yield fetch(`${_n(D.appConfig)}/${O}`,le)).json();if(Ke.error)throw Er.create("token-unsubscribe-failed",{errorInfo:Ke.error.message})}catch(De){throw Er.create("token-unsubscribe-failed",{errorInfo:De?.toString()})}})).apply(this,arguments)}function _n({projectId:D}){return`${Gr}/projects/${D}/registrations`}function Pi(D){return br.apply(this,arguments)}function br(){return(br=(0,F.Z)(function*({appConfig:D,installations:O}){const z=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function ii({p256dh:D,auth:O,endpoint:z,vapidKey:le}){const De={web:{endpoint:z,auth:O,p256dh:D}};return le!==Mr&&(De.web.applicationPubKey=le),De}const Wn=6048e5;function Zi(){return Zi=(0,F.Z)(function*(D){const O=yield function un(D,O){return qt.apply(this,arguments)}(D.swRegistration,D.vapidKey),z={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:O.endpoint,auth:ve(O.getKey("auth")),p256dh:ve(O.getKey("p256dh"))},le=yield yt(D.firebaseDependencies);if(le){if(function sn(D,O){return O.vapidKey===D.vapidKey&&O.endpoint===D.endpoint&&O.auth===D.auth&&O.p256dh===D.p256dh}(le.subscriptionOptions,z))return Date.now()>=le.createTime+Wn?function j(D,O){return te.apply(this,arguments)}(D,{token:le.token,createTime:Date.now(),subscriptionOptions:z}):le.token;try{yield Yt(D.firebaseDependencies,le.token)}catch(De){console.warn(De)}return _e(D.firebaseDependencies,z)}return _e(D.firebaseDependencies,z)}),Zi.apply(this,arguments)}function ws(){return ws=(0,F.Z)(function*(D){const O=yield yt(D.firebaseDependencies);O&&(yield Yt(D.firebaseDependencies,O.token),yield function wn(D){return rn.apply(this,arguments)}(D.firebaseDependencies));const z=yield D.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()}),ws.apply(this,arguments)}function te(){return te=(0,F.Z)(function*(D,O){try{const z=yield function or(D,O){return at.apply(this,arguments)}(D.firebaseDependencies,O),le=Object.assign(Object.assign({},O),{token:z,createTime:Date.now()});return yield Xt(D.firebaseDependencies,le),z}catch(z){throw yield function Qt(D){return ws.apply(this,arguments)}(D),z}}),te.apply(this,arguments)}function _e(D,O){return tt.apply(this,arguments)}function tt(){return(tt=(0,F.Z)(function*(D,O){const le={token:yield zo(D,O),createTime:Date.now(),subscriptionOptions:O};return yield Xt(D,le),le.token})).apply(this,arguments)}function qt(){return(qt=(0,F.Z)(function*(D,O){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y(O)})})).apply(this,arguments)}function An(D){const O={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function fr(D,O){if(!O.notification)return;D.notification={};const z=O.notification.title;z&&(D.notification.title=z);const le=O.notification.body;le&&(D.notification.body=le);const De=O.notification.image;De&&(D.notification.image=De);const Ke=O.notification.icon;Ke&&(D.notification.icon=Ke)}(O,D),function on(D,O){O.data&&(D.data=O.data)}(O,D),function Fr(D,O){var z,le,De,Ke,pt;if(!(O.fcmOptions||null!==(z=O.notification)&&void 0!==z&&z.click_action))return;D.fcmOptions={};const pn=null!==(De=null===(le=O.fcmOptions)||void 0===le?void 0:le.link)&&void 0!==De?De:null===(Ke=O.notification)||void 0===Ke?void 0:Ke.click_action;pn&&(D.fcmOptions.link=pn);const En=null===(pt=O.fcmOptions)||void 0===pt?void 0:pt.analytics_label;En&&(D.fcmOptions.analyticsLabel=En)}(O,D),O}function Go(D,O){const z=[];for(let le=0;le<D.length;le++)z.push(D.charAt(le)),le<O.length&&z.push(O.charAt(le));return z.join("")}function Es(D){return Er.create("missing-app-config-values",{valueName:D})}Go("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Go("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bs{constructor(O,z,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function so(D){if(!D||!D.options)throw Es("App Configuration Object");if(!D.name)throw Es("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:z}=D;for(const le of O)if(!z[le])throw Es(le);return{appName:D.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:De,installations:z,analyticsProvider:le}}_delete(){return Promise.resolve()}}function Lr(D){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,F.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(tr,{scope:hr}),D.swRegistration.update().catch(()=>{})}catch(O){throw Er.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function Ci(){return(Ci=(0,F.Z)(function*(D,O){if(!O&&!D.swRegistration&&(yield Lr(D)),O||!D.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw Er.create("invalid-sw-registration");D.swRegistration=O}})).apply(this,arguments)}function Vs(){return(Vs=(0,F.Z)(function*(D,O){O?D.vapidKey=O:D.vapidKey||(D.vapidKey=Mr)})).apply(this,arguments)}function Wr(){return Wr=(0,F.Z)(function*(D,O){if(!navigator)throw Er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Er.create("permission-blocked");return yield function Wo(D,O){return Vs.apply(this,arguments)}(D,O?.vapidKey),yield function si(D,O){return Ci.apply(this,arguments)}(D,O?.serviceWorkerRegistration),function Ls(D){return Zi.apply(this,arguments)}(D)}),Wr.apply(this,arguments)}function Oa(){return(Oa=(0,F.Z)(function*(D,O,z){const le=function Rd(D){switch(D){case Q.NOTIFICATION_CLICKED:return"notification_open";case Q.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:z[W],message_name:z[$],message_time:z[P],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vl(){return Vl=(0,F.Z)(function*(D,O){const z=O.data;if(!z.isFirebaseMessaging)return;D.onMessageHandler&&z.messageType===Q.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(An(z)):D.onMessageHandler.next(An(z)));const le=z.data;(function Cc(D){return"object"==typeof D&&!!D&&W in D})(le)&&"1"===le[N]&&(yield function cs(D,O,z){return Oa.apply(this,arguments)}(D,z.messageType,le))}),Vl.apply(this,arguments)}const Ic="@firebase/messaging",Bl=D=>{const O=new bs(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function Ki(D,O){return Vl.apply(this,arguments)}(O,z)),O},lp=D=>{const O=D.getProvider("messaging").getImmediate();return{getToken:le=>function Us(D,O){return Wr.apply(this,arguments)}(O,le)}};function Dc(){return xa.apply(this,arguments)}function xa(){return(xa=(0,F.Z)(function*(){try{yield(0,ye.eu)()}catch{return!1}return typeof window<"u"&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jl(){(0,re._registerComponent)(new ue.wA("messaging",Bl,"PUBLIC")),(0,re._registerComponent)(new ue.wA("messaging-internal",lp,"PRIVATE")),(0,re.registerVersion)(Ic,"0.12.4"),(0,re.registerVersion)(Ic,"0.12.4","esm2017")}();var Is=L(5132),Yi=L(4408),$l=L(7565);const Vd=new class Hl extends $l.v{}(class dp extends Yi.o{constructor(O,z){super(O,z),this.scheduler=O,this.work=z}schedule(O,z=0){return z>0?super.schedule(O,z):(this.delay=z,this.state=O,this.scheduler.flush(this),this)}execute(O,z){return z>0||this.closed?super.execute(O,z):this._execute(O,z)}requestAsyncId(O,z,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(O,z,le):(O.flush(this),0)}});var zl=L(4986),Zo=L(9751),Ud=L(8505),ao=L(9468),co=L(5363);const ar=new u.GfV("7.5.0"),Ko="__angularfire_symbol__analyticsIsSupportedValue",ka="__angularfire_symbol__analyticsIsSupported",pr="__angularfire_symbol__remoteConfigIsSupportedValue",ls="__angularfire_symbol__remoteConfigIsSupported",js="__angularfire_symbol__messagingIsSupportedValue",Or="__angularfire_symbol__messagingIsSupported";globalThis[ka]||(globalThis[ka]=(0,Is.Gb)().then(D=>globalThis[Ko]=D).catch(()=>globalThis[Ko]=!1)),globalThis[Or]||(globalThis[Or]=Dc().then(D=>globalThis[js]=D).catch(()=>globalThis[js]=!1)),globalThis[ls]||(globalThis[ls]=ki().then(D=>globalThis[pr]=D).catch(()=>globalThis[pr]=!1));const Xr={async:()=>globalThis[ka],sync:()=>{const D=globalThis[Ko];if(void 0===D)throw new Error((D=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${D} in the constructor, first ensure that ${D} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${D})\`.`)("Analytics"));return D}};function Pa(D,O,z){if(O){if(1===O.length)return O[0];const Ke=O.filter(pt=>pt.app===z);if(1===Ke.length)return Ke[0]}return z.container.getProvider(D).getImmediate({optional:!0})}const uo=(D,O)=>{const z=O?[O]:(0,B.C6)(),le=[];return z.forEach(De=>{De.container.getProvider(D).instances.forEach(pt=>{le.includes(pt)||le.push(pt)})}),le};function $s(){}class Qi{constructor(O,z=Vd){this.zone=O,this.delegate=z}now(){return this.delegate.now()}schedule(O,z,le){const De=this.zone;return this.delegate.schedule(function(pt){De.runGuarded(()=>{O.apply(this,[pt])})},z,le)}}class Mc{constructor(O){this.zone=O,this.task=null}call(O,z){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),z.pipe((0,Ud.b)({next:le,complete:le,error:le})).subscribe(O).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yo=(()=>{class D{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new Qi(Zone.current)),this.insideAngular=z.run(()=>new Qi(Zone.current,zl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(z){return new(z||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Vt(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ho(D){return Vt().ngZone.run(()=>D())}function Na(D){return Vt(),function Wl(D){return function(z){return(z=z.lift(new Mc(D.ngZone))).pipe((0,ao.R)(D.outsideAngular),(0,co.Q)(D.insideAngular))}}(Vt())(D)}const ql=(D,O)=>function(){const le=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),ho(()=>D.apply(void 0,le))},jd=(D,O)=>function(){let z;const le=arguments;for(let Ke=0;Ke<arguments.length;Ke++)"function"==typeof le[Ke]&&(O&&(z||(z=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)))),le[Ke]=ql(le[Ke],z));const De=function Ra(D){return Vt().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,le));if(!O){if(De instanceof Zo.y){const Ke=Vt();return De.pipe((0,ao.R)(Ke.outsideAngular),(0,co.Q)(Ke.insideAngular))}return ho(()=>De)}return De instanceof Zo.y?De.pipe(Na):De instanceof Promise?ho(()=>new Promise((Ke,pt)=>De.then(pn=>ho(()=>Ke(pn)),pn=>ho(()=>pt(pn))))):"function"==typeof De&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),De.apply(this,arguments)}:ho(()=>De)}},1389:(Mt,Pe,L)=>{L.d(Pe,{$:()=>Vt,A:()=>q,D:()=>Te,I:()=>Wn,J:()=>j,L:()=>Ki,N:()=>Mr,P:()=>ds,Q:()=>Ld,R:()=>iu,U:()=>dp,V:()=>$l,W:()=>Hl,X:()=>Yi,Y:()=>Zo,Z:()=>Ud,_:()=>ka,a:()=>Di,a0:()=>ho,a1:()=>Bd,a2:()=>jd,a3:()=>Ke,a4:()=>pn,a5:()=>$n,a6:()=>gn,a7:()=>cr,a8:()=>Ds,a9:()=>Vr,aA:()=>ce,aB:()=>Rp,aC:()=>tr,aD:()=>Gr,aE:()=>_o,aF:()=>qa,aG:()=>Wa,aH:()=>_n,aL:()=>go,aO:()=>oo,aa:()=>us,ab:()=>P0,ac:()=>R0,ad:()=>hp,ae:()=>qm,af:()=>Zm,ai:()=>pp,aj:()=>N0,ak:()=>Ii,an:()=>Sc,ao:()=>qd,aq:()=>Kd,ar:()=>Nc,as:()=>Pt,at:()=>fe,au:()=>ve,av:()=>Me,aw:()=>ec,ax:()=>ai,ay:()=>Fe,az:()=>Se,b:()=>Xl,c:()=>ah,d:()=>Ga,e:()=>ou,f:()=>yo,g:()=>hh,h:()=>dh,i:()=>nh,j:()=>cy,k:()=>bo,l:()=>sh,m:()=>vh,o:()=>du,p:()=>Ce,r:()=>H0,s:()=>$a,u:()=>Xi});var u=L(5861),B=L(2090),F=L(6881),re=L(655),ye=L(1877),ue=L(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Te=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new ye.Yd("@firebase/auth");function qe(v,...p){Le.logLevel<=ye.in.ERROR&&Le.error(`Auth (${F.SDK_VERSION}): ${v}`,...p)}function Me(v,...p){throw ze(v,...p)}function Se(v,...p){return ze(v,...p)}function Ve(v,p,m){const E=Object.assign(Object.assign({},We()),{[p]:m});return new B.LL("auth","Firebase",E).create(p,{appName:v.name})}function Je(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Me(v,"argument-error"),Ve(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(v,...p){if("string"!=typeof v){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return mt.create(v,...p)}function ce(v,p,...m){if(!v)throw ze(p,...m)}function it(v){const p="INTERNAL ASSERTION FAILED: "+v;throw qe(p),new Error(p)}function Pt(v,p){v||it(p)}function ht(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Kt(){return"http:"===ft()||"https:"===ft()}function ft(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class be{constructor(p,m){this.shortDelay=p,this.longDelay=m,Pt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function ji(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ke(v,p){Pt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ue{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void it("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void it("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void it("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new be(3e4,6e4);function Re(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function vt(v,p,m,E){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(v,p,m,E,S={}){return It(v,S,(0,u.Z)(function*(){let R={},J={};E&&("GET"===p?J=E:R={body:JSON.stringify(E)});const me=(0,B.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),Ye=yield v._getAdditionalHeaders();return Ye["Content-Type"]="application/json",v.languageCode&&(Ye["X-Firebase-Locale"]=v.languageCode),Ue.fetch()(In(v,v.config.apiHost,m,me),Object.assign({method:p,headers:Ye,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function It(v,p,m){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(v,p,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Xe),p);try{const S=new yr(v),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const J=yield R.json();if("needConfirmation"in J)throw Un(v,"account-exists-with-different-credential",J);if(R.ok&&!("errorMessage"in J))return J;{const me=R.ok?J.errorMessage:J.error.message,[Ye,ot]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw Un(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ye)throw Un(v,"email-already-in-use",J);if("USER_DISABLED"===Ye)throw Un(v,"user-disabled",J);const kt=E[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Ve(v,kt,ot);Me(v,kt)}}catch(S){if(S instanceof B.ZR)throw S;Me(v,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function jt(v,p,m,E){return yn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(v,p,m,E,S={}){const R=yield vt(v,p,m,E,S);return"mfaPendingCredential"in R&&Me(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function In(v,p,m,E){const S=`${p}${m}?${E}`;return v.config.emulator?ke(v.config,S):`${v.config.apiScheme}://${S}`}class yr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Se(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(v,p,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const S=Se(v,p,E);return S.customData._tokenResponse=m,S}function Xn(){return(Xn=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Et(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Zn(){return(Zn=(0,u.Z)(function*(v,p=!1){const m=(0,B.m9)(v),E=yield m.getIdToken(p),S=Yn(E);ce(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,J=R?.sign_in_provider;return{claims:S,token:E,authTime:Et(Kn(S.auth_time)),issuedAtTime:Et(Kn(S.iat)),expirationTime:Et(Kn(S.exp)),signInProvider:J||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Kn(v){return 1e3*Number(v)}function Yn(v){const[p,m,E]=v.split(".");if(void 0===p||void 0===m||void 0===E)return qe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(m);return S?JSON.parse(S):(qe("Failed to decode base64 JWT payload"),null)}catch(S){return qe("Caught error parsing JWT payload as JSON",S?.toString()),null}}function ln(v,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,u.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof B.ZR&&function Lt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class Gn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Tn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Et(this.lastLoginAt),this.creationTime=Et(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(v){return _r.apply(this,arguments)}function _r(){return _r=(0,u.Z)(function*(v){var p;const m=v.auth,E=yield v.getIdToken(),S=yield ln(v,function ki(v,p){return kn.apply(this,arguments)}(m,{idToken:E}));ce(S?.users.length,m,"internal-error");const R=S.users[0];v._notifyReloadListener(R);const J=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?function vr(v){return v.map(p=>{var{providerId:m}=p,E=(0,re._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(R.providerUserInfo):[],me=function Ot(v,p){return[...v.filter(E=>!p.some(S=>S.providerId===E.providerId)),...p]}(v.providerData,J),kt=!!v.isAnonymous&&!(v.email&&R.passwordHash||me?.length),an={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:me,metadata:new Tn(R.createdAt,R.lastLoginAt),isAnonymous:kt};Object.assign(v,an)}),_r.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(v){const p=(0,B.m9)(v);yield Rn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(v,p){const m=yield It(v,{},(0,u.Z)(function*(){const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=v.config,J=In(v,S,"/v1/token",`key=${R}`),me=yield v._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()(J,{method:"POST",headers:me,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ce(p.idToken,"internal-error"),ce(typeof p.idToken<"u","internal-error"),ce(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function nn(v){const p=Yn(v);return ce(p,"internal-error"),ce(typeof p.exp<"u","internal-error"),ce(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,u.Z)(function*(){return ce(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:J}=yield function Wt(v,p){return Jr.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(S,R,Number(J))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:S,expirationTime:R}=m,J=new zt;return E&&(ce("string"==typeof E,"internal-error",{appName:p}),J.refreshToken=E),S&&(ce("string"==typeof S,"internal-error",{appName:p}),J.accessToken=S),R&&(ce("number"==typeof R,"internal-error",{appName:p}),J.expirationTime=R),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return it("not implemented")}}function Qn(v,p){ce("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Sn{constructor(p){var{uid:m,auth:E,stsTokenManager:S}=p,R=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Tn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const E=yield ln(m,m.stsTokenManager.getToken(m.auth,p));return ce(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function Qr(v){return Zn.apply(this,arguments)}(this,p)}reload(){return function Nn(v){return nr.apply(this,arguments)}(this)}_assign(p){this!==p&&(ce(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Sn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Rn(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield ln(p,function Ar(v,p){return Xn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,S,R,J,me,Ye,ot,kt;const an=null!==(E=m.displayName)&&void 0!==E?E:void 0,gi=null!==(S=m.email)&&void 0!==S?S:void 0,qs=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Io=null!==(J=m.photoURL)&&void 0!==J?J:void 0,Kc=null!==(me=m.tenantId)&&void 0!==me?me:void 0,fs=null!==(Ye=m._redirectEventId)&&void 0!==Ye?Ye:void 0,Ch=null!==(ot=m.createdAt)&&void 0!==ot?ot:void 0,hu=null!==(kt=m.lastLoginAt)&&void 0!==kt?kt:void 0,{uid:Yc,emailVerified:Do,isAnonymous:fu,providerData:pu,stsTokenManager:ic}=m;ce(Yc&&ic,p,"internal-error");const gu=zt.fromJSON(this.name,ic);ce("string"==typeof Yc,p,"internal-error"),Qn(an,p.name),Qn(gi,p.name),ce("boolean"==typeof Do,p,"internal-error"),ce("boolean"==typeof fu,p,"internal-error"),Qn(qs,p.name),Qn(Io,p.name),Qn(Kc,p.name),Qn(fs,p.name),Qn(Ch,p.name),Qn(hu,p.name);const sc=new Sn({uid:Yc,auth:p,email:gi,emailVerified:Do,displayName:an,isAnonymous:fu,photoURL:Io,phoneNumber:qs,tenantId:Kc,stsTokenManager:gu,createdAt:Ch,lastLoginAt:hu});return pu&&Array.isArray(pu)&&(sc.providerData=pu.map(To=>Object.assign({},To))),fs&&(sc._redirectEventId=fs),sc}static _fromIdTokenResponse(p,m,E=!1){return(0,u.Z)(function*(){const S=new zt;S.updateFromServerResponse(m);const R=new Sn({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:E});return yield Rn(R),R})()}}const er=new Map;function tr(v){Pt(v instanceof Function,"Expected a class definition");let p=er.get(v);return p?(Pt(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,er.set(v,p),p)}const Mr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,E){var S=this;return(0,u.Z)(function*(){S.storage[m]=E})()}_get(m){var E=this;return(0,u.Z)(function*(){const S=E.storage[m];return void 0===S?null:S})()}_remove(m){var E=this;return(0,u.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function Gr(v,p,m){return`firebase:${v}:${p}:${m}`}class W{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:S,name:R}=this.auth;this.fullUserKey=Gr(this.userKey,S.apiKey,R),this.fullPersistenceKey=Gr("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Sn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,u.Z)(function*(){if(!m.length)return new W(tr(Mr),p,E);const S=(yield Promise.all(m.map(function(){var ot=(0,u.Z)(function*(kt){if(yield kt._isAvailable())return kt});return function(kt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let R=S[0]||tr(Mr);const J=Gr(E,p.config.apiKey,p.name);let me=null;for(const ot of m)try{const kt=yield ot._get(J);if(kt){const an=Sn._fromJSON(p,kt);ot!==R&&(me=an),R=ot;break}}catch{}const Ye=S.filter(ot=>ot._shouldAllowMigration);return R._shouldAllowMigration&&Ye.length?(R=Ye[0],me&&(yield R._set(J,me.toJSON())),yield Promise.all(m.map(function(){var ot=(0,u.Z)(function*(kt){if(kt!==R)try{yield kt._remove(J)}catch{}});return function(kt){return ot.apply(this,arguments)}}())),new W(R,p,E)):new W(R,p,E)})()}}function $(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Q(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(P(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Y(p))return"Blackberry";if(ae(p))return"Webos";if(N(p))return"Safari";if((p.includes("chrome/")||x(p))&&!p.includes("edge/"))return"Chrome";if(ve(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function P(v=(0,B.z$)()){return/firefox\//i.test(v)}function N(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function x(v=(0,B.z$)()){return/crios\//i.test(v)}function Q(v=(0,B.z$)()){return/iemobile/i.test(v)}function ve(v=(0,B.z$)()){return/android/i.test(v)}function Y(v=(0,B.z$)()){return/blackberry/i.test(v)}function ae(v=(0,B.z$)()){return/webos/i.test(v)}function fe(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Fe(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function nt(v=(0,B.z$)()){return fe(v)||ve(v)||ae(v)||Y(v)||/windows phone/i.test(v)||Q(v)}function Zt(v,p=[]){let m;switch(v){case"Browser":m=$((0,B.z$)());break;case"Worker":m=`${$((0,B.z$)())}-${v}`;break;default:m=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${F.SDK_VERSION}/${E}`}function ne(){return(ne=(0,u.Z)(function*(v){return(yield vt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Be(v,p){return yt.apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(v,p){return vt(v,"GET","/v2/recaptchaConfig",Re(v,p))})).apply(this,arguments)}function At(v){return void 0!==v&&void 0!==v.getResponse}function Xt(v){return void 0!==v&&void 0!==v.enterprise}class Dt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function rn(v){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=S=>{const R=Se("internal-error");R.customData=S,m(R)},E.type="text/javascript",E.charset="UTF-8",function wn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function wr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const zo="NO_RECAPTCHA";class as{constructor(p){this.type="recaptcha-enterprise",this.auth=_n(p)}verify(p="verify",m=!1){var E=this;return(0,u.Z)(function*(){function R(){return R=(0,u.Z)(function*(me){if(!m){if(null==me.tenantId&&null!=me._agentRecaptchaConfig)return me._agentRecaptchaConfig.siteKey;if(null!=me.tenantId&&void 0!==me._tenantRecaptchaConfigs[me.tenantId])return me._tenantRecaptchaConfigs[me.tenantId].siteKey}return new Promise(function(){var Ye=(0,u.Z)(function*(ot,kt){Be(me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(an=>{if(void 0!==an.recaptchaKey){const gi=new Dt(an);return null==me.tenantId?me._agentRecaptchaConfig=gi:me._tenantRecaptchaConfigs[me.tenantId]=gi,ot(gi.siteKey)}kt(new Error("recaptcha Enterprise site key undefined"))}).catch(an=>{kt(an)})});return function(ot,kt){return Ye.apply(this,arguments)}}())}),R.apply(this,arguments)}function J(me,Ye,ot){const kt=window.grecaptcha;Xt(kt)?kt.enterprise.ready(()=>{kt.enterprise.execute(me,{action:p}).then(an=>{Ye(an)}).catch(()=>{Ye(zo)})}):ot(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((me,Ye)=>{(function S(me){return R.apply(this,arguments)})(E.auth).then(ot=>{if(!m&&Xt(window.grecaptcha))J(ot,me,Ye);else{if(typeof window>"u")return void Ye(new Error("RecaptchaVerifier is only supported in browser"));rn("https://www.google.com/recaptcha/enterprise.js?render="+ot).then(()=>{J(ot,me,Ye)}).catch(kt=>{Ye(kt)})}}).catch(ot=>{Ye(ot)})})})()}}function or(v,p,m){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(v,p,m,E=!1){const S=new as(v);let R;try{R=yield S.verify(m)}catch{R=yield S.verify(m,!0)}const J=Object.assign({},p);return Object.assign(J,E?{captchaResp:R}:{captchaResponse:R}),Object.assign(J,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(J,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),J})).apply(this,arguments)}class Yt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=R=>new Promise((J,me)=>{try{J(p(R))}catch(Ye){me(Ye)}});E.onAbort=m,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const S of m.queue)yield S(p),S.onAbort&&E.push(S.onAbort)}catch(S){E.reverse();for(const R of E)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Bn{constructor(p,m,E,S){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=E,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pi(this),this.idTokenSubscription=new Pi(this),this.beforeStateQueue=new Yt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=tr(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,R;if(!E._deleted&&(E.persistenceManager=yield W.create(E,p),!E._deleted)){if(null!==(S=E._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var E;const S=yield m.assertedPersistence.getCurrentUser();let R=S,J=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const me=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Ye=R?._redirectEventId,ot=yield m.tryRedirectSignIn(p);(!me||me===Ye)&&ot?.user&&(R=ot.user,J=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(J)try{yield m.beforeStateQueue.runMiddleware(R)}catch(me){R=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(me))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return ce(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield Rn(p)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ge(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const E=p?(0,B.m9)(p):null;return E&&ce(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return p&&ce(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(tr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,u.Z)(function*(){const m=yield Be(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Dt(m);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new as(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,u.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&tr(p)||m._popupRedirectResolver;ce(E,m,"argument-error"),m.redirectPersistenceManager=yield W.create(m,[tr(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var E,S;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(J,this,"internal-error"),J.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,E,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(E["X-Firebase-Client"]=S);const R=yield p._getAppCheckToken();return R&&(E["X-Firebase-AppCheck"]=R),E})()}_getAppCheckToken(){var p=this;return(0,u.Z)(function*(){var m;const E=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return E?.error&&function $e(v,...p){Le.logLevel<=ye.in.WARN&&Le.warn(`Auth (${F.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function _n(v){return(0,B.m9)(v)}class Pi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wn(v,p,m){const E=_n(v);ce(E._canInitEmulator,E,"emulator-config-failed"),ce(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const S=!!m?.disableWarnings,R=Ls(p),{host:J,port:me}=function Zi(v){const p=Ls(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const R=S[1];return{host:R,port:Qt(E.substr(R.length+1))}}{const[R,J]=E.split(":");return{host:R,port:Qt(J)}}}(p);E.config.emulator={url:`${R}//${J}${null===me?"":`:${me}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:J,port:me,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function ws(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Ls(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Qt(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class j{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return it("not implemented")}_getIdTokenResponse(p){return it("not implemented")}_linkToIdToken(p,m){return it("not implemented")}_getReauthenticationResolver(p){return it("not implemented")}}function te(v,p){return _e.apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:resetPassword",Re(v,p))})).apply(this,arguments)}function tt(v,p){return un.apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:update",Re(v,p))})).apply(this,arguments)}function An(v,p){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:signInWithPassword",Re(v,p))})).apply(this,arguments)}function on(v,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:sendOobCode",Re(v,p))})).apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(v,p){return on(v,p)})).apply(this,arguments)}function so(v,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(v,p){return on(v,p)})).apply(this,arguments)}function bs(v,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(v,p){return on(v,p)})).apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(v,p){return on(v,p)})).apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:signInWithEmailLink",Re(v,p))})).apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:signInWithEmailLink",Re(v,p))})).apply(this,arguments)}class Wr extends j{constructor(p,m,E,S=null){super("password",E),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Wr(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new Wr(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){var E;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const R=yield or(p,S,"signInWithPassword");return An(p,R)}return An(p,S).catch(function(){var R=(0,u.Z)(function*(J){if("auth/missing-recaptcha-token"===J.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const me=yield or(p,S,"signInWithPassword");return An(p,me)}return Promise.reject(J)});return function(J){return R.apply(this,arguments)}}());case"emailLink":return function Ci(v,p){return Wo.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return tt(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Vs(v,p){return Us.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function cs(v,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:signInWithIdp",Re(v,p))})).apply(this,arguments)}class Ki extends j{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ki(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S}=m,R=(0,re._T)(m,["providerId","signInMethod"]);if(!E||!S)return null;const J=new Ki(E,S);return J.idToken=R.idToken||void 0,J.accessToken=R.accessToken||void 0,J.secret=R.secret,J.nonce=R.nonce,J.pendingToken=R.pendingToken||null,J}_getIdTokenResponse(p){return cs(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,cs(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,cs(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function Ic(){return(Ic=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:sendVerificationCode",Re(v,p))})).apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:signInWithPhoneNumber",Re(v,p))})).apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(v,p){const m=yield jt(v,"POST","/v1/accounts:signInWithPhoneNumber",Re(v,p));if(m.temporaryProof)throw Un(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Dc={USER_NOT_FOUND:"user-not-found"};function Nd(){return(Nd=(0,u.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:signInWithPhoneNumber",Re(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Dc)})).apply(this,arguments)}class Bs extends j{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Bs({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Bs({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Ul(v,p){return Bl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function lp(v,p){return jl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function xa(v,p){return Nd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:R}=p;return E||m||S||R?new Bs({verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:R}):null}}class qo{constructor(p){var m,E,S,R,J,me;const Ye=(0,B.zd)((0,B.pd)(p)),ot=null!==(m=Ye.apiKey)&&void 0!==m?m:null,kt=null!==(E=Ye.oobCode)&&void 0!==E?E:null,an=function Fd(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ye.mode)&&void 0!==S?S:null);ce(ot&&kt&&an,"argument-error"),this.apiKey=ot,this.operation=an,this.code=kt,this.continueUrl=null!==(R=Ye.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(J=Ye.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(me=Ye.tenantId)&&void 0!==me?me:null}static parseLink(p){const m=function up(v){const p=(0,B.zd)((0,B.pd)(v)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||m||p||v}(p);try{return new qo(m)}catch{return null}}}let Ld=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Wr._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const S=qo.parseLink(E);return ce(S,"argument-error"),Wr._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Cs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Is extends Cs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Yi extends Is{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ce("providerId"in m&&"signInMethod"in m,"argument-error"),Ki._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ce(p.idToken||p.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Yi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Yi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:R,nonce:J,providerId:me}=p;if(!E&&!S&&!m&&!R||!me)return null;try{return new Yi(me)._credential({idToken:m,accessToken:E,nonce:J,pendingToken:R})}catch{return null}}}let dp=(()=>{class v extends Is{constructor(){super("facebook.com")}static credential(m){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),$l=(()=>{class v extends Is{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:S}=m;if(!E&&!S)return null;try{return v.credential(E,S)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Hl=(()=>{class v extends Is{constructor(){super("github.com")}static credential(m){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class oo extends j{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return cs(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,cs(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,cs(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S,pendingToken:R}=m;return E&&S&&R&&E===S?new oo(E,R):null}static _create(p,m){return new oo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zo extends Cs{constructor(p){ce(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Zo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Zo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=oo.fromJSON(p);return ce(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return oo._create(E,m)}catch{return null}}}let Ud=(()=>{class v extends Is{constructor(){super("twitter.com")}static credential(m,E){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=m;if(!E||!S)return null;try{return v.credential(E,S)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ao(v,p){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:signUp",Re(v,p))})).apply(this,arguments)}class ar{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,S=!1){return(0,u.Z)(function*(){const R=yield Sn._fromIdTokenResponse(p,E,S),J=Ko(E);return new ar({user:R,providerId:J,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const S=Ko(E);return new ar({user:p,providerId:S,_tokenResponse:E,operationType:m})})()}}function Ko(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ka(v){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(v){var p;const m=_n(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new ar({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield ao(m,{returnSecureToken:!0}),S=yield ar._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ls extends B.ZR{constructor(p,m,E,S){var R;super(m.code,m.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,ls.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,S){return new ls(p,m,E,S)}}function js(v,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ls._fromErrorAndOperation(v,R,p,E):R})}function Or(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Sc(v,p){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v);yield Pa(!0,m,p);const{providerUserInfo:E}=yield function ri(v,p){return dr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Or(E||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Ac.apply(this,arguments)}function lo(v,p){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(v,p,m=!1){const E=yield ln(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return ar._forOperation(v,"link",E)})).apply(this,arguments)}function Pa(v,p,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(v,p,m){yield Rn(p);const S=!1===v?"provider-already-linked":"no-such-provider";ce(Or(p.providerData).has(m)===v,p.auth,S)})).apply(this,arguments)}function $s(v,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(v,p,m=!1){const{auth:E}=v,S="reauthenticate";try{const R=yield ln(v,js(E,S,p,v),m);ce(R.idToken,E,"internal-error");const J=Yn(R.idToken);ce(J,E,"internal-error");const{sub:me}=J;return ce(v.uid===me,E,"user-mismatch"),ar._forOperation(v,S,R)}catch(R){throw"auth/user-not-found"===R?.code&&Me(E,"user-mismatch"),R}})).apply(this,arguments)}function Mc(v,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(v,p,m=!1){const E="signIn",S=yield js(v,E,p),R=yield ar._fromIdTokenResponse(v,E,S);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Vt(v,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(v,p){return Mc(_n(v),p)})).apply(this,arguments)}function ho(v,p){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v);return yield Pa(!1,m,p.providerId),lo(m,p)})).apply(this,arguments)}function Bd(v,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(v,p){return $s((0,B.m9)(v),p)})).apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(v,p){return jt(v,"POST","/v1/accounts:signInWithCustomToken",Re(v,p))})).apply(this,arguments)}function jd(v,p){return D.apply(this,arguments)}function D(){return D=(0,u.Z)(function*(v,p){const m=_n(v),E=yield function Wl(v,p){return ql.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),S=yield ar._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(S.user),S}),D.apply(this,arguments)}class O{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?z._fromServerResponse(p,m):"totpInfo"in m?le._fromServerResponse(p,m):Me(p,"internal-error")}}class z extends O{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new z(m)}}class le extends O{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new le(m)}}function De(v,p,m){var E;ce((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),ce(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ce(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ce(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ke(v,p,m){return pt.apply(this,arguments)}function pt(){return pt=(0,u.Z)(function*(v,p,m){var E;const S=_n(v),R={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const J=yield or(S,R,"getOobCode",!0);m&&De(S,J,m),yield so(S,J)}else m&&De(S,R,m),yield so(S,R).catch(function(){var J=(0,u.Z)(function*(me){if("auth/missing-recaptcha-token"!==me.code)return Promise.reject(me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ye=yield or(S,R,"getOobCode",!0);m&&De(S,Ye,m),yield so(S,Ye)}});return function(me){return J.apply(this,arguments)}}())}),pt.apply(this,arguments)}function pn(v,p,m){return En.apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(v,p,m){yield te((0,B.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function $n(v,p){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,u.Z)(function*(v,p){yield function qt(v,p){return sn.apply(this,arguments)}((0,B.m9)(v),{oobCode:p})}),Fn.apply(this,arguments)}function gn(v,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v),E=yield te(m,{oobCode:p}),S=E.requestType;switch(ce(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(E.mfaInfo,m,"internal-error");default:ce(E.email,m,"internal-error")}let R=null;return E.mfaInfo&&(R=O._fromServerResponse(_n(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function cr(v,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(v,p){const{data:m}=yield gn((0,B.m9)(v),p);return m.email})).apply(this,arguments)}function Ds(v,p,m){return $i.apply(this,arguments)}function $i(){return $i=(0,u.Z)(function*(v,p,m){var E;const S=_n(v),R={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let J;if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ot=yield or(S,R,"signUpPassword");J=ao(S,ot)}else J=ao(S,R).catch(function(){var ot=(0,u.Z)(function*(kt){if("auth/missing-recaptcha-token"===kt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const an=yield or(S,R,"signUpPassword");return ao(S,an)}return Promise.reject(kt)});return function(kt){return ot.apply(this,arguments)}}());const me=yield J.catch(ot=>Promise.reject(ot)),Ye=yield ar._fromIdTokenResponse(S,"signIn",me);return yield S._updateCurrentUser(Ye.user),Ye}),$i.apply(this,arguments)}function Vr(v,p,m){return Vt((0,B.m9)(v),Ld.credential(p,m))}function us(v,p,m){return fo.apply(this,arguments)}function fo(){return fo=(0,u.Z)(function*(v,p,m){var E;const S=_n(v),R={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function J(me,Ye){ce(Ye.handleCodeInApp,S,"argument-error"),Ye&&De(S,me,Ye)}if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const me=yield or(S,R,"getOobCode",!0);J(me,m),yield bs(S,me)}else J(R,m),yield bs(S,R).catch(function(){var me=(0,u.Z)(function*(Ye){if("auth/missing-recaptcha-token"!==Ye.code)return Promise.reject(Ye);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ot=yield or(S,R,"getOobCode",!0);J(ot,m),yield bs(S,ot)}});return function(Ye){return me.apply(this,arguments)}}())}),fo.apply(this,arguments)}function P0(v,p){return"EMAIL_SIGNIN"===qo.parseLink(p)?.operation}function R0(v,p,m){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,u.Z)(function*(v,p,m){const E=(0,B.m9)(v),S=Ld.credentialWithLink(p,m||ht());return ce(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Vt(E,S)})).apply(this,arguments)}function $d(){return($d=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:createAuthUri",Re(v,p))})).apply(this,arguments)}function hp(v,p){return fp.apply(this,arguments)}function fp(){return fp=(0,u.Z)(function*(v,p){const E={identifier:p,continueUri:Kt()?ht():"http://localhost"},{signinMethods:S}=yield function Zl(v,p){return $d.apply(this,arguments)}((0,B.m9)(v),E);return S||[]}),fp.apply(this,arguments)}function qm(v,p){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&De(m.auth,S,p);const{email:R}=yield function Cc(v,p){return Go.apply(this,arguments)}(m.auth,S);R!==v.email&&(yield v.reload())}),Kl.apply(this,arguments)}function Zm(v,p,m){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,u.Z)(function*(v,p,m){const E=(0,B.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&De(E.auth,R,m);const{email:J}=yield function Ll(v,p){return si.apply(this,arguments)}(E.auth,R);J!==v.email&&(yield v.reload())}),Hd.apply(this,arguments)}function zd(){return(zd=(0,u.Z)(function*(v,p){return vt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pp(v,p){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,u.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,B.m9)(v),R={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},J=yield ln(E,function Km(v,p){return zd.apply(this,arguments)}(E.auth,R));E.displayName=J.displayName||null,E.photoURL=J.photoUrl||null;const me=E.providerData.find(({providerId:Ye})=>"password"===Ye);me&&(me.displayName=E.displayName,me.photoURL=E.photoURL),yield E._updateTokensIfNecessary(J)}),Gd.apply(this,arguments)}function N0(v,p){return po((0,B.m9)(v),p,null)}function Ii(v,p){return po((0,B.m9)(v),null,p)}function po(v,p,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(v,p,m){const{auth:E}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const J=yield ln(v,tt(E,R));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class xc{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class gp extends xc{constructor(p,m,E,S){super(p,m,E),this.username=S}}class F0 extends xc{constructor(p,m){super(p,"facebook.com",m)}}class L0 extends gp{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class V0 extends xc{constructor(p,m){super(p,"google.com",m)}}class Wd extends gp{constructor(p,m,E){super(p,"twitter.com",m,E)}}function qd(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ym(v){var p,m;if(!v)return null;const{providerId:E}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const J=null===(m=null===(p=Yn(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(J)return new xc(R,"anonymous"!==J&&"custom"!==J?J:null)}if(!E)return null;switch(E){case"facebook.com":return new F0(R,S);case"github.com":return new L0(R,S);case"google.com":return new V0(R,S);case"twitter.com":return new Wd(R,S,v.screenName||null);case"custom":case"anonymous":return new xc(R,null);default:return new xc(R,E,S)}}(m)}class Jo{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new Jo("enroll",p,m)}static _fromMfaPendingCredential(p){return new Jo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Jo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Jo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Zd{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=_n(p),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(me=>O._fromServerResponse(E,me));ce(S.mfaPendingCredential,E,"internal-error");const J=Jo._fromMfaPendingCredential(S.mfaPendingCredential);return new Zd(J,R,function(){var me=(0,u.Z)(function*(Ye){const ot=yield Ye._process(E,J);delete S.mfaInfo,delete S.mfaPendingCredential;const kt=Object.assign(Object.assign({},S),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(m.operationType){case"signIn":const an=yield ar._fromIdTokenResponse(E,m.operationType,kt);return yield E._updateCurrentUser(an.user),an;case"reauthenticate":return ce(m.user,E,"internal-error"),ar._forOperation(m.user,m.operationType,kt);default:Me(E,"internal-error")}});return function(Ye){return me.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}function Kd(v,p){var m;const E=(0,B.m9)(v),S=p;return ce(p.customData.operationType,E,"argument-error"),ce(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Zd._fromError(E,S)}class La{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>O._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new La(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Jo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,u.Z)(function*(){const S=p,R=yield E.getSession(),J=yield ln(E.user,S._process(E.user.auth,R,m));return yield E.user._updateTokensIfNecessary(J),E.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const E="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const R=yield ln(m.user,function Xo(v,p){return vt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(v,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:J})=>J!==E),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const Rc=new WeakMap;function Nc(v){const p=(0,B.m9)(v);return Rc.has(p)||Rc.set(p,La._fromUser(p)),Rc.get(p)}const Jl="__sak";class Fc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Jl,"1"),this.storage.removeItem(Jl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xl=(()=>{class v extends Fc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qd(){const v=(0,B.z$)();return N(v)||fe(v)}()&&function $t(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),R=this.localCache[E];S!==R&&m(E,R,S)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((me,Ye,ot)=>{this.notifyListeners(me,ot)});const S=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(S);if(m.newValue!==me)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!E)return}const R=()=>{const me=this.storage.getItem(S);!E&&this.localCache[S]===me||this.notifyListeners(S,me)},J=this.storage.getItem(S);!function st(){return(0,B.w1)()&&10===document.documentMode}()||J===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var S=()=>super._set,R=this;return(0,u.Z)(function*(){yield S().call(R,m,E),R.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,S=this;return(0,u.Z)(function*(){const R=yield E().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var E=()=>super._remove,S=this;return(0,u.Z)(function*(){yield E().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),Di=(()=>{class v extends Fc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let eu=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(R=>R.isListeningto(m));if(E)return E;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,u.Z)(function*(){const S=m,{eventId:R,eventType:J,data:me}=S.data,Ye=E.handlersMap[J];if(!Ye?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:J});const ot=Array.from(Ye).map(function(){var an=(0,u.Z)(function*(gi){return gi(S.origin,me)});return function(gi){return an.apply(this,arguments)}}()),kt=yield function Jd(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(ot);S.ports[0].postMessage({status:"done",eventId:R,eventType:J,response:kt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function go(v="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return v+m}class Xd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var S=this;return(0,u.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let J,me;return new Promise((Ye,ot)=>{const kt=go("",20);R.port1.start();const an=setTimeout(()=>{ot(new Error("unsupported_event"))},E);me={messageChannel:R,onMessage(gi){const qs=gi;if(qs.data.eventId===kt)switch(qs.data.status){case"ack":clearTimeout(an),J=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ye(qs.data.response);break;default:clearTimeout(an),clearTimeout(J),ot(new Error("invalid_response"))}}},S.handlers.add(me),R.port1.addEventListener("message",me.onMessage),S.target.postMessage({eventType:p,eventId:kt,data:m},[R.port2])}).finally(()=>{me&&S.removeMessageHandler(me)})})()}}function Cr(){return window}function tu(){return typeof Cr().WorkerGlobalScope<"u"&&"function"==typeof Cr().importScripts}function Uc(){return(Uc=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ip="firebaseLocalStorageDb",Va=1,Hs="firebaseLocalStorage",Xm="fbase_key";class ea{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function nu(v,p){return v.transaction([Hs],p?"readwrite":"readonly").objectStore(Hs)}function eh(){const v=indexedDB.open(Ip,Va);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Hs,{keyPath:Xm})}catch(S){m(S)}}),v.addEventListener("success",(0,u.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Hs)?p(E):(E.close(),yield function Ua(){const v=indexedDB.deleteDatabase(Ip);return new ea(v).toPromise()}(),p(yield eh()))}))})}function th(v,p,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(v,p,m){const E=nu(v,!0).put({[Xm]:p,value:m});return new ea(E).toPromise()})).apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(v,p){const m=nu(v,!1).get(p),E=yield new ea(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function jc(v,p){const m=nu(v,!0).delete(p);return new ea(m).toPromise()}const nh=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield eh()),m.db})()}_withRetries(m){var E=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const R=yield E._openDb();return yield m(R)}catch(R){if(S++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return tu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=eu._getInstance(function Cp(){return tu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var E,S;if(m.activeServiceWorker=yield function Ep(){return Uc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Xd(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);R&&null!==(E=R[0])&&void 0!==E&&E.fulfilled&&null!==(S=R[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function bp(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield eh();return yield th(m,Jl,"1"),yield jc(m,Jl),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(R=>th(R,m,E)),S.localCache[m]=E,S.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,u.Z)(function*(){const S=yield E._withRetries(R=>function ey(v,p){return Bc.apply(this,arguments)}(R,m));return E.localCache[m]=S,S})()}_remove(m){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(S=>jc(S,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const E=yield m._withRetries(J=>{const me=nu(J,!1).getAll();return new ea(me).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:J,value:me}of E)R.add(J),JSON.stringify(m.localCache[J])!==JSON.stringify(me)&&(m.notifyListeners(J,me),S.push(J));for(const J of Object.keys(m.localCache))m.localCache[J]&&!R.has(J)&&(m.notifyListeners(J,null),S.push(J));return S})()}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),rh=1e12;class $0{constructor(p){this.auth=p,this.counter=rh,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new Ap(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||rh;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||rh))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var E;return null===(E=m._widgets.get(p||rh))||void 0===E||E.execute(),""})()}}class Ap{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ce(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ty(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ny=wr("rcb"),LI=new be(3e4,6e4);class $c{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Cr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ce(function UI(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&At(Cr().grecaptcha)?Promise.resolve(Cr().grecaptcha):new Promise((E,S)=>{const R=Cr().setTimeout(()=>{S(Se(p,"network-request-failed"))},LI.get());Cr()[ny]=()=>{Cr().clearTimeout(R),delete Cr()[ny];const me=Cr().grecaptcha;if(!me||!At(me))return void S(Se(p,"internal-error"));const Ye=me.render;me.render=(ot,kt)=>{const an=Ye(ot,kt);return this.counter++,an},this.hostLanguage=m,E(me)},rn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ny,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(Se(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Cr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class BI{load(p){return(0,u.Z)(function*(){return new $0(p)})()}clearedOneInstance(){}}const qr="recaptcha",Mp={theme:"light",type:"image"};class iu{constructor(p,m=Object.assign({},Mp),E){this.parameters=m,this.type=qr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(E),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ce(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new BI:new $c,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(R=>{const J=me=>{me&&(p.tokenChangeListeners.delete(J),R(me))};p.tokenChangeListeners.add(J),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=Cr()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){ce(Kt()&&!tu(),p.auth,"internal-error"),yield function ry(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function se(v){return ne.apply(this,arguments)}(p.auth);ce(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hi{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Bs._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function $a(v,p,m){return ih.apply(this,arguments)}function ih(){return(ih=(0,u.Z)(function*(v,p,m){const E=_n(v),S=yield oh(E,p,(0,B.m9)(m));return new Hi(S,R=>Vt(E,R))})).apply(this,arguments)}function sh(v,p,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(v,p,m){const E=(0,B.m9)(v);yield Pa(!1,E,"phone");const S=yield oh(E.auth,p,(0,B.m9)(m));return new Hi(S,R=>ho(E,R))})).apply(this,arguments)}function H0(v,p,m){return iy.apply(this,arguments)}function iy(){return(iy=(0,u.Z)(function*(v,p,m){const E=(0,B.m9)(v),S=yield oh(E.auth,p,(0,B.m9)(m));return new Hi(S,R=>Bd(E,R))})).apply(this,arguments)}function oh(v,p,m){return Op.apply(this,arguments)}function Op(){return Op=(0,u.Z)(function*(v,p,m){var E;const S=yield m.verify();try{let R;if(ce("string"==typeof S,v,"argument-error"),ce(m.type===qr,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const J=R.session;if("phoneNumber"in R)return ce("enroll"===J.type,v,"internal-error"),(yield function Yd(v,p){return vt(v,"POST","/v2/accounts/mfaEnrollment:start",Re(v,p))}(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ce("signin"===J.type,v,"internal-error");const me=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return ce(me,v,"missing-multi-factor-info"),(yield function Dp(v,p){return vt(v,"POST","/v2/accounts/mfaSignIn:start",Re(v,p))}(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield function Vl(v,p){return Ic.apply(this,arguments)}(v,{phoneNumber:R.phoneNumber,recaptchaToken:S});return J}}finally{m._reset()}}),Op.apply(this,arguments)}function Xi(v,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(v,p){yield lo((0,B.m9)(v),p)})).apply(this,arguments)}let ds=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=_n(m)}verifyPhoneNumber(m,E){return oh(this.auth,m,(0,B.m9)(E))}static credential(m,E){return Bs._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:S}=m;return E&&S?Bs._fromTokenResponse(E,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function bt(v,p){return p?tr(p):(ce(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class oi extends j{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return cs(p,this._buildIdpRequest())}_linkToIdToken(p,m){return cs(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return cs(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function es(v){return Mc(v.auth,new oi(v),v.bypassAuthState)}function sy(v){const{auth:p,user:m}=v;return ce(m,p,"internal-error"),$s(m,new oi(v),v.bypassAuthState)}function su(v){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(v){const{auth:p,user:m}=v;return ce(m,p,"internal-error"),lo(m,new oi(v),v.bypassAuthState)})).apply(this,arguments)}class xp{constructor(p,m,E,S,R=!1){this.auth=p,this.resolver=E,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(E,S){p.pendingPromise={resolve:E,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(E,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:R,tenantId:J,error:me,type:Ye}=p;if(me)return void m.reject(me);const ot={auth:m.auth,requestUri:E,sessionId:S,tenantId:J||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ye)(ot))}catch(kt){m.reject(kt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return es;case"linkViaPopup":case"linkViaRedirect":return su;case"reauthViaPopup":case"reauthViaRedirect":return sy;default:Me(this.auth,"internal-error")}}resolve(p){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oy=new be(2e3,1e4);function ah(v,p,m){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(v,p,m){const E=_n(v);Je(v,p,Cs);const S=bt(E,m);return new ch(E,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function ou(v,p,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(v,p,m){const E=(0,B.m9)(v);Je(E.auth,p,Cs);const S=bt(E.auth,m);return new ch(E.auth,"reauthViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}function Ga(v,p,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(v,p,m){const E=(0,B.m9)(v);Je(E.auth,p,Cs);const S=bt(E.auth,m);return new ch(E.auth,"linkViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}let ch=(()=>{class v extends xp{constructor(m,E,S,R,J){super(m,E,R,J),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const E=yield m.execute();return ce(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,u.Z)(function*(){Pt(1===m.filter.length,"Popup operations only handle one event");const E=go();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,oy.get())};m()}}return v.currentPopupAction=null,v})();const kp="pendingRedirect",Ts=new Map;class Hc extends xp{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let E=Ts.get(m.auth._key());if(!E){try{const R=(yield function Ir(v,p){return lh.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(R)}catch(S){E=()=>Promise.reject(S)}Ts.set(m.auth._key(),E)}return m.bypassAuthState||Ts.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const S=yield E.auth._redirectUserForId(p.eventId);if(S)return E.user=S,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function lh(){return(lh=(0,u.Z)(function*(v,p){const m=Za(p),E=ay(v);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(m));return yield E._remove(m),S})).apply(this,arguments)}function zc(v,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(v,p){return ay(v)._set(Za(p),"true")})).apply(this,arguments)}function Wa(){Ts.clear()}function qa(v,p){Ts.set(v._key(),p)}function ay(v){return tr(v._redirectPersistence)}function Za(v){return Gr(kp,v.config.apiKey,v.name)}function yo(v,p,m){return function Pp(v,p,m){return uh.apply(this,arguments)}(v,p,m)}function uh(){return(uh=(0,u.Z)(function*(v,p,m){const E=_n(v);Je(v,p,Cs),yield E._initializationPromise;const S=bt(E,m);return yield zc(S,E),S._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function dh(v,p,m){return function Gc(v,p,m){return Ni.apply(this,arguments)}(v,p,m)}function Ni(){return(Ni=(0,u.Z)(function*(v,p,m){const E=(0,B.m9)(v);Je(E.auth,p,Cs),yield E.auth._initializationPromise;const S=bt(E.auth,m);yield zc(S,E.auth);const R=yield pi(E);return S._openRedirect(E.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function hh(v,p,m){return function ti(v,p,m){return Ka.apply(this,arguments)}(v,p,m)}function Ka(){return(Ka=(0,u.Z)(function*(v,p,m){const E=(0,B.m9)(v);Je(E.auth,p,Cs),yield E.auth._initializationPromise;const S=bt(E.auth,m);yield Pa(!1,E,p.providerId),yield zc(S,E.auth);const R=yield pi(E);return S._openRedirect(E.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function cy(v,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(v,p){return yield _n(v)._initializationPromise,_o(v,p,!1)})).apply(this,arguments)}function _o(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(v,p,m=!1){const E=_n(v),S=bt(E,p),J=yield new Hc(E,S,m).execute();return J&&!m&&(delete J.user._redirectEventId,yield E._persistUserIfCurrent(J.user),yield E._setRedirectUser(null,p)),J})).apply(this,arguments)}function pi(v){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(v){const p=go(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Rp{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ya(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zs(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!zs(p)){const S=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Se(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(au(p))}saveEventToCache(p){this.cachedEventUids.add(au(p)),this.lastProcessedEventTime=Date.now()}}function au(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function zs({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function ai(v){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(v,p={}){return vt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const z0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wc=/^https?/;function Qa(){return(Qa=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield ai(v);for(const m of p)try{if(Np(m))return}catch{}Me(v,"unauthorized-domain")})).apply(this,arguments)}function Np(v){const p=ht(),{protocol:m,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&J.hostname===E}if(!Wc.test(m))return!1;if(z0.test(v))return E===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const Fp=new be(3e4,6e4);function qc(){const v=Cr().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let wo=null;const Ja=new be(5e3,15e3),Lp="__/auth/iframe",ph="emulator/auth/iframe",Ss={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Up(v){const p=v.config;ce(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?ke(p,ph):`https://${v.config.authDomain}/${Lp}`,E={apiKey:p.apiKey,appName:v.name,v:F.SDK_VERSION},S=Vp.get(v.config.apiHost);S&&(E.eid=S);const R=v._getFrameworks();return R.length&&(E.fw=R.join(",")),`${m}?${(0,B.xO)(E).slice(1)}`}function Bp(){return Bp=(0,u.Z)(function*(v){const p=yield function ly(v){return wo=wo||function Ut(v){return new Promise((p,m)=>{var E,S,R;function J(){qc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{qc(),m(Se(v,"network-request-failed"))},timeout:Fp.get()})}if(null!==(S=null===(E=Cr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Cr().gapi)||void 0===R||!R.load){const me=wr("iframefcb");return Cr()[me]=()=>{gapi.load?J():m(Se(v,"network-request-failed"))},rn(`https://apis.google.com/js/api.js?onload=${me}`).catch(Ye=>m(Ye))}J()}}).catch(p=>{throw wo=null,p})}(v),wo}(v),m=Cr().gapi;return ce(m,v,"internal-error"),p.open({where:document.body,url:Up(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ss,dontclear:!0},E=>new Promise(function(){var S=(0,u.Z)(function*(R,J){yield E.restyle({setHideOnLeave:!1});const me=Se(v,"network-request-failed"),Ye=Cr().setTimeout(()=>{J(me)},Ja.get());function ot(){Cr().clearTimeout(Ye),R(E)}E.ping(ot).then(ot,()=>{J(me)})});return function(R,J){return S.apply(this,arguments)}}()))}),Bp.apply(this,arguments)}const ci={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xr=500,Xa=600,jp="_blank",lu="http://localhost";class ni{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $p="__/auth/handler",Hp="emulator/auth/handler",yh=encodeURIComponent("fac");function ec(v,p,m,E,S,R){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(v,p,m,E,S,R){ce(v.config.authDomain,v,"auth-domain-config-required"),ce(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:F.SDK_VERSION,eventId:S};if(p instanceof Cs){p.setDefaultLanguage(v.languageCode),J.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[kt,an]of Object.entries(R||{}))J[kt]=an}if(p instanceof Is){const kt=p.getScopes().filter(an=>""!==an);kt.length>0&&(J.scopes=kt.join(","))}v.tenantId&&(J.tid=v.tenantId);const me=J;for(const kt of Object.keys(me))void 0===me[kt]&&delete me[kt];const Ye=yield v._getAppCheckToken(),ot=Ye?`#${yh}=${encodeURIComponent(Ye)}`:"";return`${function mn({config:v}){return v.emulator?ke(v,Hp):`https://${v.authDomain}/${$p}`}(v)}?${(0,B.xO)(me).slice(1)}${ot}`})).apply(this,arguments)}const Eo="webStorageSupport",bo=class uy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Di,this._completeRedirectFn=_o,this._overrideRedirectResult=qa}_openPopup(p,m,E,S){var R=this;return(0,u.Z)(function*(){var J;Pt(null===(J=R.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const me=yield ec(p,m,E,ht(),S);return function Zc(v,p,m,E=xr,S=Xa){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),J=Math.max((window.screen.availWidth-E)/2,0).toString();let me="";const Ye=Object.assign(Object.assign({},ci),{width:E.toString(),height:S.toString(),top:R,left:J}),ot=(0,B.z$)().toLowerCase();m&&(me=x(ot)?jp:m),P(ot)&&(p=p||lu,Ye.scrollbars="yes");const kt=Object.entries(Ye).reduce((gi,[qs,Io])=>`${gi}${qs}=${Io},`,"");if(function xe(v=(0,B.z$)()){var p;return fe(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ot)&&"_self"!==me)return function mh(v,p){const m=document.createElement("a");m.href=v,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",me),new ni(null);const an=window.open(p||"",me,kt);ce(an,v,"popup-blocked");try{an.focus()}catch{}return new ni(an)}(p,me,go())})()}_openRedirect(p,m,E,S){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(p),function Vc(v){Cr().location.href=v}(yield ec(p,m,E,ht(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(Pt(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const E=yield function gh(v){return Bp.apply(this,arguments)}(p),S=new Rp(p);return E.register("authEvent",R=>(ce(R?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=E,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Eo,{type:Eo},S=>{var R;const J=null===(R=S?.[0])||void 0===R?void 0:R[Eo];void 0!==J&&m(!!J),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function cu(v){return Qa.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return nt()||N()||fe()}};class _h{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return it("unexpected MultiFactorSessionType")}}}class Ws extends _h{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ws(p)}_finalizeEnroll(p,m,E){return function Ql(v,p){return vt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Re(v,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ja(v,p){return vt(v,"POST","/v2/accounts/mfaSignIn:finalize",Re(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vh=(()=>{class v{constructor(){}static assertion(m){return Ws._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var sa="@firebase/auth";class Co{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bh=(0,B.Pz)("authIdTokenMaxAge")||300;let Gp=null;const dy=v=>function(){var p=(0,u.Z)(function*(m){const E=m&&(yield m.getIdTokenResult()),S=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(S&&S>bh)return;const R=E?.token;Gp!==R&&(Gp=R,yield fetch(v,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function du(v=(0,F.getApp)()){const p=(0,F._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function br(v,p){const m=(0,F._getProvider)(v,"auth");if(m.isInitialized()){const S=m.getImmediate(),R=m.getOptions();if((0,B.vZ)(R,p??{}))return S;Me(S,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:bo,persistence:[nh,Xl,Di]}),E=(0,B.Pz)("authTokenSyncURL");if(E){const R=dy(E);(function kc(v,p,m){(0,B.m9)(v).beforeAuthStateChanged(p,m)})(m,R,()=>R(m.currentUser)),function Yl(v,p,m,E){(0,B.m9)(v).onIdTokenChanged(p,m,E)}(m,J=>R(J))}const S=(0,B.q4)("auth");return S&&Wn(m,`http://${S}`),m}!function Eh(v){(0,F._registerComponent)(new ue.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),R=p.getProvider("app-check-internal"),{apiKey:J,authDomain:me}=E.options;ce(J&&!J.includes(":"),"invalid-api-key",{appName:E.name});const Ye={apiKey:J,authDomain:me,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zt(v)},ot=new Bn(E,S,R,Ye);return function ii(v,p){const m=p?.persistence||[],E=(Array.isArray(m)?m:[m]).map(tr);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,p?.popupRedirectResolver)}(ot,m),ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new ue.wA("auth-internal",p=>{const m=_n(p.getProvider("auth").getImmediate());return new Co(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(sa,"0.23.2",function rc(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,F.registerVersion)(sa,"0.23.2","esm2017")}("Browser")},2090:(Mt,Pe,L)=>{L.d(Pe,{$s:()=>tr,BH:()=>Ve,G6:()=>ke,L:()=>Ie,LL:()=>Cn,P0:()=>qe,Pz:()=>Se,Sg:()=>Je,UG:()=>it,US:()=>ue,ZB:()=>ee,ZR:()=>vt,aH:()=>Me,b$:()=>Kt,eu:()=>Xe,hl:()=>Ue,jU:()=>Pt,m9:()=>Gr,ne:()=>ln,pd:()=>Yn,q4:()=>$e,r3:()=>ri,ru:()=>ht,tV:()=>K,uI:()=>ce,vZ:()=>Et,w1:()=>ji,xO:()=>Zn,xb:()=>ki,z$:()=>ze,zI:()=>He,zd:()=>Kn});const re=function(W){const $=[];let P=0;for(let N=0;N<W.length;N++){let x=W.charCodeAt(N);x<128?$[P++]=x:x<2048?($[P++]=x>>6|192,$[P++]=63&x|128):55296==(64512&x)&&N+1<W.length&&56320==(64512&W.charCodeAt(N+1))?(x=65536+((1023&x)<<10)+(1023&W.charCodeAt(++N)),$[P++]=x>>18|240,$[P++]=x>>12&63|128,$[P++]=x>>6&63|128,$[P++]=63&x|128):($[P++]=x>>12|224,$[P++]=x>>6&63|128,$[P++]=63&x|128)}return $},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let x=0;x<W.length;x+=3){const Q=W[x],ve=x+1<W.length,Y=ve?W[x+1]:0,ae=x+2<W.length,fe=ae?W[x+2]:0;let st=(15&Y)<<2|fe>>6,nt=63&fe;ae||(nt=64,ve||(st=64)),N.push(P[Q>>2],P[(3&Q)<<4|Y>>4],P[st],P[nt])}return N.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(re(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let P=0,N=0;for(;P<W.length;){const x=W[P++];if(x<128)$[N++]=String.fromCharCode(x);else if(x>191&&x<224){const Q=W[P++];$[N++]=String.fromCharCode((31&x)<<6|63&Q)}else if(x>239&&x<365){const ae=((7&x)<<18|(63&W[P++])<<12|(63&W[P++])<<6|63&W[P++])-65536;$[N++]=String.fromCharCode(55296+(ae>>10)),$[N++]=String.fromCharCode(56320+(1023&ae))}else{const Q=W[P++],ve=W[P++];$[N++]=String.fromCharCode((15&x)<<12|(63&Q)<<6|63&ve)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const P=$?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let x=0;x<W.length;){const Q=P[W.charAt(x++)],Y=x<W.length?P[W.charAt(x)]:0;++x;const fe=x<W.length?P[W.charAt(x)]:64;++x;const xe=x<W.length?P[W.charAt(x)]:64;if(++x,null==Q||null==Y||null==fe||null==xe)throw new Ee;N.push(Q<<2|Y>>4),64!==fe&&(N.push(Y<<4&240|fe>>2),64!==xe&&N.push(fe<<6&192|xe))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(W){return function(W){const $=re(W);return ue.encodeByteArray($,!0)}(W).replace(/\./g,"")},K=function(W){try{return ue.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function ee(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const P in $)!$.hasOwnProperty(P)||!Ne(P)||(W[P]=ee(W[P],$[P]));return W}function Ne(W){return"__proto__"!==W}const Le=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=W&&K(W[1]);return $&&JSON.parse($)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},$e=W=>{var $,P;return null===(P=null===($=Le())||void 0===$?void 0:$.emulatorHosts)||void 0===P?void 0:P[W]},qe=W=>{const $=$e(W);if(!$)return;const P=$.lastIndexOf(":");if(P<=0||P+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const N=parseInt($.substring(P+1),10);return"["===$[0]?[$.substring(1,P-1),N]:[$.substring(0,P),N]},Me=()=>{var W;return null===(W=Le())||void 0===W?void 0:W.config},Se=W=>{var $;return null===($=Le())||void 0===$?void 0:$[`_${W}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,P)=>{this.resolve=$,this.reject=P})}wrapCallback($){return(P,N)=>{P?this.reject(P):this.resolve(N),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(P):$(P,N))}}}function Je(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=$||"demo-project",x=W.iat||0,Q=W.sub||W.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ve=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:x,exp:x+3600,auth_time:x,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},W);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(ve)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function it(){var W;const $=null===(W=Le())||void 0===W?void 0:W.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function ht(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ji(){const W=ze();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function ke(){return!it()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Xe(){return new Promise((W,$)=>{try{let P=!0;const N="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(N);x.onsuccess=()=>{x.result.close(),P||self.indexedDB.deleteDatabase(N),W(!0)},x.onupgradeneeded=()=>{P=!1},x.onerror=()=>{var Q;$((null===(Q=x.error)||void 0===Q?void 0:Q.message)||"")}}catch(P){$(P)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vt extends Error{constructor($,P,N){super(P),this.code=$,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cn.prototype.create)}}class Cn{constructor($,P,N){this.service=$,this.serviceName=P,this.errors=N}create($,...P){const N=P[0]||{},x=`${this.service}/${$}`,Q=this.errors[$],ve=Q?function It(W,$){return W.replace(wt,(P,N)=>{const x=$[N];return null!=x?String(x):`<${N}?>`})}(Q,N):"Error";return new vt(x,`${this.serviceName}: ${ve} (${x}).`,N)}}const wt=/\{\$([^}]+)}/g;function ri(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function ki(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function Et(W,$){if(W===$)return!0;const P=Object.keys(W),N=Object.keys($);for(const x of P){if(!N.includes(x))return!1;const Q=W[x],ve=$[x];if(Pn(Q)&&Pn(ve)){if(!Et(Q,ve))return!1}else if(Q!==ve)return!1}for(const x of N)if(!P.includes(x))return!1;return!0}function Pn(W){return null!==W&&"object"==typeof W}function Zn(W){const $=[];for(const[P,N]of Object.entries(W))Array.isArray(N)?N.forEach(x=>{$.push(encodeURIComponent(P)+"="+encodeURIComponent(x))}):$.push(encodeURIComponent(P)+"="+encodeURIComponent(N));return $.length?"&"+$.join("&"):""}function Kn(W){const $={};return W.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[x,Q]=N.split("=");$[decodeURIComponent(x)]=decodeURIComponent(Q)}}),$}function Yn(W){const $=W.indexOf("?");if(!$)return"";const P=W.indexOf("#",$);return W.substring($,P>0?P:void 0)}function ln(W,$){const P=new dt(W,$);return P.subscribe.bind(P)}class dt{constructor($,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{$(this)}).catch(N=>{this.error(N)})}next($){this.forEachObserver(P=>{P.next($)})}error($){this.forEachObserver(P=>{P.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,P,N){let x;if(void 0===$&&void 0===P&&void 0===N)throw new Error("Missing Observer.");x=function Gn(W,$){if("object"!=typeof W||null===W)return!1;for(const P of $)if(P in W&&"function"==typeof W[P])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:P,complete:N},void 0===x.next&&(x.next=Tn),void 0===x.error&&(x.error=Tn),void 0===x.complete&&(x.complete=Tn);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),Q}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,$)}sendOne($,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{P(this.observers[$])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}const zt=1e3,Qn=2,Sn=144e5,er=.5;function tr(W,$=zt,P=Qn){const N=$*Math.pow(P,W),x=Math.round(er*N*(Math.random()-.5)*2);return Math.min(Sn,N+x)}function Gr(W){return W&&W._delegate?W._delegate:W}},1067:(Mt,Pe,L)=>{var u=L(4650);let B=null;function F(){return B}class ye{}const ue=new u.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return(0,u.LFG)(K)}()},providedIn:"platform"}),n})();const Ie=new u.OlP("Location Initialized");let K=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){q()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){q()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ee(){return new K((0,u.LFG)(ue))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let mt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Le)},providedIn:"root"}),n})();const we=new u.OlP("appBaseHref");let Le=(()=>{class n extends mt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+We(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+We(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+We(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$e=(()=>{class n extends mt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+We(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+We(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(we,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(Ve(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+We(r))}normalize(t){return n.stripTrailingSlash(function Se(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ve(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=We,n.joinWithSlash=Ne,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(u.LFG(mt))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Me(){return new qe((0,u.LFG)(mt))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}const or=/\s+/,at=[];let Yt=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=at,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(or):at}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(or):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(or).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class br{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ii=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new br(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),Wn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Wn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Wn(n,e){n.context.$implicit=e.item}let Zi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ws("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ws("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Qt{constructor(){this.$implicit=null,this.ngIf=null}}function ws(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class j{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let te=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),_e=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new j(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(te,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),An=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),l=-1===i.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Fd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const up="browser",qo="server";function Cs(n){return n===up}function Is(n){return n===qo}let Hl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Vd((0,u.LFG)(ue),window)}),n})();class Vd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function zl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oo(this.window.history)||oo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function oo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yp extends ye{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yl extends yp{static makeCurrent(){!function re(n){B||(B=n)}(new Yl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Pc(){return kc=kc||document.querySelector("base"),kc?kc.getAttribute("href"):null}();return null==t?null:function U0(n){Qo=Qo||document.createElement("a"),Qo.setAttribute("href",n);const e=Qo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function as(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Qo,kc=null;const B0=new u.OlP("TRANSITION_ID"),vp=[{provide:u.ip1,useFactory:function _p(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[B0,ue,u.zs3],multi:!0}];let Zd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Kd=new u.OlP("EventManagerPlugins");let Yd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kd),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ql{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let wp=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fa=(()=>{class n extends wp{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Xo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},La=/%COMP%/g,Lc=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Xl(n,e){return e.flat(100).map(t=>t.replace(La,n))}function Jm(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Di=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Jd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof tu?i.applyToHost(t):i instanceof Vc&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,f=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case u.ifc.Emulated:a=new tu(l,f,r,this.appId,y);break;case u.ifc.ShadowDom:return new Cr(l,f,t,r);default:a=new Vc(l,f,r,y)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yd),u.LFG(Fa),u.LFG(u.AFp),u.LFG(Lc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Jd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Xd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Xo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Xo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Jm(r)):this.eventManager.addEventListener(e,t,Jm(r))}}function Xd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Cr extends Jd{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Xl(i.id,i.styles);for(const l of a){const f=document.createElement("style");f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vc extends Jd{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Xl(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class tu extends Vc{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function j0(n){return"_ngcontent-%COMP%".replace(La,n)}(l),this.hostAttr=function Qm(n){return"_nghost-%COMP%".replace(La,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ep=(()=>{class n extends Ql{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Uc=["alt","control","meta","shift"],bp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ip=(()=>{class n extends Ql{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Uc.forEach(w=>{const I=r.indexOf(w);I>-1&&(r.splice(I,1),l+=w+".")}),l+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=bp[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Uc.forEach(l=>{l!==i&&(0,Cp[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ey=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:up},{provide:u.g9A,useValue:function Ua(){Yl.makeCurrent()},multi:!0},{provide:ue,useFactory:function th(){return(0,u.RDi)(document),document},deps:[]}]),Bc=new u.OlP(""),jc=[{provide:u.rWj,useClass:class Jo{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ta=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function eh(){return new u.qLn},deps:[]},{provide:Kd,useClass:Ep,multi:!0,deps:[ue,u.R0b,u.Lbi]},{provide:Kd,useClass:Ip,multi:!0,deps:[ue]},{provide:Di,useClass:Di,deps:[Yd,Fa,u.AFp,Lc]},{provide:u.FYo,useExisting:Di},{provide:wp,useExisting:Fa},{provide:Fa,useClass:Fa,deps:[ue]},{provide:Yd,useClass:Yd,deps:[Kd,u.R0b]},{provide:class Ud{},useClass:Zd,deps:[]},[]];let na=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:B0,useExisting:u.AFp},vp]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Bc,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...ta,...jc],imports:[Fd,u.hGG]}),n})(),Tp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ja(){return new Tp((0,u.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Mn=L(8996),ds=L(7669);function bt(...n){const e=(0,ds.yG)(n);return(0,Mn.D)(n,e)}var oi=L(7579);class es extends oi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const su=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ri=L(9751);const{isArray:xp}=Array,{getPrototypeOf:oy,prototype:ah,keys:za}=Object;function ou(n){if(1===n.length){const e=n[0];if(xp(e))return{args:e,keys:null};if(function ra(n){return n&&"object"==typeof n&&oy(n)===ah}(e)){const t=za(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ga=L(4671),xt=L(4004);const{isArray:ch}=Array;function Ts(n){return(0,xt.U)(e=>function kp(n,e){return ch(e)?n(...e):n(e)}(n,e))}function Hc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Ir=L(5403),lh=L(9672);function zc(...n){const e=(0,ds.yG)(n),t=(0,ds.jO)(n),{args:r,keys:i}=ou(n);if(0===r.length)return(0,Mn.D)([],e);const a=new Ri.y(function mo(n,e,t=Ga.y){return r=>{Wa(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let y=0;y<i;y++)Wa(e,()=>{const w=(0,Mn.D)(n[y],e);let I=!1;w.subscribe((0,Ir.x)(r,M=>{a[y]=M,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>Hc(i,l):Ga.y));return t?a.pipe(Ts(t)):a}function Wa(n,e,t){n?(0,lh.f)(t,n,e):e()}var qa=L(8189);function Za(...n){return function ay(){return(0,qa.J)(1)}()((0,Mn.D)(n,(0,ds.yG)(n)))}var yo=L(8421);function Pp(n){return new Ri.y(e=>{(0,yo.Xf)(n()).subscribe(e)})}var uh=L(9635),dh=L(576);function Gc(n,e){const t=(0,dh.m)(n)?n:()=>n,r=i=>i.error(t());return new Ri.y(e?i=>e.schedule(r,0,i):r)}var Ni=L(515),hh=L(727),ti=L(4482);function Ka(){return(0,ti.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ir.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class cy extends Ri.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ti.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hh.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ir.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hh.w0.EMPTY)}return e}refCount(){return Ka()(this)}}function rr(n,e){return(0,ti.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,Ir.x)(r,y=>{i?.unsubscribe();let w=0;const I=a++;(0,yo.Xf)(n(y,I)).subscribe(i=(0,Ir.x)(r,M=>r.next(e?e(y,M,I,w++):M),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function _o(n){return n<=0?()=>Ni.E:(0,ti.e)((e,t)=>{let r=0;e.subscribe((0,Ir.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function vo(...n){const e=(0,ds.yG)(n);return(0,ti.e)((t,r)=>{(e?Za(n,t,e):Za(n,t)).subscribe(r)})}function pi(n,e){return(0,ti.e)((t,r)=>{let i=0;t.subscribe((0,Ir.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Ur=L(5577);function fh(n){return(0,ti.e)((e,t)=>{let r=!1;e.subscribe((0,Ir.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Rp(n=au){return(0,ti.e)((e,t)=>{let r=!1;e.subscribe((0,Ir.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function au(){return new su}function zs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pi((i,a)=>n(i,a,r)):Ga.y,_o(1),t?fh(e):Rp(()=>new su))}function Ya(n,e){return(0,dh.m)(e)?(0,Ur.z)(n,e,1):(0,Ur.z)(n,1)}var ai=L(8505);function Gs(n){return(0,ti.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Ir.x)(t,void 0,void 0,l=>{a=(0,yo.Xf)(n(l,Gs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Wc(n,e){return(0,ti.e)(function z0(n,e,t,r,i){return(a,l)=>{let f=t,y=e,w=0;a.subscribe((0,Ir.x)(l,I=>{const M=w++;y=f?n(y,I,M):(f=!0,I),r&&l.next(y)},i&&(()=>{f&&l.next(y),l.complete()})))}}(n,e,arguments.length>=2,!0))}function cu(n){return n<=0?()=>Ni.E:(0,ti.e)((e,t)=>{let r=[];e.subscribe((0,Ir.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Qa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pi((i,a)=>n(i,a,r)):Ga.y,cu(1),t?fh(e):Rp(()=>new su))}function qc(n){return(0,ti.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ut="primary",wo=Symbol("RouteTitle");class ly{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ja(n){return new ly(n)}function Lp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ss(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Vp(n[i],e[i]))return!1;return!0}function Vp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Up(n){return Array.prototype.concat.apply([],n)}function gh(n){return n.length>0?n[n.length-1]:null}function ci(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Mn.D)(Promise.resolve(n)):bt(n)}const Xa=!1,jp={exact:function mh(n,e,t){if(!bo(n.segments,e.segments)||!ec(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!mh(n.children[r],e.children[r],t))return!1;return!0},subset:Hp},lu={exact:function Zc(n,e){return Ss(n,e)},subset:function $p(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vp(n[t],e[t]))},ignored:()=>!0};function ni(n,e,t){return jp[t.paths](n.root,e.root,t.matrixParams)&&lu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Hp(n,e,t){return yh(n,e,e.segments,t)}function yh(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!bo(i,t)||e.hasChildren()||!ec(i,t,r))}if(n.segments.length===t.length){if(!bo(n.segments,t)||!ec(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Hp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(bo(n.segments,i)&&ec(n.segments,i,r)&&n.children[Ut])&&yh(n.children[Ut],e,a,r)}}function ec(n,e,t){return e.every((r,i)=>lu[t](n[i].parameters,r.parameters))}class hs{constructor(e=new mn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ja(this.queryParams)),this._queryParamMap}toString(){return uu.serialize(this)}}class mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ci(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tc(this)}}class Eo{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ja(this.parameters)),this._parameterMap}toString(){return zp(this)}}function bo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ws=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new vh},providedIn:"root"}),n})();class vh{parse(e){const t=new S(e);return new hs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${nc(e.root,!0)}`,r=function Gp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${sa(t)}=${sa(i)}`).join("&"):`${sa(t)}=${sa(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function wh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const uu=new vh;function tc(n){return n.segments.map(e=>zp(e)).join("/")}function nc(n,e){if(!n.hasChildren())return tc(n);if(e){const t=n.children[Ut]?nc(n.children[Ut],!1):"",r=[];return ci(n.children,(i,a)=>{a!==Ut&&r.push(`${a}:${nc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function _h(n,e){let t=[];return ci(n.children,(r,i)=>{i===Ut&&(t=t.concat(e(r,i)))}),ci(n.children,(r,i)=>{i!==Ut&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ut?[nc(n.children[Ut],!1)]:[`${i}:${nc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${tc(n)}/${t[0]}`:`${tc(n)}/(${t.join("//")})`}}function ia(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sa(n){return ia(n).replace(/%3B/gi,";")}function Co(n){return ia(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rc(n){return decodeURIComponent(n)}function Eh(n){return rc(n.replace(/\+/g,"%20"))}function zp(n){return`${Co(n.path)}${function bh(n){return Object.keys(n).map(e=>`;${Co(e)}=${Co(n[e])}`).join("")}(n.parameters)}`}const dy=/^[^\/()?;=#]+/;function du(n){const e=n.match(dy);return e?e[0]:""}const v=/^[^=?&#]+/,m=/^[^&#]+/;class S{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ut]=new mn(e,t)),r}parseSegment(){const e=du(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,Xa);return this.capture(e),new Eo(rc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=du(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=du(this.remaining);i&&(r=i,this.capture(r))}e[rc(t)]=rc(r)}parseQueryParam(e){const t=function p(n){const e=n.match(v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function E(n){const e=n.match(m);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Eh(t),a=Eh(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=du(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,Xa);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ut);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Ut]:new mn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,Xa)}}function R(n){return n.segments.length>0?new mn([],{[Ut]:n}):n}function J(n){const e={};for(const r of Object.keys(n.children)){const a=J(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function me(n){if(1===n.numberOfChildren&&n.children[Ut]){const e=n.children[Ut];return new mn(n.segments.concat(e.segments),e.children)}return n}(new mn(n.segments,e))}function Ye(n){return n instanceof hs}const ot=!1;function qs(n,e,t,r,i){if(0===t.length)return fs(e.root,e.root,e.root,r,i);const a=function Yc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hu(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ci(a.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new hu(t,e,r)}(t);return a.toRoot()?fs(e.root,e.root,new mn([],{}),r,i):function l(y){const w=function pu(n,e,t,r){if(n.isAbsolute)return new Do(e.root,!0,0);if(-1===r)return new Do(t,t===e.root,0);return function ic(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,ot&&"Invalid number of '../'");i=r.segments.length}return new Do(r,!1,i-a)}(t,r+(Io(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),I=w.processChildren?To(w.segmentGroup,w.index,a.commands):sc(w.segmentGroup,w.index,a.commands);return fs(e.root,w.segmentGroup,I,r,i)}(n.snapshot?._lastPathIndex)}function Io(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Kc(n){return"object"==typeof n&&null!=n&&n.outlets}function fs(n,e,t,r,i){let l,a={};r&&ci(r,(y,w)=>{a[w]=Array.isArray(y)?y.map(I=>`${I}`):`${y}`}),l=n===e?t:Ch(n,e,t);const f=R(J(l));return new hs(f,a,i)}function Ch(n,e,t){const r={};return ci(n.children,(i,a)=>{r[a]=i===e?t:Ch(i,e,t)}),new mn(n.segments,r)}class hu{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Io(r[0]))throw new u.vHH(4003,ot&&"Root segment cannot have matrix parameters");const i=r.find(Kc);if(i&&i!==gh(r))throw new u.vHH(4004,ot&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Do{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function sc(n,e,t){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return To(n,e,t);const r=function hy(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(Kc(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!fy(y,w,l))return a;r+=2}else{if(!fy(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new mn(n.segments.slice(0,r.pathIndex),{});return a.children[Ut]=new mn(n.segments.slice(r.pathIndex),n.children),To(a,0,i)}return r.match&&0===i.length?new mn(n.segments,{}):r.match&&!n.hasChildren()?Ih(n,e,t):r.match?To(n,0,i):Ih(n,e,t)}function To(n,e,t){if(0===t.length)return new mn(n.segments,{});{const r=function gu(n){return Kc(n[0])?n[0].outlets:{[Ut]:n}}(t),i={};if(!r[Ut]&&n.children[Ut]&&1===n.numberOfChildren&&0===n.children[Ut].segments.length){const a=To(n.children[Ut],e,t);return new mn(n.segments,a.children)}return ci(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=sc(n.children[l],e,a))}),ci(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new mn(n.segments,i)}}function Ih(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Kc(a)){const y=Dh(a.outlets);return new mn(r,y)}if(0===i&&Io(t[0])){r.push(new Eo(n.segments[e].path,G0(t[0]))),i++;continue}const l=Kc(a)?a.outlets[Ut]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&Io(f)?(r.push(new Eo(l,G0(f))),i+=2):(r.push(new Eo(l,{})),i++)}return new mn(r,{})}function Dh(n){const e={};return ci(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ih(new mn([],{}),0,t))}),e}function G0(n){const e={};return ci(n,(t,r)=>e[r]=`${t}`),e}function fy(n,e,t){return n==t.path&&Ss(e,t.parameters)}const Th="imperative";class So{constructor(e,t){this.id=e,this.url=t}}class py extends So{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oc extends So{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sh extends So{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qc extends So{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Ah extends So{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mu extends So{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jI extends So{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $I extends So{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $O extends So{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HI extends So{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gy{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class W0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class my{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yy{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _y{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let GI=(()=>{class n{createUrlTree(t,r,i,a,l,f){return qs(t||r.root,i,a,l,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),qI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return GI.\u0275fac(e)},providedIn:"root"}),n})();class K0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=vy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ao(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ao(e,this._root).map(t=>t.value)}}function vy(n,e){if(n===e.value)return e;for(const t of e.children){const r=vy(n,t);if(r)return r}return null}function Ao(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ao(n,t);if(r.length)return r.unshift(e),r}return[]}class ps{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ZI extends K0{constructor(e,t){super(e),this.snapshot=t,wy(this,e)}toString(){return this.snapshot.toString()}}function KI(n,e){const t=function HO(n,e){const l=new qp([],{},{},"",{},Ut,e,null,n.root,-1,{});return new Q0("",new ps(l,[]))}(n,e),r=new es([new Eo("",{})]),i=new es({}),a=new es({}),l=new es({}),f=new es(""),y=new Jc(r,i,l,f,a,Ut,e,t.root);return y.snapshot=t.root,new ZI(new ps(y,[]),t)}class Jc{constructor(e,t,r,i,a,l,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,xt.U)(w=>w[wo]))??bt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>Ja(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>Ja(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Y0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qp{get title(){return this.data?.[wo]}constructor(e,t,r,i,a,l,f,y,w,I,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ja(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ja(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Q0 extends K0{constructor(e,t){super(t),this.url=e,wy(this,t)}toString(){return J0(this._root)}}function wy(n,e){e.value._routerState=n,e.children.forEach(t=>wy(n,t))}function J0(n){const e=n.children.length>0?` { ${n.children.map(J0).join(", ")} } `:"";return`${n.value}${e}`}function Mh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ss(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ss(e.params,t.params)||n.params.next(t.params),function ph(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ss(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ss(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zs(n,e){const t=Ss(n.params,e.params)&&function uy(n,e){return bo(n,e)&&n.every((t,r)=>Ss(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zs(n.parent,e.parent))}function _u(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function X0(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _u(n,r,i);return _u(n,r)})}(n,e,t);return new ps(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>_u(n,f)),l}}const r=function ew(n){return new Jc(new es(n.url),new es(n.params),new es(n.queryParams),new es(n.fragment),new es(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>_u(n,a));return new ps(r,i)}}const tw="ngNavigationCancelingError";function QI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ye(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function JI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[tw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Zp(n){return Kp(n)&&Ye(n.url)}function Kp(n){return n&&n[tw]}class zO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yp,this.attachRef=null}}let Yp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zO,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xh=!1;let Qp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Yp),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,xh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,xh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,xh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,xh);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new XI(t,f,i.injector);if(r&&function eD(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(l);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class XI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jc?this.route:e===Yp?this.childContexts:this.parent.get(e,t)}}let Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Qp],encapsulation:2}),n})();function Ey(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xp(n){const e=n.children&&n.children.map(Xp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=Jp),t}function As(n){return n.outlet||Ut}function sw(n,e){const t=n.filter(r=>As(r)===e);return t.push(...n.filter(r=>As(r)!==e)),t}function kh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ow{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yu(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),ci(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=yu(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=yu(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=yu(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new yy(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Wp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Mh(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Mh(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=kh(i.snapshot),y=f?.get(u._Vd)??null;l.attachRef=null,l.route=i,l.resolver=y,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class rD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Cy{constructor(e,t){this.component=e,this.route=t}}function Ph(n,e,t){const r=n._root;return vu(r,e?e._root:null,t,[r.value])}function Xc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function vu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=yu(e);return n.children.forEach(l=>{(function aw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function qO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bo(n.url,e.url)||!Ss(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zs(n,e)||!Ss(n.queryParams,e.queryParams);default:return!Zs(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new rD(r)):(a.data=l.data,a._resolvedData=l._resolvedData),vu(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Cy(f.outlet.component,l))}else l&&Rh(e,f,i),i.canActivateChecks.push(new rD(r)),vu(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),ci(a,(l,f)=>Rh(l,t.getContext(f),i)),i}function Rh(n,e,t){const r=yu(n),i=n.value;ci(r,(a,l)=>{Rh(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Cy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function wu(n){return"function"==typeof n}function oa(n){return n instanceof su||"EmptyError"===n?.name}const eg=Symbol("INITIAL_VALUE");function ac(){return rr(n=>zc(n.map(e=>e.pipe(_o(1),vo(eg)))).pipe((0,xt.U)(e=>{for(const t of e)if(!0!==t){if(t===eg)return eg;if(!1===t||t instanceof hs)return t}return!0}),pi(e=>e!==eg),_o(1)))}function Oy(n){return(0,uh.z)((0,ai.b)(e=>{if(Ye(e))throw QI(0,e)}),(0,xt.U)(e=>!0===e))}const xy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dw(n,e,t,r,i){const a=ky(n,e,t);return a.matched?function Eu(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?bt(i.map(l=>{const f=Xc(l,n);return xr(function Sy(n){return n&&wu(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(ac(),Oy()):bt(!0)}(r=Ey(e,r),e,t).pipe((0,xt.U)(l=>!0===l?a:{...xy})):bt(a)}function ky(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...xy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Lp)(t,n,e);if(!i)return{...xy};const a={};ci(i.posParams,(f,y)=>{a[y]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function bu(n,e,t,r){if(t.length>0&&function uD(n,e,t){return t.some(r=>Py(n,e,r)&&As(r)!==Ut)}(n,t,r)){const a=new mn(e,function hw(n,e,t,r){const i={};i[Ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&As(a)!==Ut){const l=new mn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[As(a)]=l}return i}(n,e,r,new mn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function fw(n,e,t){return t.some(r=>Py(n,e,r))}(n,t,r)){const a=new mn(n.segments,function lD(n,e,t,r,i){const a={};for(const l of r)if(Py(n,t,l)&&!i[As(l)]){const f=new mn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[As(l)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new mn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Py(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function pw(n,e,t,r){return!!(As(n)===r||r!==Ut&&Py(e,t,n))&&("**"===n.path||ky(e,n,t).matched)}function Cu(n,e,t){return 0===e.length&&!n.children[t]}const rg=!1;class aa{constructor(e){this.segmentGroup=e||null}}class Iu{constructor(e){this.urlTree=e}}function Nh(n){return Gc(new aa(n))}function Ry(n){return Gc(new Iu(n))}class gw{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=bu(this.urlTree.root,[],[],this.config).segmentGroup,t=new mn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ut).pipe((0,xt.U)(a=>this.createUrlTree(J(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gs(a=>{if(a instanceof Iu)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof aa?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ut).pipe((0,xt.U)(i=>this.createUrlTree(J(i),e.queryParams,e.fragment))).pipe(Gs(i=>{throw i instanceof aa?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,rg)}createUrlTree(e,t,r){const i=R(e);return new hs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(a=>new mn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Mn.D)(i).pipe(Ya(a=>{const l=r.children[a],f=sw(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,xt.U)(y=>({segment:y,outlet:a})))}),Wc((a,l)=>(a[l.outlet]=l.segment,a),{}),Qa())}expandSegment(e,t,r,i,a,l){return(0,Mn.D)(r).pipe(Ya(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(Gs(w=>{if(w instanceof aa)return bt(null);throw w}))),zs(f=>!!f),Gs((f,y)=>{if(oa(f))return Cu(t,i,a)?bt(new mn([],{})):Nh(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return pw(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):Nh(t):Nh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ry(a):this.lineralizeSegments(r,a).pipe((0,Ur.z)(l=>{const f=new mn(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:I}=ky(t,i,a);if(!f)return Nh(t);const M=this.applyRedirectCommands(y,i.redirectTo,I);return i.redirectTo.startsWith("/")?Ry(M):this.lineralizeSegments(i,M).pipe((0,Ur.z)(U=>this.expandSegment(e,t,r,U.concat(w),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Ey(r,e),r.loadChildren?(r._loadedRoutes?bt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,xt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new mn(i,{})))):bt(new mn(i,{}))):dw(t,r,i,e).pipe(rr(({matched:l,consumedSegments:f,remainingSegments:y})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ur.z)(I=>{const M=I.injector??e,U=I.routes,{segmentGroup:G,slicedSegments:X}=bu(t,f,y,U),ie=new mn(G.segments,G.children);if(0===X.length&&ie.hasChildren())return this.expandChildren(M,U,ie).pipe((0,xt.U)(_t=>new mn(f,_t)));if(0===U.length&&0===X.length)return bt(new mn(f,{}));const he=As(r)===a;return this.expandSegment(M,ie,U,X,he?Ut:a,!0).pipe((0,xt.U)(rt=>new mn(f.concat(rt.segments),rt.children)))})):Nh(t)))}getChildConfig(e,t,r){return t.children?bt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):function cD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?bt(!0):bt(i.map(l=>{const f=Xc(l,n);return xr(function Dy(n){return n&&wu(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(ac(),Oy())}(e,t,r).pipe((0,Ur.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ai.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function hD(n){return Gc(JI(rg,3))}())):bt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return bt(r);if(i.numberOfChildren>1||!i.children[Ut])return e.redirectTo,Gc(new u.vHH(4e3,rg));i=i.children[Ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new hs(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ci(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return ci(t.children,(f,y)=>{l[y]=this.createSegmentGroup(e,f,r,i)}),new mn(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,rg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Ny{}class Fh{constructor(e,t,r,i,a,l,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f}recognize(){const e=bu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ut).pipe((0,xt.U)(t=>{if(null===t)return null;const r=new qp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ps(r,t),a=new Q0(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=YI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Mn.D)(Object.keys(r.children)).pipe(Ya(i=>{const a=r.children[i],l=sw(t,i);return this.processSegmentGroup(e,l,a,i)}),Wc((i,a)=>i&&a?(i.push(...a),i):null),function Np(n,e=!1){return(0,ti.e)((t,r)=>{let i=0;t.subscribe((0,Ir.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),fh(null),Qa(),(0,xt.U)(i=>{if(null===i)return null;const a=yw(i);return function gD(n){n.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Mn.D)(t).pipe(Ya(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),zs(l=>!!l),Gs(l=>{if(oa(l))return Cu(r,i,a)?bt([]):bt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!pw(t,r,i,a))return bt(null);let l;if("**"===t.path){const f=i.length>0?gh(i).parameters:{},y=vw(r)+i.length;l=bt({snapshot:new qp(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mo(t),As(t),t.component??t._loadedComponent??null,t,_w(r),y,ww(t)),consumedSegments:[],remainingSegments:[]})}else l=dw(r,t,i,e).pipe((0,xt.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:I})=>{if(!f)return null;const M=vw(r)+y.length;return{snapshot:new qp(y,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mo(t),As(t),t.component??t._loadedComponent??null,t,_w(r),M,ww(t)),consumedSegments:y,remainingSegments:w}}));return l.pipe(rr(f=>{if(null===f)return bt(null);const{snapshot:y,consumedSegments:w,remainingSegments:I}=f;e=t._injector??e;const M=t._loadedInjector??e,U=function mD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:G,slicedSegments:X}=bu(r,w,I,U.filter(he=>void 0===he.redirectTo));if(0===X.length&&G.hasChildren())return this.processChildren(M,U,G).pipe((0,xt.U)(he=>null===he?null:[new ps(y,he)]));if(0===U.length&&0===X.length)return bt([new ps(y,[])]);const ie=As(t)===a;return this.processSegment(M,U,G,X,ie?Ut:a).pipe((0,xt.U)(he=>null===he?null:[new ps(y,he)]))}))}}function yD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function yw(n){const e=[],t=new Set;for(const r of n){if(!yD(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=yw(r.children);e.push(new ps(r.value,i))}return e.filter(r=>!t.has(r))}function _w(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function vw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Mo(n){return n.data||{}}function ww(n){return n.resolve||{}}function Ly(n){return"string"==typeof n.title||null===n.title}function Vy(n){return rr(e=>{const t=n(e);return t?(0,Mn.D)(t).pipe((0,xt.U)(()=>e)):bt(e)})}const Du=new u.OlP("ROUTES");let By=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=xr(t.loadComponent()).pipe((0,xt.U)(Cw),(0,ai.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),qc(()=>{this.componentLoaders.delete(t)})),i=new cy(r,()=>new oi.x).pipe(Ka());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return bt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,xt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,I=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=Up(y.get(Du,[],u.XFs.Self|u.XFs.Optional)));return{routes:w.map(Xp),injector:y}}),qc(()=>{this.childrenLoaders.delete(r)})),l=new cy(a,()=>new oi.x).pipe(Ka());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return xr(t()).pipe((0,xt.U)(Cw),(0,Ur.z)(r=>r instanceof u.YKP||Array.isArray(r)?bt(r):(0,Mn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cw(n){return function Ks(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let sg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new oi.x,this.configLoader=(0,u.f3M)(By),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(Ws),this.rootContexts=(0,u.f3M)(Yp),this.navigationId=0,this.afterPreactivation=()=>bt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new zI(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gy(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new es({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Th,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pi(r=>0!==r.id),(0,xt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),rr(r=>{let i=!1,a=!1;return bt(r).pipe((0,ai.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rr(l=>{const f=t.browserUrlTree.toString(),y=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!y&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new Qc(l.id,t.serializeUrl(r.rawUrl),I,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ni.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Iw(l.source)&&(t.browserUrlTree=l.extractedUrl),bt(l).pipe(rr(I=>{const M=this.transitions?.getValue();return this.events.next(new py(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions?.getValue()?Ni.E:Promise.resolve(I)}),function mw(n,e,t,r){return rr(i=>function fD(n,e,t,r,i){return new gw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,xt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ai.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function vD(n,e,t,r,i){return(0,Ur.z)(a=>function Fy(n,e,t,r,i,a,l="emptyOnly"){return new Fh(n,e,t,r,i,l,a).recognize().pipe(rr(f=>null===f?function pD(n){return new Ri.y(e=>e.error(n))}(new Ny):bt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,xt.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ai.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const U=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(U,I)}t.browserUrlTree=I.urlAfterRedirects}const M=new mu(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(M)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:M,source:U,restoredState:G,extras:X}=l,ie=new py(I,this.urlSerializer.serialize(M),U,G);this.events.next(ie);const he=KI(M,this.rootComponentType).snapshot;return bt(r={...l,targetSnapshot:he,urlAfterRedirects:M,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new Qc(l.id,t.serializeUrl(r.extractedUrl),I,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ni.E}}),(0,ai.b)(l=>{const f=new jI(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,xt.U)(l=>r={...l,guards:Ph(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function tg(n,e){return(0,Ur.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?bt({...t,guardsResult:!0}):function oD(n,e,t,r){return(0,Mn.D)(n).pipe((0,Ur.z)(i=>function aD(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?bt(a.map(f=>{const y=kh(e)??i,w=Xc(f,y);return xr(function iD(n){return n&&wu(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(zs())})).pipe(ac()):bt(!0)}(i.component,i.route,t,e,r)),zs(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Ur.z)(f=>f&&function cw(n){return"boolean"==typeof n}(f)?function Ay(n,e,t,r){return(0,Mn.D)(e).pipe(Ya(i=>Za(function el(n,e){return null!==n&&e&&e(new W0(n)),bt(!0)}(i.route.parent,r),function ng(n,e){return null!==n&&e&&e(new my(n)),bt(!0)}(i.route,r),function My(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function Iy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Pp(()=>bt(l.guards.map(y=>{const w=kh(l.node)??t,I=Xc(y,w);return xr(function Ty(n){return n&&wu(n.canActivateChild)}(I)?I.canActivateChild(r,n):w.runInContext(()=>I(r,n))).pipe(zs())})).pipe(ac())));return bt(a).pipe(ac())}(n,i.path,t),function uw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bt(!0);const i=r.map(a=>Pp(()=>{const l=kh(e)??t,f=Xc(a,l);return xr(function ZO(n){return n&&wu(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(zs())}));return bt(i).pipe(ac())}(n,i.route,t))),zs(i=>!0!==i,!0))}(r,a,n,e):bt(f)),(0,xt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,ai.b)(l=>{if(r.guardsResult=l.guardsResult,Ye(l.guardsResult))throw QI(0,l.guardsResult);const f=new $I(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),pi(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Vy(l=>{if(l.guards.canActivateChecks.length)return bt(l).pipe((0,ai.b)(f=>{const y=new $O(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),rr(f=>{let y=!1;return bt(f).pipe(function KO(n,e){return(0,Ur.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return bt(t);let a=0;return(0,Mn.D)(i).pipe(Ya(l=>function YO(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Ly(i)&&(a[wo]=i.title),function Ew(n,e,t,r){const i=function QO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return bt({});const a={};return(0,Mn.D)(i).pipe((0,Ur.z)(l=>function bw(n,e,t,r){const i=kh(e)??r,a=Xc(n,i);return xr(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(zs(),(0,ai.b)(f=>{a[l]=f}))),cu(1),function Fp(n){return(0,xt.U)(()=>n)}(a),Gs(l=>oa(l)?Ni.E:Gc(l)))}(a,n,e,r).pipe((0,xt.U)(l=>(n._resolvedData=l,n.data=YI(n,t).resolve,i&&Ly(i)&&(n.data[wo]=i.title),null)))}(l.route,r,n,e)),(0,ai.b)(()=>a++),cu(1),(0,Ur.z)(l=>a===i.length?bt(t):Ni.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ai.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,ai.b)(f=>{const y=new HI(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),Vy(l=>{const f=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,ai.b)(I=>{y.component=I}),(0,xt.U)(()=>{})));for(const I of y.children)w.push(...f(I));return w};return zc(f(l.targetSnapshot.root)).pipe(fh(),_o(1))}),Vy(()=>this.afterPreactivation()),(0,xt.U)(l=>{const f=function Oh(n,e,t){const r=_u(n,e._root,t?t._root:void 0);return new ZI(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:f}}),(0,ai.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new ow(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),_o(1),(0,ai.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new oc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),qc(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Gs(l=>{if(a=!0,Kp(l)){Zp(l)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new Sh(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),Zp(l)){const y=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Iw(r.source)};t.scheduleNavigation(y,Th,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new Ah(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(l))}catch(y){r.reject(y)}}return Ni.E}))}))}cancelNavigationTransition(t,r,i){const a=new Sh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Iw(n){return n!==Th}let Dw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Ut);return r}getResolvedTitleForRoute(t){return t.data[wo]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(wD)},providedIn:"root"}),n})(),wD=(()=>{class n extends Dw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Tp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(bD)},providedIn:"root"}),n})();class ED{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let bD=(()=>{class n extends ED{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const en=new u.OlP("",{providedIn:"root",factory:()=>({})});let Sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Aw)},providedIn:"root"}),n})(),Aw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ID(n){throw n}function DD(n,e,t){return e.parse("/")}const Mw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(en,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ID,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||DD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(Sw),this.routeReuseStrategy=(0,u.f3M)(Tw),this.urlCreationStrategy=(0,u.f3M)(qI),this.titleStrategy=(0,u.f3M)(Dw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Up((0,u.f3M)(Du,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(sg),this.urlSerializer=(0,u.f3M)(Ws),this.location=(0,u.f3M)(qe),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=KI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Th,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Xp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:l;let I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,I,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ye(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Th,null,r)}navigate(t,r={skipLocationChange:!1}){return function SD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Mw}:!1===r?{...TD}:r,Ye(t))return ni(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ni(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,y,w,I;return l?(f=l.resolve,y=l.reject,w=l.promise):w=new Promise((M,U)=>{f=M,y=U}),I="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ca=(()=>{class n{constructor(t,r,i,a,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new oi.x;const y=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof oc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zr),u.Y36(Jc),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(mt))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class jy{}let $y=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(pi(t=>t instanceof oc),Ya(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Mn.D)(i).pipe((0,qa.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):bt(null);const a=i.pipe((0,Ur.z)(l=>null===l?bt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Mn.D)([a,l]).pipe((0,qa.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(jy),u.LFG(By))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uh=new u.OlP("");let xw=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof py?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof oc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _y&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _y(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var Ms=(()=>((Ms=Ms||{})[Ms.COMPLETE=0]="COMPLETE",Ms[Ms.FAILED=1]="FAILED",Ms[Ms.REDIRECTING=2]="REDIRECTING",Ms))();const Bh=!1;function tl(n,e){return{\u0275kind:n,\u0275providers:e}}const zy=new u.OlP("",{providedIn:"root",factory:()=>!1});function jh(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Zr),i=n.get(kw);1===n.get(ag)&&r.initialNavigation(),n.get(Pw,null,u.XFs.Optional)?.setUpPreloading(),n.get(Uh,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const kw=new u.OlP(Bh?"bootstrap done indicator":"",{factory:()=>new oi.x}),ag=new u.OlP(Bh?"initial navigation":"",{providedIn:"root",factory:()=>1});function xD(){let n=[];return n=Bh?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Zr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function q0(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],tl(1,n)}const Pw=new u.OlP(Bh?"router preloader":"");function kD(n){return tl(0,[{provide:Pw,useExisting:$y},{provide:jy,useExisting:n}])}const Au=!1,ND=new u.OlP(Au?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Gy=[qe,{provide:Ws,useClass:vh},Zr,Yp,{provide:Jc,useFactory:function Hy(n){return n.routerState.root},deps:[Zr]},By,Au?{provide:zy,useValue:!0}:[]];function FD(){return new u.PXZ("Router",Zr)}let LD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Gy,Au&&r?.enableTracing?xD().\u0275providers:[],{provide:Du,multi:!0,useValue:t},{provide:ND,useFactory:Fw,deps:[[Zr,new u.FiY,new u.tp0]]},{provide:en,useValue:r||{}},r?.useHash?{provide:mt,useClass:$e}:{provide:mt,useClass:Le},{provide:Uh,useFactory:()=>{const n=(0,u.f3M)(Hl),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(en),r=(0,u.f3M)(sg),i=(0,u.f3M)(Ws);return t.scrollOffset&&n.setOffset(t.scrollOffset),new xw(i,r,n,e,t)}},r?.preloadingStrategy?kD(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:FD},r?.initialNavigation?UD(r):[],[{provide:Lw,useFactory:jh},{provide:u.tb,multi:!0,useExisting:Lw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Du,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ND,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Jp]}),n})();function Fw(n){if(Au&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function UD(n){return["disabled"===n.initialNavigation?tl(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Zr);return()=>{e.setUpLocationChangeListener()}}},{provide:ag,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?tl(2,[{provide:ag,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(Ie,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Zr),a=e.get(kw);(function ex(n,e){n.events.pipe(pi(t=>t instanceof oc||t instanceof Sh||t instanceof Ah||t instanceof Qc),(0,xt.U)(t=>t instanceof oc||t instanceof Qc?Ms.COMPLETE:t instanceof Sh&&(0===t.code||1===t.code)?Ms.REDIRECTING:Ms.FAILED),pi(t=>t!==Ms.REDIRECTING),_o(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(sg).afterPreactivation=()=>(r(!0),a.closed?bt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const Lw=new u.OlP(Au?"Router Initializer":"");let Hh=(()=>{class n{constructor(){this.store=sessionStorage}set(t,r){try{return this.store.setItem(t,JSON.stringify(r)),!0}catch(i){return console.log(i),!1}}get(t){try{return{status:!0,data:JSON.parse(this.store.getItem(t)??"")}}catch{return{status:!1,data:null}}}del(t){try{return this.store.removeItem(t),{status:!0,data:null}}catch{return{status:!0,data:null}}}clear(){try{return this.store.clear(),{status:!0,data:null}}catch{return{status:!0,data:null}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cc=(()=>{class n{constructor(){this.store=localStorage}set(t,r){try{return this.store.setItem(t,JSON.stringify(r)),!0}catch(i){return console.log(i),!1}}get(t){try{return{status:!0,data:JSON.parse(this.store.getItem(t)??"")}}catch{return{status:!1,data:null}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ou=(()=>{class n{constructor(t,r){this.sessionstore=t,this.database=r}crtsession(t){const r=this.database.get("Users");if(null!=r.data){for(const i of r.data)if(t.email===i.email&&t.password===i.password)return t.name=i.name,t.id=i.id,void this.sessionstore.set("loggedUser",t)}else alert("An error occured")}getsession(){let t=this.sessionstore.get("loggedUser");return console.log(t),t.status?{id:t.data.id,nameinit:t.data.name}:null}dltsession(t){this.sessionstore.clear(),!0===this.sessionstore.clear().status&&window.location.replace("/sign-in")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hh),u.LFG(cc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xu{constructor(){this.disabled=!0,this.loginStatus=!0,this.session=!0}}var bn=L(3324),ku=L(259);class la{constructor(e){return e}}class zh{constructor(){return(0,ku.C6)()}}var Oe=L(5861),ua=L(6881),lg=L(4859),Ln=L(2090),da=L(1877);const Zy=new Map,Bw={activated:!1,tokenObservers:[]},Ky={initialized:!1,enabled:!1};function jr(n){return Zy.get(n)||Object.assign({},Bw)}function ug(){return Ky}const Yy="https://content-firebaseappcheck.googleapis.com/v1",Qy="exchangeDebugToken",jw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class $w{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Oe.Z)(function*(){t.stop();try{t.pending=new Ln.BH,yield function qD(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ln.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ti=new Ln.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rl(n,e){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,Oe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(M){throw Ti.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==l.status)throw Ti.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(M){throw Ti.create("fetch-parse-error",{originalErrorMessage:M?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(y[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}})).apply(this,arguments)}const Hw="firebase-app-check-database",zw=1,Nu="firebase-app-check-store";let Fu=null;function n_(n,e){return fg.apply(this,arguments)}function fg(){return(fg=(0,Oe.Z)(function*(n,e){const r=(yield function xo(){return Fu||(Fu=new Promise((n,e)=>{try{const t=indexedDB.open(Hw,zw);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ti.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Nu,{keyPath:"compositeKey"})}}catch(t){e(Ti.create("storage-open",{originalErrorMessage:t?.message}))}}),Fu)}()).transaction(Nu,"readwrite"),a=r.objectStore(Nu).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var w;f(Ti.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Wh=new da.Yd("@firebase/app-check");function s_(n,e){return(0,Ln.hl)()?function hg(n,e){return n_(function Lu(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function c_(){return l_.apply(this,arguments)}function l_(){return(l_=(0,Oe.Z)(function*(){const n=ug();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const u_={error:"UNKNOWN_ERROR"};function JD(n){return Ln.US.encodeString(JSON.stringify(n),!1)}function Vu(n){return d_.apply(this,arguments)}function d_(){return(d_=(0,Oe.Z)(function*(n,e=!1){const t=n.app;!function Jy(n){if(!jr(n).activated)throw Ti.create("use-before-activation",{appName:n.name})}(t);const r=jr(t);let a,i=r.token;if(i&&!il(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(il(y)?i=y:yield s_(t,void 0))}if(!e&&i&&il(i))return{token:i.token};let f,l=!1;if(function a_(){return ug().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rl(function KD(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Yy}/projects/${t}/apps/${r}:${Qy}?key=${i}`,body:{debug_token:e}}}(t,yield c_()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield s_(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield jr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Wh.warn(y.message):Wh.error(y),a=y}return i?a?f=il(i)?{token:i.token,internalError:a}:Zw(a):(f={token:i.token},r.token=i,yield s_(t,i)):f=Zw(a),l&&function g_(n,e){const t=jr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function p_(n,e){const t=jr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function qw(n){const{app:e}=n,t=jr(e);let r=t.tokenRefresher;r||(r=function eT(n){const{app:e}=n;return new $w((0,Oe.Z)(function*(){let r;if(r=jr(e).token?yield Vu(n,!0):yield Vu(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=jr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},jw.RETRIAL_MIN_WAIT,jw.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function il(n){return n.expireTimeMillis-Date.now()>0}function Zw(n){return{token:JD(u_),error:n}}class dx{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=jr(this.app);for(const t of e)p_(this.app,t.next);return Promise.resolve()}}const __="app-check-internal";!function Qw(){(0,ua._registerComponent)(new lg.wA("app-check",n=>function Kw(n,e){return new dx(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(__).initialize()})),(0,ua._registerComponent)(new lg.wA(__,n=>function hx(n){return{getToken:e=>Vu(n,e),addTokenListener:e=>function f_(n,e,t,r){const{app:i}=n,a=jr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&il(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),qw(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>qw(n))}(n,"INTERNAL",e),removeTokenListener:e=>p_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ua.registerVersion)("@firebase/app-check","0.7.0")}();class Kh{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window;var _g=L(1389);class Yh{constructor(e){return e}}class vg{constructor(){return(0,bn.vb)("auth")}}const S_=new u.OlP("angularfire2.auth-instances");function nE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Yh(r)}}const rE={provide:vg,deps:[[new u.FiY,S_]]},iE={provide:Yh,useFactory:function tE(n,e){const t=(0,bn.JM)("auth",n,e);return t&&new Yh(t)},deps:[[new u.FiY,S_],la]};let uT=(()=>{class n{constructor(){(0,ku.KN)("angularfire",bn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[iE,rE]}),n})();function sE(n,...e){return{ngModule:uT,providers:[{provide:S_,useFactory:nE(n),multi:!0,deps:[u.R0b,u.zs3,bn.HU,zh,[new u.FiY,Kh],...e]}]}}const uE=(0,bn.u3)(_g.a9,!0);var gt,MT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gs={},M_=M_||{},cn=MT||self;function wg(){}function Eg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zu="closure_uid_"+(1e9*Math.random()>>>0),OT=0;function pE(n,e,t){return n.call.apply(n.bind,arguments)}function gE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yi(n,e,t){return(yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pE:gE).apply(null,arguments)}function dl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function li(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function pa(){this.s=this.s,this.o=this.o}pa.prototype.s=!1,pa.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function fE(n){Object.prototype.hasOwnProperty.call(n,zu)&&n[zu]||(n[zu]=++OT)}(this)},pa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const O_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function x_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Eg(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Ai(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ai.prototype.h=function(){this.defaultPrevented=!0};var yE=function(){if(!cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{cn.addEventListener("test",wg,e),cn.removeEventListener("test",wg,e)}catch{}return n}();function Cg(n){return/^[\s\xa0]*$/.test(n)}var _E=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function k_(n,e){return n<e?-1:n>e?1:0}function Ig(){var n=cn.navigator;return n&&(n=n.userAgent)?n:""}function No(n){return-1!=Ig().indexOf(n)}function P_(n){return P_[" "](n),n}function vE(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}P_[" "]=wg;var Dg,n,xT=No("Opera"),Gu=No("Trident")||No("MSIE"),wE=No("Edge"),R_=wE||Gu,EE=No("Gecko")&&!(-1!=Ig().toLowerCase().indexOf("webkit")&&!No("Edge"))&&!(No("Trident")||No("MSIE"))&&!No("Edge"),kT=-1!=Ig().toLowerCase().indexOf("webkit")&&!No("Edge");function bE(){var n=cn.document;return n?n.documentMode:void 0}e:{var N_="",F_=(n=Ig(),EE?/rv:([^\);]+)(\)|;)/.exec(n):wE?/Edge\/([\d\.]+)/.exec(n):Gu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kT?/WebKit\/(\S+)/.exec(n):xT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(F_&&(N_=F_?F_[1]:""),Gu){var L_=bE();if(null!=L_&&L_>parseFloat(N_)){Dg=String(L_);break e}}Dg=N_}var CE={},DE=cn.document&&Gu&&(bE()||parseInt(Dg,10))||void 0;function Wu(n,e){if(Ai.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(EE){e:{try{P_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:TE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wu.$.h.call(this)}}li(Wu,Ai);var TE={2:"touch",3:"pen",4:"mouse"};Wu.prototype.h=function(){Wu.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qu="closure_listenable_"+(1e6*Math.random()|0),SE=0;function U_(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++SE,this.fa=this.ia=!1}function Jh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ga(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function AE(n){const e={};for(const t in n)e[t]=n[t];return e}const ME="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hl(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<ME.length;a++)t=ME[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function B_(n){this.src=n,this.g={},this.h=0}function Xh(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=O_(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Jh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function OE(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}B_.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=OE(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new U_(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var Sg="closure_lm_"+(1e6*Math.random()|0),Ag={};function PT(n,e,t,r,i){if(r&&r.once)return xE(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)PT(n,e[a],t,r,i);return null}return t=RE(t),n&&n[qu]?n.O(e,t,Hu(r)?!!r.capture:!!r,i):Ht(n,e,t,!1,r,i)}function Ht(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Hu(i)?!!i.capture:!!i,f=Zu(n);if(f||(n[Sg]=f=new B_(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function RT(){const e=Mg;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)yE||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(PE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xE(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)xE(n,e[a],t,r,i);return null}return t=RE(t),n&&n[qu]?n.P(e,t,Hu(r)?!!r.capture:!!r,i):Ht(n,e,t,!0,r,i)}function kE(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)kE(n,e[a],t,r,i);else r=Hu(r)?!!r.capture:!!r,t=RE(t),n&&n[qu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=OE(a=n.g[e],t,r,i))&&(Jh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Zu(n))&&(e=n.g[e.toString()],n=-1,e&&(n=OE(e,t,r,i)),(t=-1<n?e[n]:null)&&dc(t))}function dc(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[qu])Xh(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(PE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Zu(e))?(Xh(t,n),0==t.h&&(t.src=null,e[Sg]=null)):Jh(n)}}}function PE(n){return n in Ag?Ag[n]:Ag[n]="on"+n}function Mg(n,e){if(n.fa)n=!0;else{e=new Wu(e,this);var t=n.listener,r=n.la||n.src;n.ia&&dc(n),n=t.call(r,e)}return n}function Zu(n){return(n=n[Sg])instanceof B_?n:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function RE(n){return"function"==typeof n?n:(n[Dr]||(n[Dr]=function(e){return n.handleEvent(e)}),n[Dr])}function ui(){pa.call(this),this.i=new B_(this),this.S=this,this.J=null}function _i(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ai(e,n);else if(e instanceof Ai)e.target=e.target||n;else{var i=e;hl(e=new Ai(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=Og(l,r,!0,e)&&i}if(i=Og(l=e.g=n,r,!0,e)&&i,i=Og(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Og(l=e.g=t[a],r,!1,e)&&i}function Og(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,y=l.la||l.src;l.ia&&Xh(n.i,l),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}li(ui,pa),ui.prototype[qu]=!0,ui.prototype.removeEventListener=function(n,e,t,r){kE(this,n,e,t,r)},ui.prototype.N=function(){if(ui.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Jh(t[r]);delete n.g[e],n.h--}}this.J=null},ui.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ui.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var xg=cn.JSON.stringify;function NE(){var n=VE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fl,j_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new NT,n=>n.reset());class NT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FT(n){cn.setTimeout(()=>{throw n},0)}function LE(n,e){fl||function LT(){var n=cn.Promise.resolve(void 0);fl=function(){n.then(kg)}}(),$_||(fl(),$_=!0),VE.add(n,e)}var $_=!1,VE=new class FE{constructor(){this.h=this.g=null}add(e,t){const r=j_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function kg(){for(var n;n=NE();){try{n.h.call(n.g)}catch(t){FT(t)}var e=j_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$_=!1}function ef(n,e){ui.call(this),this.h=n||1,this.g=e||cn,this.j=yi(this.qb,this),this.l=Date.now()}function Pg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Rg(n,e,t){if("function"==typeof n)t&&(n=yi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yi(n.handleEvent,n)}return 2147483647<Number(e)?-1:cn.setTimeout(n,e||0)}function UE(n){n.g=Rg(()=>{n.g=null,n.i&&(n.i=!1,UE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}li(ef,ui),(gt=ef.prototype).ga=!1,gt.T=null,gt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_i(this,"tick"),this.ga&&(Pg(this),this.start()))}},gt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.N=function(){ef.$.N.call(this),Pg(this),delete this.g};class tf extends pa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UE(this)}N(){super.N(),this.g&&(cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(n){pa.call(this),this.h=n,this.g={}}li(ma,pa);var BE=[];function jE(n,e,t,r){Array.isArray(t)||(t&&(BE[0]=t.toString()),t=BE);for(var i=0;i<t.length;i++){var a=PT(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function $E(n){ga(n.g,function(e,t){this.g.hasOwnProperty(t)&&dc(e)},n),n.g={}}function nf(){this.g=!0}function Ku(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function VT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return xg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ma.prototype.N=function(){ma.$.N.call(this),$E(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nf.prototype.Ea=function(){this.g=!1},nf.prototype.info=function(){};var pl={},UT=null;function H_(){return UT=UT||new ui}function BT(n){Ai.call(this,pl.Ta,n)}function Ng(n){const e=H_();_i(e,new BT(e))}function z_(n,e){Ai.call(this,pl.STAT_EVENT,n),this.stat=e}function vi(n){const e=H_();_i(e,new z_(e,n))}function WE(n,e){Ai.call(this,pl.Ua,n),this.size=e}function rf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return cn.setTimeout(function(){n()},e)}pl.Ta="serverreachability",li(BT,Ai),pl.STAT_EVENT="statevent",li(z_,Ai),pl.Ua="timingevent",li(WE,Ai);var sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function G_(){}function ZE(){}G_.prototype.h=null;var Fg,af={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function KE(){Ai.call(this,"d")}function W_(){Ai.call(this,"c")}function Lg(){}function cf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ma(this),this.P=jT,this.V=new ef(n=R_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Qu}function Qu(){this.i=null,this.g="",this.h=!1}li(KE,Ai),li(W_,Ai),li(Lg,G_),Lg.prototype.g=function(){return new XMLHttpRequest},Lg.prototype.i=function(){return{}},Fg=new Lg;var jT=45e3,Vg={},Ug={};function Bg(n,e,t){n.L=1,n.v=hf(ya(e)),n.s=t,n.S=!0,YE(n,null)}function YE(n,e){n.G=Date.now(),lf(n),n.A=ya(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),tb(t.i,"t",r),n.C=0,t=n.l.I,n.h=new Qu,n.g=Qs(n.l,t?e:null,!n.s),0<n.O&&(n.M=new tf(yi(n.Pa,n,n.g),n.O)),jE(n.U,n.g,"readystatechange",n.nb),e=n.I?AE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ng(),function HE(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var I=w[0];w=w[1];var M=I.split("_");l=2<=M.length&&"type"==M[1]?l+(I+"=")+w+"&":l+(I+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function q_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function QE(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Z_(n,t),i==Ug){4==e&&(n.o=4,vi(14),r=!1),Ku(n.j,n.m,null,"[Incomplete Response]");break}if(i==Vg){n.o=4,vi(15),Ku(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ku(n.j,n.m,i,null),Y_(n,i)}q_(n)&&i!=Ug&&i!=Vg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),uv(e),e.L=!0,vi(11))):(Ku(n.j,n.m,t,"[Invalid Chunked Response]"),gl(n),df(n))}function Z_(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ug:(t=Number(e.substring(t,r)),isNaN(t)?Vg:(r+=1)+t>e.length?Ug:(e=e.substr(r,t),n.C=r+t,e))}function lf(n){n.Y=Date.now()+n.P,K_(n,n.P)}function K_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rf(yi(n.lb,n),e)}function uf(n){n.B&&(cn.clearTimeout(n.B),n.B=null)}function df(n){0==n.l.H||n.J||Eb(n.l,n)}function gl(n){uf(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Pg(n.V),$E(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function Y_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||zg(t.h,n)))if(!n.K&&zg(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;qg(t),fc(t)}vb(t),vi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=rf(yi(t.ib,t),6e3));if(1>=KT(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Ys(t,11)}else if((n.K||t.g==n)&&qg(t),!Cg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.J=w[1],t.oa=w[2];const I=w[3];null!=I&&(t.qa=I,t.j.info("VER="+t.qa));const M=w[4];null!=M&&(t.Ga=M,t.j.info("SVER="+t.Ga));const U=w[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const X=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var a=r.h;a.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(pf(a,a.h),a.h=null))}if(r.F){const ie=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(r.Da=ie,Tr(r.G,r.F,ie))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=Zg(r,r.I?r.oa:null,r.Y),l.K){sb(r.h,l);var f=l,y=r.K;y&&f.setTimeout(y),f.B&&(uf(f),lf(f)),r.g=l}else _b(r);0<t.i.length&&wf(t)}else"stop"!=w[0]&&"close"!=w[0]||Ys(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ys(t,7):av(t):"noop"!=w[0]&&t.l&&t.l.Aa(w),t.A=0)}Ng()}catch{}}function J_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Eg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function $T(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Eg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Q_(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Eg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(gt=cf.prototype).setTimeout=function(n){this.P=n},gt.nb=function(n){n=n.target;const e=this.M;e&&3==va(n)?e.l():this.Pa(n)},gt.Pa=function(n){try{if(n==this.g)e:{const I=va(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||R_||this.g&&(this.h.h||this.g.ja()||fb(this.g)))){this.J||4!=I||7==e||Ng(),uf(this);var t=this.g.da();this.aa=t;t:if(q_(this)){var r=fb(this.g);n="";var i=r.length,a=4==va(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gl(this),df(this);var l="";break t}this.h.i=new cn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function zE(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cg(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,vi(12),gl(this),df(this);break e}Ku(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Y_(this,t)}this.S?(QE(this,I,l),R_&&this.i&&3==I&&(jE(this.U,this.V,"tick",this.mb),this.V.start())):(Ku(this.j,this.m,l,null),Y_(this,l)),4==I&&gl(this),this.i&&!this.J&&(4==I?Eb(this.l,this):(this.i=!1,lf(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,vi(12)):(this.o=0,vi(13)),gl(this),df(this)}}}catch{}},gt.mb=function(){if(this.g){var n=va(this.g),e=this.g.ja();this.C<e.length&&(uf(this),QE(this,n,e),this.i&&4!=n&&lf(this))}},gt.cancel=function(){this.J=!0,gl(this)},gt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function GE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ng(),vi(17)),gl(this),this.o=2,df(this)):K_(this,this.Y-n)};var JE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ml(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ml){this.h=void 0!==e?e:n.h,jg(this,n.j),this.s=n.s,this.g=n.g,$g(this,n.m),this.l=n.l,e=n.i;var t=new yl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),XE(this,t),this.o=n.o}else n&&(t=String(n).match(JE))?(this.h=!!e,jg(this,t[1]||"",!0),this.s=Ju(t[2]||""),this.g=Ju(t[3]||"",!0),$g(this,t[4]),this.l=Ju(t[5]||"",!0),XE(this,t[6]||"",!0),this.o=Ju(t[7]||"")):(this.h=!!e,this.i=new yl(null,this.h))}function ya(n){return new ml(n)}function jg(n,e,t){n.j=t?Ju(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $g(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function XE(n,e,t){e instanceof yl?(n.i=e,function ZT(n,e){e&&!n.j&&(_a(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Hg(this,r),tb(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ff(e,qT)),n.i=new yl(e,n.h))}function Tr(n,e,t){n.i.set(e,t)}function hf(n){return Tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ju(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ff(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ml.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ff(e,X_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ff(e,X_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ff(t,"/"==t.charAt(0)?WT:GT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ff(t,ev)),n.join("")};var X_=/[#\/\?@]/g,GT=/[#\?:]/g,WT=/[#\?]/g,qT=/[#\?@]/g,ev=/#/g;function yl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _a(n){n.g||(n.g=new Map,n.h=0,n.i&&function HT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hg(n,e){_a(n),e=hc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function eb(n,e){return _a(n),e=hc(n,e),n.g.has(e)}function tb(n,e,t){Hg(n,e),0<t.length&&(n.i=null,n.g.set(hc(n,e),bg(t)),n.h+=t.length)}function hc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _l(n){this.l=n||rb,n=cn.PerformanceNavigationTiming?0<(n=cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(cn.g&&cn.g.Ka&&cn.g.Ka()&&cn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=yl.prototype).add=function(n,e){_a(this),this.i=null,n=hc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){_a(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.sa=function(){_a(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},gt.Z=function(n){_a(this);let e=[];if("string"==typeof n)eb(this,n)&&(e=e.concat(this.g.get(hc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return _a(this),this.i=null,eb(this,n=hc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var rb=10;function ib(n){return!!n.h||!!n.g&&n.g.size>=n.j}function KT(n){return n.h?1:n.g?n.g.size:0}function zg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function pf(n,e){n.g?n.g.add(e):n.h=e}function sb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gg(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return bg(n.i)}function tv(){}function ob(){this.g=new tv}function nv(n,e,t){const r=t||"";try{J_(n,function(i,a){let l=i;Hu(i)&&(l=xg(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xu(n){this.l=n.fc||null,this.j=n.ob||!1}function mf(n,e){ui.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=rv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_l.prototype.cancel=function(){if(this.i=Gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tv.prototype.stringify=function(n){return cn.JSON.stringify(n,void 0)},tv.prototype.parse=function(n){return cn.JSON.parse(n,void 0)},li(Xu,G_),Xu.prototype.g=function(){return new mf(this.l,this.j)},Xu.prototype.i=function(n){return function(){return n}}({}),li(mf,ui);var rv=0;function cb(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function yf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_f(n)}function _f(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=mf.prototype).open=function(n,e){if(this.readyState!=rv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_f(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||cn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yf(this)),this.readyState=rv},gt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_f(this)),this.g&&(this.readyState=3,_f(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cb(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},gt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?yf(this):_f(this),3==this.readyState&&cb(this)}},gt.Za=function(n){this.g&&(this.response=this.responseText=n,yf(this))},gt.Ya=function(n){this.g&&(this.response=n,yf(this))},gt.ka=function(){this.g&&yf(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(mf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lb=cn.JSON.parse;function Kr(n){ui.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iv,this.L=this.M=!1}li(Kr,ui);var iv="",YT=/^https?$/i,QT=["POST","PUT"];function ub(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,db(n),Wg(n)}function db(n){n.F||(n.F=!0,_i(n,"complete"),_i(n,"error"))}function hb(n){if(n.h&&typeof M_<"u"&&(!n.C[1]||4!=va(n)||2!=n.da()))if(n.v&&4==va(n))Rg(n.La,0,n);else if(_i(n,"readystatechange"),4==va(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.I).match(JE)[1]||null;if(!i&&cn.self&&cn.self.location){var a=cn.self.location.protocol;i=a.substr(0,a.length-1)}r=!YT.test(i?i.toLowerCase():"")}t=r}if(t)_i(n,"complete"),_i(n,"success");else{n.m=6;try{var l=2<va(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",db(n)}}finally{Wg(n)}}}function Wg(n,e){if(n.g){sv(n);const t=n.g,r=n.C[0]?wg:null;n.g=null,n.C=null,e||_i(n,"ready");try{t.onreadystatechange=r}catch{}}}function sv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(cn.clearTimeout(n.A),n.A=null)}function va(n){return n.g?n.g.readyState:0}function fb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pb(n){let e="";return ga(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ov(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=pb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Tr(n,e,t))}function vf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gb(n){this.Ga=0,this.i=[],this.j=new nf,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vf("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vf("baseRetryDelayMs",5e3,n),this.hb=vf("retryDelaySeedMs",1e4,n),this.eb=vf("forwardChannelMaxRetries",2,n),this.xa=vf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new _l(n&&n.concurrentRequestLimit),this.Ja=new ob,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function av(n){if(cv(n),3==n.H){var e=n.W++,t=ya(n.G);Tr(t,"SID",n.J),Tr(t,"RID",e),Tr(t,"TYPE","terminate"),ed(n,t),(e=new cf(n,n.j,e,void 0)).L=2,e.v=hf(ya(t)),t=!1,cn.navigator&&cn.navigator.sendBeacon&&(t=cn.navigator.sendBeacon(e.v.toString(),"")),!t&&cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Qs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lf(e)}Cb(n)}function fc(n){n.g&&(uv(n),n.g.cancel(),n.g=null)}function cv(n){fc(n),n.u&&(cn.clearTimeout(n.u),n.u=null),qg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&cn.clearTimeout(n.m),n.m=null)}function wf(n){ib(n.h)||n.m||(n.m=!0,LE(n.Na,n),n.C=0)}function lv(n,e){var t;t=e?e.m:n.W++;const r=ya(n.G);Tr(r,"SID",n.J),Tr(r,"RID",t),Tr(r,"AID",n.V),ed(n,r),n.o&&n.s&&ov(r,n.o,n.s),t=new cf(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=yb(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),pf(n.h,t),Bg(t,r,e)}function ed(n,e){n.ma&&ga(n.ma,function(t,r){Tr(e,r,t)}),n.l&&J_({},function(t,r){Tr(e,r,t)})}function yb(n,e,t){t=Math.min(n.i.length,t);var r=n.l?yi(n.l.Va,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let w=i[y].h;const I=i[y].g;if(w-=a,0>w)a=Math.max(0,i[y].h-100),f=!1;else try{nv(I,l,"req"+w+"_")}catch{r&&r(I)}}if(f){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function _b(n){n.g||n.u||(n.ba=1,LE(n.Ma,n),n.A=0)}function vb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=rf(yi(n.Ma,n),bb(n,n.A)),n.A++,0))}function uv(n){null!=n.B&&(cn.clearTimeout(n.B),n.B=null)}function wb(n){n.g=new cf(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ya(n.wa);Tr(e,"RID","rpc"),Tr(e,"SID",n.J),Tr(e,"CI",n.M?"0":"1"),Tr(e,"AID",n.V),Tr(e,"TYPE","xmlhttp"),ed(n,e),n.o&&n.s&&ov(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=hf(ya(e)),t.s=null,t.S=!0,YE(t,n)}function qg(n){null!=n.v&&(cn.clearTimeout(n.v),n.v=null)}function Eb(n,e){var t=null;if(n.g==e){qg(n),uv(n),n.g=null;var r=2}else{if(!zg(n.h,e))return;t=e.F,sb(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;_i(r=H_(),new WE(r,t)),wf(n)}else _b(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function mb(n,e){return!(KT(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=rf(yi(n.Na,n,e),bb(n,n.C)),n.C++,0)))}(n,e)||2==r&&vb(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ys(n,5);break;case 4:Ys(n,10);break;case 3:Ys(n,6);break;default:Ys(n,2)}}function bb(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Ys(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=yi(n.pb,n);t||(t=new ml("//www.google.com/images/cleardot.gif"),cn.location&&"http"==cn.location.protocol||jg(t,"https"),hf(t)),function ab(n,e){const t=new nf;if(cn.Image){const r=new Image;r.onload=dl(gf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=dl(gf,t,r,"TestLoadImage: error",!1,e),r.onabort=dl(gf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=dl(gf,t,r,"TestLoadImage: timeout",!1,e),cn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vi(2);n.H=0,n.l&&n.l.za(e),Cb(n),cv(n)}function Cb(n){if(n.H=0,n.pa=[],n.l){const e=Gg(n.h);(0!=e.length||0!=n.i.length)&&(x_(n.pa,e),x_(n.pa,n.i),n.h.i.length=0,bg(n.i),n.i.length=0),n.l.ya()}}function Zg(n,e,t){var r=t instanceof ml?ya(t):new ml(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),$g(r,r.m);else{var i=cn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new ml(null,void 0);r&&jg(a,r),e&&(a.g=e),i&&$g(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Tr(r,t,e),Tr(r,"VER",n.qa),ed(n,r),r}function Qs(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kr(t&&n.Ha&&!n.va?new Xu({ob:!0}):n.va)).Oa(n.I),e}function Ib(){}function td(){if(Gu&&!(10<=Number(DE)))throw Error("Environmental error: no available transport.")}function Mi(n,e){ui.call(this),this.g=new gb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Cg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nd(this)}function Db(n){KE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Tb(){W_.call(this),this.status=1}function nd(n){this.g=n}function ts(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dv(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Jn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(gt=Kr.prototype).Oa=function(n){this.M=n},gt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fg.g(),this.C=function qE(n){return n.h||(n.h=n.i())}(this.u?this.u:Fg),this.g.onreadystatechange=yi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void ub(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=cn.FormData&&n instanceof cn.FormData,!(0<=O_(QT,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sv(this),0<this.B&&((this.L=function Px(n){return Gu&&function IE(){return vE(CE,9,function(){let n=0;const e=_E(String(Dg)).split("."),t=_E("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=k_(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||k_(0==i[2].length,0==a[2].length)||k_(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yi(this.ua,this)):this.A=Rg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ub(this,a)}},gt.ua=function(){typeof M_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_i(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_i(this,"complete"),_i(this,"abort"),Wg(this))},gt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wg(this,!0)),Kr.$.N.call(this)},gt.La=function(){this.s||(this.G||this.v||this.l?hb(this):this.kb())},gt.kb=function(){hb(this)},gt.da=function(){try{return 2<va(this)?this.g.status:-1}catch{return-1}},gt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lb(e)}},gt.Ia=function(){return this.m},gt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=gb.prototype).qa=8,gt.H=1,gt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new cf(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=AE(a),hl(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yb(this,i,e),Tr(t=ya(this.G),"RID",n),Tr(t,"CVER",22),this.F&&Tr(t,"X-HTTP-Session-Id",this.F),ed(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(pb(a)))+"&"+e:this.o&&ov(t,this.o,a)),pf(this.h,i),this.bb&&Tr(t,"TYPE","init"),this.P?(Tr(t,"$req",e),Tr(t,"SID","null"),i.ba=!0,Bg(i,t,null)):Bg(i,t,e),this.H=2}}else 3==this.H&&(n?lv(this,n):0==this.i.length||ib(this.h)||lv(this))},gt.Ma=function(){if(this.u=null,wb(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=rf(yi(this.jb,this),n)}},gt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,vi(10),fc(this),wb(this))},gt.ib=function(){null!=this.v&&(this.v=null,fc(this),vb(this),vi(19))},gt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),vi(2)):(this.j.info("Failed to ping google.com"),vi(1))},(gt=Ib.prototype).Ba=function(){},gt.Aa=function(){},gt.za=function(){},gt.ya=function(){},gt.Va=function(){},td.prototype.g=function(n,e){return new Mi(n,e)},li(Mi,ui),Mi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;vi(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=Zg(n,null,n.Y),wf(n)},Mi.prototype.close=function(){av(this.g)},Mi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=xg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&wf(e)},Mi.prototype.N=function(){this.g.l=null,delete this.j,av(this.g),delete this.g,Mi.$.N.call(this)},li(Db,KE),li(Tb,W_),li(nd,Ib),nd.prototype.Ba=function(){_i(this.g,"a")},nd.prototype.Aa=function(n){_i(this.g,new Db(n))},nd.prototype.za=function(n){_i(this.g,new Tb)},nd.prototype.ya=function(){_i(this.g,"b")},li(ts,function Kg(){this.blockSize=-1}),ts.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ts.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)dv(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){dv(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){dv(this,r),i=0;break}}this.h=i,this.i+=e},ts.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Sb={};function Yg(n){return-128<=n&&128>n?vE(Sb,n,function(e){return new Jn([0|e],0>e?-1:0)}):new Jn([0|n],0>n?-1:0)}function ks(n){if(isNaN(n)||!isFinite(n))return pc;if(0>n)return Oi(ks(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Ef;return new Jn(e,0)}var Ef=4294967296,pc=Yg(0),Qg=Yg(1),Jg=Yg(16777216);function Js(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ps(n){return-1==n.h}function Oi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Jn(t,~n.h).add(Qg)}function Xg(n,e){return n.add(Oi(e))}function em(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function rd(n,e){this.g=n,this.h=e}function id(n,e){if(Js(e))throw Error("division by zero");if(Js(n))return new rd(pc,pc);if(Ps(n))return e=id(Oi(n),e),new rd(Oi(e.g),Oi(e.h));if(Ps(e))return e=id(n,Oi(e)),new rd(Oi(e.g),e.h);if(30<n.g.length){if(Ps(n)||Ps(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Qg,r=e;0>=r.X(n);)t=fv(t),r=fv(r);var i=vl(t,1),a=vl(r,1);for(r=vl(r,2),t=vl(t,2);!Js(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=vl(r,1),t=vl(t,1)}return e=Xg(n,i.R(e)),new rd(i,e)}for(i=pc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=ks(t)).R(e);Ps(l)||0<l.X(n);)l=(a=ks(t-=r)).R(e);Js(a)&&(a=Qg),i=i.add(a),n=Xg(n,l)}return new rd(i,n)}function fv(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Jn(t,n.h)}function vl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Jn(i,n.h)}(gt=Jn.prototype).ea=function(){if(Ps(this))return-Oi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Ef+r)*e,e*=Ef}return n},gt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Js(this))return"0";if(Ps(this))return"-"+Oi(this).toString(n);for(var e=ks(Math.pow(n,6)),t=this,r="";;){var i=id(t,e).g,a=((0<(t=Xg(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Js(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},gt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},gt.X=function(n){return Ps(n=Xg(this,n))?-1:Js(n)?0:1},gt.abs=function(){return Ps(this)?Oi(this):this},gt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new Jn(t,-2147483648&t[t.length-1]?-1:0)},gt.R=function(n){if(Js(this)||Js(n))return pc;if(Ps(this))return Ps(n)?Oi(this).R(Oi(n)):Oi(Oi(this).R(n));if(Ps(n))return Oi(this.R(Oi(n)));if(0>this.X(Jg)&&0>n.X(Jg))return ks(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,em(t,2*r+2*i),t[2*r+2*i+1]+=a*y,em(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,em(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,em(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Jn(t,0)},gt.gb=function(n){return id(this,n).h},gt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Jn(t,this.h&n.h)},gt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Jn(t,this.h|n.h)},gt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Jn(t,this.h^n.h)},td.prototype.createWebChannel=td.prototype.g,Mi.prototype.send=Mi.prototype.u,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,sf.NO_ERROR=0,sf.TIMEOUT=8,sf.HTTP_ERROR=6,Yu.COMPLETE="complete",ZE.EventType=af,af.OPEN="a",af.CLOSE="b",af.ERROR="c",af.MESSAGE="d",ui.prototype.listen=ui.prototype.O,Kr.prototype.listenOnce=Kr.prototype.P,Kr.prototype.getLastError=Kr.prototype.Sa,Kr.prototype.getLastErrorCode=Kr.prototype.Ia,Kr.prototype.getStatus=Kr.prototype.da,Kr.prototype.getResponseJson=Kr.prototype.Wa,Kr.prototype.getResponseText=Kr.prototype.ja,Kr.prototype.send=Kr.prototype.ha,Kr.prototype.setWithCredentials=Kr.prototype.Oa,ts.prototype.digest=ts.prototype.l,ts.prototype.reset=ts.prototype.reset,ts.prototype.update=ts.prototype.j,Jn.prototype.add=Jn.prototype.add,Jn.prototype.multiply=Jn.prototype.R,Jn.prototype.modulo=Jn.prototype.gb,Jn.prototype.compare=Jn.prototype.X,Jn.prototype.toNumber=Jn.prototype.ea,Jn.prototype.toString=Jn.prototype.toString,Jn.prototype.getBits=Jn.prototype.D,Jn.fromNumber=ks,Jn.fromString=function hv(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Oi(hv(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ks(Math.pow(e,8)),r=pc,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=ks(Math.pow(e,a)),r=r.R(a).add(ks(l))):r=(r=r.R(t)).add(ks(l))}return r};var Ab=gs.createWebChannelTransport=function(){return new td},Mb=gs.getStatEventTarget=function(){return H_()},pv=gs.ErrorCode=sf,Ob=gs.EventType=Yu,xb=gs.Event=pl,kb=gs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pb=gs.FetchXmlHttpFactory=Xu,bf=gs.WebChannel=ZE,zi=gs.XhrIo=Kr,sd=gs.Md5=ts,od=gs.Integer=Jn;const Rb="@firebase/firestore";class xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");let Cf="9.22.0";const wa=new da.Yd("@firebase/firestore");function If(){return wa.logLevel}function Ze(n,...e){if(wa.logLevel<=da.in.DEBUG){const t=e.map(tm);wa.debug(`Firestore (${Cf}): ${n}`,...t)}}function kr(n,...e){if(wa.logLevel<=da.in.ERROR){const t=e.map(tm);wa.error(`Firestore (${Cf}): ${n}`,...t)}}function Rs(n,...e){if(wa.logLevel<=da.in.WARN){const t=e.map(tm);wa.warn(`Firestore (${Cf}): ${n}`,...t)}}function tm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ct(n="Unexpected state"){const e=`FIRESTORE (${Cf}) INTERNAL ASSERTION FAILED: `+n;throw kr(e),new Error(e)}function Rt(n,e){n||Ct()}function ct(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Ln.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xi.UNAUTHENTICATED))}shutdown(){}}class Nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XT{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=l;e.enqueueRetryable((0,Oe.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},y=w=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt("string"==typeof r.accessToken),new nm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new xi(e)}}class Fb{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=xi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ad{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Fb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.T=t.token,new Lb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Bb{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Nx(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function dn(n,e){return n<e?-1:n>e?1:0}function cd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function jb(n){return n+"\0"}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Sr(0,0))}static max(){return new Nt(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ld{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ct(),void 0===r?r=e.length-t:r>e.length-t&&Ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ld.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ld?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class On extends ld{construct(e,t,r){return new On(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new On(t)}static emptyPath(){return new On([])}}const $b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends ld{construct(e,t,r){return new Pr(e,t,r)}static isValidIdentifier(e){return $b.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new je(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new je(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new je(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new je(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(On.fromString(e))}static fromName(e){return new lt(On.fromString(e).popFirst(5))}static empty(){return new lt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===On.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new On(e.slice()))}}class rm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function im(n){return n.fields.find(e=>2===e.kind)}function wl(n){return n.fields.filter(e=>2!==e.kind)}rm.UNKNOWN_ID=-1;class Tf{constructor(e,t){this.fieldPath=e,this.kind=t}}class ud{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ud(0,Ns.min())}}function Gb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new Sr(t+1,0):new Sr(t,r));return new Ns(i,lt.empty(),e)}function Wb(n){return new Ns(n.readTime,n.key,-1)}class Ns{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ns(Nt.min(),lt.empty(),-1)}static max(){return new Ns(Nt.max(),lt.empty(),-1)}}function sm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=lt.comparator(n.documentKey,e.documentKey),0!==t?t:dn(n.largestBatchId,e.largestBatchId))}const eS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function El(n){return qb.apply(this,arguments)}function qb(){return qb=(0,Oe.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==eS)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),qb.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new de((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(I=>{l[w]=I,++f,f===a&&r(l)},I=>i(I))}})}static doWhile(e,t){return new de((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class gv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new $r,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new gc(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=om(r.target.error);this.v.reject(new gc(e,i))}}static open(e,t,r,i){try{return new gv(t,e.transaction(i,r))}catch(a){throw new gc(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Zb(t)}}class Fo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Fo.S((0,Ln.z$)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),Lo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ln.hl)())return!1;if(Fo.C())return!0;const e=(0,Ln.z$)(),t=Fo.S(e),r=0<t&&t<10,i=Fo.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Oe.Z)(function*(){return t.db||(Ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new gc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new je(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new je(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new gc(e,f))},a.onupgradeneeded=l=>{Ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Oe.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const y=gv.open(a.db,e,l?"readonly":"readwrite",r),w=i(y).next(I=>(y.P(),I)).catch(I=>(y.abort(I),de.reject(I))).toPromise();return w.catch(()=>{}),yield y.R,w}catch(y){const w=y,I="FirebaseError"!==w.name&&f<3;if(Ze("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fx{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Lo(this.L.delete())}}class gc extends je{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bl(n){return"IndexedDbTransactionError"===n.name}class Zb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Lo(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),Lo(this.store.add(e))}get(e){return Lo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),Lo(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),Lo(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new de((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=a=>{const l=om(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new de((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const y=new Fx(f),w=t(f.primaryKey,f.value,y);if(w instanceof de){const I=w.catch(M=>(y.done(),de.reject(M)));r.push(I)}y.isDone?i():null===y.K?f.continue():f.continue(y.K)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Lo(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=om(r.target.error);t(i)}})}let mv=!1;function om(n){const e=Fo.S((0,Ln.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mv||(mv=!0,setTimeout(()=>{throw r},0)),r}}return n}class Lx{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Oe.Z)(function*(){t.task=null;try{Ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){bl(r)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield El(r)}yield t.et(6e4)}))}}class yv{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return de.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ze("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(Ze("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=Wb(a);sm(l,r)>0&&(r=l)}),new Ns(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ns=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Sf(n){return null==n}function am(n){return 0===n&&1/n==-1/0}function Kb(n){return"number"==typeof n&&Number.isInteger(n)&&!am(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Fi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Af(e)),e=nS(n.get(t),e);return Af(e)}function nS(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Af(n){return n+"\x01\x01"}function Vo(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),On.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&Ct(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:Ct()}a=l+2}return new On(r)}const rS=["userId","batchId"];function _v(n,e){return[n,Fi(e)]}function iS(n,e,t){return[n,Fi(e),t]}const sS={},oS=["prefixPath","collectionGroup","readTime","documentId"],aS=["prefixPath","collectionGroup","documentId"],Vx=["collectionGroup","readTime","prefixPath","documentId"],cS=["canonicalId","targetId"],Yb=["targetId","path"],Qb=["path","targetId"],Ux=["collectionId","parent"],Xs=["indexId","uid"],lS=["uid","sequenceNumber"],vv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uS=["indexId","uid","orderedDocumentKey"],Bx=["userId","collectionPath","documentId"],Fs=["userId","collectionPath","largestBatchId"],dS=["userId","collectionGroup","largestBatchId"],cm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hS=[...cm,"documentOverlays"],Jb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lm=Jb,Xb=[...lm,"indexConfiguration","indexState","indexEntries"];class um extends tS{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function wi(n,e){const t=ct(n);return Fo.M(t.ht,e)}function wv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ea(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ir{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dm(this.root,e,this.comparator,!0)}}class dm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??di.RED,this.left=i??di.EMPTY,this.right=a??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new di(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const e=this.left.check();if(e!==this.right.check())throw Ct();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(n,e,t,r,i){return this}insert(n,e,t){return new di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ba(this.data.getIterator())}getIteratorFrom(e){return new ba(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class ba{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cl(n){return n.hasNext()?n.getNext():void 0}class Li{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new Li([])}unionWith(e){let t=new Vn(Pr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Li(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ev extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Ev("Invalid base64 string: "+i):i}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const pS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=pS.exec(n);if(Rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hr(n.seconds),nanos:Hr(n.nanos)}}function Hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ca(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function Mf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bv(n){const e=n.mapValue.fields.__previous_value__;return Mf(e)?bv(e):e}function dd(n){const e=mc(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}class gS{constructor(e,t,r,i,a,l,f,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=w}}class Ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}const Il={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hd={nullValue:"NULL_VALUE"};function Da(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mf(n)?4:tC(n)?9007199254740991:10:Ct()}function eo(n,e){if(n===e)return!0;const t=Da(n);if(t!==Da(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dd(n).isEqual(dd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=mc(r.timestampValue),l=mc(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ca(n.bytesValue).isEqual(Ca(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Hr(r.geoPointValue.latitude)===Hr(i.geoPointValue.latitude)&&Hr(r.geoPointValue.longitude)===Hr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Hr(r.integerValue)===Hr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Hr(r.doubleValue),l=Hr(i.doubleValue);return a===l?am(a)===am(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return cd(n.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(wv(a)!==wv(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!eo(a[f],l[f])))return!1;return!0}(n,e);default:return Ct()}var i}function fd(n,e){return void 0!==(n.values||[]).find(t=>eo(t,e))}function Ta(n,e){if(n===e)return 0;const t=Da(n),r=Da(e);if(t!==r)return dn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return dn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Hr(i.integerValue||i.doubleValue),f=Hr(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return Cv(n.timestampValue,e.timestampValue);case 4:return Cv(dd(n),dd(e));case 5:return dn(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Ca(i),f=Ca(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let y=0;y<l.length&&y<f.length;y++){const w=dn(l[y],f[y]);if(0!==w)return w}return dn(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=dn(Hr(i.latitude),Hr(a.latitude));return 0!==l?l:dn(Hr(i.longitude),Hr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let y=0;y<l.length&&y<f.length;++y){const w=Ta(l[y],f[y]);if(w)return w}return dn(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Il.mapValue&&a===Il.mapValue)return 0;if(i===Il.mapValue)return 1;if(a===Il.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),y=a.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const M=dn(f[I],w[I]);if(0!==M)return M;const U=Ta(l[f[I]],y[w[I]]);if(0!==U)return U}return dn(f.length,w.length)}(n.mapValue,e.mapValue);default:throw Ct()}}function Cv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return dn(n,e);const t=mc(n),r=mc(e),i=dn(t.seconds,r.seconds);return 0!==i?i:dn(t.nanos,r.nanos)}function Sa(n){return pd(n)}function pd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=mc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ca(n.bytesValue).toBase64():"referenceValue"in n?lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=pd(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${pd(r.fields[f])}`;return a+"}"}(n.mapValue):Ct();var e}function Dl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Iv(n){return!!n&&"integerValue"in n}function hm(n){return!!n&&"arrayValue"in n}function mS(n){return!!n&&"nullValue"in n}function yS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xf(n){return!!n&&"mapValue"in n}function kf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ea(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _S(n){return"nullValue"in n?hd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Dl(Ia.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ct()}function jx(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Dl(Ia.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Il:Ct()}function vS(n,e){const t=Ta(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function wS(n,e){const t=Ta(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kf(t)}setAll(e){let t=Pr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=kf(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ea(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Vi(kf(this.value))}}function ES(n){const e=[];return Ea(n.fields,(t,r)=>{const i=new Pr([t]);if(xf(r)){const a=ES(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Li(e)}class gr{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new gr(e,0,Nt.min(),Nt.min(),Nt.min(),Vi.empty(),0)}static newFoundDocument(e,t,r,i){return new gr(e,1,t,Nt.min(),r,i,0)}static newNoDocument(e,t){return new gr(e,2,t,Nt.min(),Nt.min(),Vi.empty(),0)}static newUnknownDocument(e,t){return new gr(e,3,t,Nt.min(),Nt.min(),Vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class to{constructor(e,t){this.position=e,this.inclusive=t}}function nC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?lt.comparator(lt.fromName(l.referenceValue),t.key):Ta(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eo(n.position[t],e.position[t]))return!1;return!0}class Tl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sl(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Dv{}class vn extends Dv{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new sC(e,t,r):"array-contains"===t?new SS(e,r):"in"===t?new Tv(e,r):"not-in"===t?new aC(e,r):"array-contains-any"===t?new cC(e,r):new vn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new DS(e,r):new TS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ta(t,this.value)):null!==t&&Da(this.value)===Da(t)&&this.matchesComparison(Ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Hn extends Dv{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Hn(e,t)}matches(e){return gd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function gd(n){return"and"===n.op}function Pf(n){return"or"===n.op}function Rf(n){return Nf(n)&&gd(n)}function Nf(n){for(const e of n.filters)if(e instanceof Hn)return!1;return!0}function iC(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+Sa(n.value);if(Rf(n))return n.filters.map(e=>iC(e)).join(",");{const e=n.filters.map(t=>iC(t)).join(",");return`${n.op}(${e})`}}function bS(n,e){return n instanceof vn?(t=n,(r=e)instanceof vn&&t.op===r.op&&t.field.isEqual(r.field)&&eo(t.value,r.value)):n instanceof Hn?function(t,r){return r instanceof Hn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&bS(a,r.filters[l]),!0)}(n,e):void Ct();var t,r}function CS(n,e){const t=n.filters.concat(e);return Hn.create(t,n.op)}function IS(n){return n instanceof vn?`${(e=n).field.canonicalString()} ${e.op} ${Sa(e.value)}`:n instanceof Hn?function(e){return e.op.toString()+" {"+e.getFilters().map(IS).join(" ,")+"}"}(n):"Filter";var e}class sC extends vn{constructor(e,t,r){super(e,t,r),this.key=lt.fromName(r.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class DS extends vn{constructor(e,t){super(e,"in",t),this.keys=oC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TS extends vn{constructor(e,t){super(e,"not-in",t),this.keys=oC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>lt.fromName(r.referenceValue))}class SS extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hm(t)&&fd(t.arrayValue,this.value)}}class Tv extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fd(this.value.arrayValue,t)}}class aC extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fd(this.value.arrayValue,t)}}class cC extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fd(this.value.arrayValue,r))}}class AS{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function Sv(n,e=null,t=[],r=[],i=null,a=null,l=null){return new AS(n,e,t,r,i,a,l)}function yc(n){const e=ct(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>iC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sa(r)).join(",")),e.dt=t}return e.dt}function Al(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sl(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rC(n.startAt,e.startAt)&&rC(n.endAt,e.endAt)}function Av(n){return lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ff(n,e){return n.filters.filter(t=>t instanceof vn&&t.field.isEqual(e))}function fm(n,e,t){let r=hd,i=!0;for(const a of Ff(n,e)){let l=hd,f=!0;switch(a.op){case"<":case"<=":l=_S(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=hd}vS({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];vS({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function lC(n,e,t){let r=Il,i=!0;for(const a of Ff(n,e)){let l=Il,f=!0;switch(a.op){case">=":case">":l=jx(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=Il}wS({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];wS({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Aa{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function MS(n,e,t,r,i,a,l,f){return new Aa(n,e,t,r,i,a,l,f)}function Lf(n){return new Aa(n)}function uC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Mv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function dC(n){return null!==n.collectionGroup}function md(n){const e=ct(n);if(null===e.wt){e.wt=[];const t=pm(e),r=Mv(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Tl(t)),e.wt.push(new Tl(Pr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Tl(Pr.keyField(),a))}}}return e.wt}function rs(n){const e=ct(n);if(!e._t)if("F"===e.limitType)e._t=Sv(e.path,e.collectionGroup,md(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of md(e))t.push(new Tl(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new to(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new to(e.startAt.position,e.startAt.inclusive):null;e._t=Sv(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function hC(n,e){e.getFirstInequalityField(),pm(n);const t=n.filters.concat([e]);return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gm(n,e,t){return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mm(n,e){return Al(rs(n),rs(e))&&n.limitType===e.limitType}function OS(n){return`${yc(rs(n))}|lt:${n.limitType}`}function fC(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>IS(r)).join(", ")}]`),Sf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sa(r)).join(",")),`Target(${t})`}(rs(n))}; limitType=${n.limitType})`}function ym(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):lt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of md(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=nC(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,md(t),r)||t.endAt&&!function(i,a,l){const f=nC(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,md(t),r)));var t,r}function pC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xS(n){return(e,t)=>{let r=!1;for(const i of md(n)){const a=s(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function s(n,e,t){const r=n.field.isKeyField()?lt.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),y=l.data.field(i);return null!==f&&null!==y?Ta(f,y):Ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ct()}}class o{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return eC(this.inner)}size(){return this.innerSize}}const c=new ir(lt.comparator);function d(){return c}const h=new ir(lt.comparator);function g(...n){let e=h;for(const t of n)e=e.insert(t.key,t);return e}function _(n){let e=h;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function b(){return T()}function C(){return T()}function T(){return new o(n=>n.toString(),(n,e)=>n.isEqual(e))}const k=new ir(lt.comparator),V=new Vn(lt.comparator);function H(...n){let e=V;for(const t of n)e=e.add(t);return e}const oe=new Vn(dn);function Ae(){return oe}function Qe(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function ut(n){return{integerValue:""+n}}function Tt(n,e){return Kb(e)?ut(e):Qe(n,e)}class Bt{constructor(){this._=void 0}}function Ge(n,e,t){return n instanceof ur?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Mf(i)&&(i=bv(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof yd?$x(n,e):n instanceof Vf?Hx(n,e):function(r,i){const a=mr(r,i),l=zx(a)+zx(r.gt);return Iv(a)&&Iv(r.gt)?ut(l):Qe(r.serializer,l)}(n,e)}function hn(n,e,t){return n instanceof yd?$x(n,e):n instanceof Vf?Hx(n,e):t}function mr(n,e){return n instanceof _m?Iv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ur extends Bt{}class yd extends Bt{constructor(e){super(),this.elements=e}}function $x(n,e){const t=Gx(e);for(const r of n.elements)t.some(i=>eo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Vf extends Bt{constructor(e){super(),this.elements=e}}function Hx(n,e){let t=Gx(e);for(const r of n.elements)t=t.filter(i=>!eo(i,r));return{arrayValue:{values:t}}}class _m extends Bt{constructor(e,t){super(),this.serializer=e,this.gt=t}}function zx(n){return Hr(n.integerValue||n.doubleValue)}function Gx(n){return hm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ov{constructor(e,t){this.field=e,this.transform=t}}class CF{constructor(e,t){this.version=e,this.transformResults=t}}class zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mC{}function Wx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wm(n.key,zr.none()):new vm(n.key,n.data,zr.none());{const t=n.data,r=Vi.empty();let i=new Vn(Pr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new Ml(n.key,r,new Li(i.toArray()),zr.none())}}function IF(n,e,t){n instanceof vm?function(r,i,a){const l=r.value.clone(),f=Kx(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Ml?function(r,i,a){if(!gC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Kx(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(Zx(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xv(n,e,t,r){return n instanceof vm?function(i,a,l,f){if(!gC(i.precondition,a))return l;const y=i.value.clone(),w=Yx(i.fieldTransforms,f,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ml?function(i,a,l,f){if(!gC(i.precondition,a))return l;const y=Yx(i.fieldTransforms,f,a),w=a.data;return w.setAll(Zx(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(l=t,gC(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function DF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=mr(r.transform,i||null);null!=a&&(null===t&&(t=Vi.empty()),t.set(r.field,a))}return t||null}function qx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&cd(t,r,(i,a)=>function bF(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yd&&r instanceof yd||t instanceof Vf&&r instanceof Vf?cd(t.elements,r.elements,eo):t instanceof _m&&r instanceof _m?eo(t.gt,r.gt):t instanceof ur&&r instanceof ur);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vm extends mC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ml extends mC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Zx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Kx(n,e,t){const r=new Map;Rt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,hn(l,f,t[i]))}return r}function Yx(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,Ge(a,l,e))}return r}class wm extends mC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kS extends mC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&IF(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=C();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const y=Wx(l,f);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),H())}isEqual(e){return this.batchId===e.batchId&&cd(this.mutations,e.mutations,(t,r)=>qx(t,r))&&cd(this.baseMutations,e.baseMutations,(t,r)=>qx(t,r))}}class RS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Rt(e.mutations.length===r.length);let i=k;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new RS(e,t,r,i)}}class NS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class SF{constructor(e,t){this.count=e,this.unchangedNames=t}}var bi,jn;function Qx(n){switch(n){default:return Ct();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function Jx(n){if(void 0===n)return kr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case bi.OK:return pe.OK;case bi.CANCELLED:return pe.CANCELLED;case bi.UNKNOWN:return pe.UNKNOWN;case bi.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case bi.INTERNAL:return pe.INTERNAL;case bi.UNAVAILABLE:return pe.UNAVAILABLE;case bi.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case bi.NOT_FOUND:return pe.NOT_FOUND;case bi.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case bi.ABORTED:return pe.ABORTED;case bi.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case bi.DATA_LOSS:return pe.DATA_LOSS;default:return Ct()}}(jn=bi||(bi={}))[jn.OK=0]="OK",jn[jn.CANCELLED=1]="CANCELLED",jn[jn.UNKNOWN=2]="UNKNOWN",jn[jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jn[jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jn[jn.NOT_FOUND=5]="NOT_FOUND",jn[jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",jn[jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",jn[jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",jn[jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jn[jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jn[jn.ABORTED=10]="ABORTED",jn[jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",jn[jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",jn[jn.INTERNAL=13]="INTERNAL",jn[jn.UNAVAILABLE=14]="UNAVAILABLE",jn[jn.DATA_LOSS=15]="DATA_LOSS";class FS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yC}static getOrCreateInstance(){return null===yC&&(yC=new FS),yC}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let yC=null;function Xx(){return new TextEncoder}const AF=new od([4294967295,4294967295],0);function ek(n){const e=Xx().encode(n),t=new sd;return t.update(e),new Uint8Array(t.digest())}function tk(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new od([t,r],0),new od([i,a],0)]}class LS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kv(`Invalid padding: ${t}`);if(r<0)throw new kv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new kv(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new kv(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=od.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(od.fromNumber(r)));return 1===i.compare(AF)&&(i=new od([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ek(e),[r,i]=tk(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new LS(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=ek(e),[r,i]=tk(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class kv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pv{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Rv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pv(Nt.min(),i,new ir(dn),d(),H())}}class Rv{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rv(r,t,H(),H(),H())}}class _C{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class nk{constructor(e,t){this.targetId=e,this.Vt=t}}class rk{constructor(e,t,r=Ei.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ik{constructor(){this.St=0,this.Dt=ok(),this.Ct=Ei.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=H(),t=H(),r=H();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ct()}}),new Rv(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=ok()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class MF{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=d(),this.zt=sk(),this.Wt=new ir(dn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(Av(l))if(0===i){const f=new lt(l.path);this.Yt(r,f,gr.newNoDocument(f,Nt.min()))}else Rt(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=FS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,I,M){var U,G,X,ie,he,et;const rt={localCacheCount:I,existenceFilterCount:M.count},_t=M.unchangedNames;return _t&&(rt.bloomFilter={applied:0===w,hashCount:null!==(U=_t?.hashCount)&&void 0!==U?U:0,bitmapLength:null!==(ie=null===(X=null===(G=_t?.bits)||void 0===G?void 0:G.bitmap)||void 0===X?void 0:X.length)&&void 0!==ie?ie:0,padding:null!==(et=null===(he=_t?.bits)||void 0===he?void 0:he.padding)&&void 0!==et?et:0}),rt}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let y,w;try{y=Ca(a).toUint8Array()}catch(I){if(I instanceof Ev)return Rs("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{w=new LS(y,l,f)}catch(I){return Rs(I instanceof kv?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&Av(f.target)){const y=new lt(f.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,gr.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=H();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(y=>{const w=this.se(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new Pv(e,t,this.Wt,this.jt,r);return this.jt=d(),this.zt=sk(),this.Wt=new ir(dn),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ik,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Vn(dn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ik),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function sk(){return new ir(lt.comparator)}function ok(){return new ir(lt.comparator)}const OF={asc:"ASCENDING",desc:"DESCENDING"},xF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kF={and:"AND",or:"OR"};class PF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function VS(n,e){return n.useProto3Json||Sf(e)?e:{value:e}}function Em(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ak(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function RF(n,e){return Em(n,e.toTimestamp())}function hi(n){return Rt(!!n),Nt.fromTimestamp(function(e){const t=mc(e);return new Sr(t.seconds,t.nanos)}(n))}function US(n,e){return(t=n,new On(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ck(n){const e=On.fromString(n);return Rt(yk(e)),e}function Nv(n,e){return US(n.databaseId,e.path)}function _c(n,e){const t=ck(e);if(t.get(1)!==n.databaseId.projectId)throw new je(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(uk(t))}function BS(n,e){return US(n.databaseId,e)}function lk(n){const e=ck(n);return 4===e.length?On.emptyPath():uk(e)}function Fv(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uk(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dk(n,e,t){return{name:Nv(n,e),fields:t.value.mapValue.fields}}function hk(n,e,t){const r=_c(n,e.name),i=hi(e.updateTime),a=e.createTime?hi(e.createTime):Nt.min(),l=new Vi({mapValue:{fields:e.fields}}),f=gr.newFoundDocument(r,i,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Lv(n,e){let t;if(e instanceof vm)t={update:dk(n,e.key,e.value)};else if(e instanceof wm)t={delete:Nv(n,e.key)};else if(e instanceof Ml)t={update:dk(n,e.key,e.data),updateMask:$F(e.fieldMask)};else{if(!(e instanceof kS))return Ct();t={verify:Nv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof ur)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof yd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof _m)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw Ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:RF(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ct()),t;var i}function jS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?zr.updateTime(hi(i.updateTime)):void 0!==i.exists?zr.exists(i.exists):zr.none():zr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(Rt("REQUEST_TIME"===l.setToServerValue),f=new ur):"appendMissingElements"in l?f=new yd(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Vf(l.removeAllFromArray.values||[]):"increment"in l?f=new _m(a,l.increment):Ct();const y=Pr.fromServerFormat(l.fieldPath);return new Ov(y,f)}(n,i)):[];var i;if(e.update){const i=_c(n,e.update.name),a=new Vi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Li((e.updateMask.fieldPaths||[]).map(w=>Pr.fromServerFormat(w)));return new Ml(i,a,l,t,r)}return new vm(i,a,t,r)}if(e.delete){const i=_c(n,e.delete);return new wm(i,t)}if(e.verify){const i=_c(n,e.verify);return new kS(i,t)}return Ct()}function fk(n,e){return{documents:[BS(n,e.path)]}}function $S(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=BS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=BS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return mk(Hn.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:_d((I=w).field),direction:UF(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=VS(n,e.limit);var f,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function pk(n){let e=lk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Rt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(I){const M=gk(I);return M instanceof Hn&&Rf(M)?M.getFilters():[M]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(I=>{return new Tl(bm((M=I).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,Sf(M)?null:M}(t.limit));let y=null;var I;t.startAt&&(y=new to((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new to(I.values||[],!I.before)}(t.endAt)),MS(e,i,l,a,f,"F",y,w)}function gk(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=bm(e.unaryFilter.field);return vn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=bm(e.unaryFilter.field);return vn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bm(e.unaryFilter.field);return vn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=bm(e.unaryFilter.field);return vn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}(n):void 0!==n.fieldFilter?vn.create(bm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Hn.create(e.compositeFilter.filters.map(t=>gk(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ct()}}(e.compositeFilter.op))}(n):Ct();var e}function UF(n){return OF[n]}function BF(n){return xF[n]}function jF(n){return kF[n]}function _d(n){return{fieldPath:n.canonicalString()}}function bm(n){return Pr.fromServerFormat(n.fieldPath)}function mk(n){return n instanceof vn?function(e){if("=="===e.op){if(yS(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NAN"}};if(mS(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yS(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NAN"}};if(mS(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_d(e.field),op:BF(e.op),value:e.value}}}(n):n instanceof Hn?function(e){const t=e.getFilters().map(r=>mk(r));return 1===t.length?t[0]:{compositeFilter:{op:jF(e.op),filters:t}}}(n):Ct()}function $F(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ol{constructor(e,t,r,i,a=Nt.min(),l=Nt.min(),f=Ei.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new Ol(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _k{constructor(e){this.fe=e}}function vk(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Nv(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Em(i,a.version.toTimestamp()),createTime:Em(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Uf(e.version)};else{if(!e.isUnknownDocument())return Ct();r.unknownDocument={path:t.path.toArray(),version:Uf(e.version)}}var i,a;return r}function vC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Uf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bf(n){const e=new Sr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function jf(n,e){const t=(e.baseMutations||[]).map(a=>jS(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>jS(n.fe,a)),i=Sr.fromMillis(e.localWriteTimeMs);return new PS(e.batchId,i,t,r)}function Vv(n){const e=Bf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bf(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Rt(1===(i=n.query).documents.length),r=rs(Lf(lk(i.documents[0])))):r=rs(pk(n.query)),new Ol(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken))}function wk(n,e){const t=Uf(e.snapshotVersion),r=Uf(e.lastLimboFreeSnapshotVersion);let i;i=Av(e.target)?fk(n.fe,e.target):$S(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function HS(n){const e=pk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gm(e,e.limit,"L"):e}function zS(n,e){return new NS(e.largestBatchId,jS(n.fe,e.overlayMutation))}function Ek(n,e){const t=e.path.lastSegment();return[n,Fi(e.path.popLast()),t]}function bk(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Uf(r.readTime),documentKey:Fi(r.documentKey.path),largestBatchId:r.largestBatchId}}class zF{getBundleMetadata(e,t){return Ck(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Bf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Ck(e).put({bundleId:(r=t).id,createTime:Uf(hi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ik(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:HS(i.bundledQuery),readTime:Bf(i.readTime)};var i})}saveNamedQuery(e,t){return Ik(e).put({name:(r=t).name,readTime:Uf(hi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ck(n){return wi(n,"bundles")}function Ik(n){return wi(n,"namedQueries")}class wC{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new wC(e,t.uid||"")}getOverlay(e,t){return Uv(e).get(Ek(this.userId,t)).next(r=>r?zS(this.serializer,r):null)}getOverlays(e,t){const r=b();return de.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const f=new NS(t,l);i.push(this.we(e,f))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Fi(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(Uv(e).J("collectionPathOverlayIndex",f))}),de.waitFor(a)}getOverlaysForCollection(e,t,r){const i=b(),a=Fi(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Uv(e).j("collectionPathOverlayIndex",l).next(f=>{for(const y of f){const w=zS(this.serializer,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=b();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Uv(e).X({index:"collectionGroupOverlayIndex",range:f},(y,w,I)=>{const M=zS(this.serializer,w);a.size()<i||M.largestBatchId===l?(a.set(M.getKey(),M),l=M.largestBatchId):I.done()}).next(()=>a)}we(e,t){return Uv(e).put(function(r,i,a){const[l,f,y]=Ek(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Lv(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function Uv(n){return wi(n,"documentOverlays")}class $f{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Hr(e.integerValue));else if("doubleValue"in e){const r=Hr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),am(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ca(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?tC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ct()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),lt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function GF(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Dk(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=GF(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}$f.Ve=new $f;class WF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=Dk(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=Dk(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class qF{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ZF{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Bv{constructor(){this.je=new WF,this.ze=new qF(this.je),this.We=new ZF(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Hf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hf(this.indexId,this.documentKey,this.arrayValue,r)}}function vd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Tk(n.arrayValue,e.arrayValue),0!==t?t:(t=Tk(n.directionalValue,e.directionalValue),0!==t?t:lt.comparator(n.documentKey,e.documentKey)))}function Tk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class KF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Rt(e.collectionGroup===this.collectionId);const t=im(e);if(void 0!==t&&!this.en(t))return!1;const r=wl(e);let i=0,a=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const l=r[i];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[a++],l))return!1;++i}for(;i<r.length;++i)if(a>=this.Ye.length||!this.sn(this.Ye[a++],r[i]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Sk(n){var e,t;if(Rt(n instanceof vn||n instanceof Hn),n instanceof vn){if(n instanceof Tv){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>vn.create(n.field,"==",a)))||[];return Hn.create(i,"or")}return n}const r=n.filters.map(i=>Sk(i));return Hn.create(r,n.op)}function YF(n){if(0===n.getFilters().length)return[];const e=qS(Sk(n));return Rt(Ak(e)),GS(e)||WS(e)?[e]:e.getFilters()}function GS(n){return n instanceof vn}function WS(n){return n instanceof Hn&&Rf(n)}function Ak(n){return GS(n)||WS(n)||function(e){if(e instanceof Hn&&Pf(e)){for(const t of e.getFilters())if(!GS(t)&&!WS(t))return!1;return!0}return!1}(n)}function qS(n){if(Rt(n instanceof vn||n instanceof Hn),n instanceof vn)return n;if(1===n.filters.length)return qS(n.filters[0]);const e=n.filters.map(r=>qS(r));let t=Hn.create(e,n.op);return t=EC(t),Ak(t)?t:(Rt(t instanceof Hn),Rt(gd(t)),Rt(t.filters.length>1),t.filters.reduce((r,i)=>ZS(r,i)))}function ZS(n,e){let t;return Rt(n instanceof vn||n instanceof Hn),Rt(e instanceof vn||e instanceof Hn),t=n instanceof vn?e instanceof vn?Hn.create([n,e],"and"):Mk(n,e):e instanceof vn?Mk(e,n):function(r,i){if(Rt(r.filters.length>0&&i.filters.length>0),gd(r)&&gd(i))return CS(r,i.getFilters());const a=Pf(r)?r:i,l=Pf(r)?i:r,f=a.filters.map(y=>ZS(y,l));return Hn.create(f,"or")}(n,e),EC(t)}function Mk(n,e){if(gd(e))return CS(e,n.getFilters());{const t=e.filters.map(r=>ZS(n,r));return Hn.create(t,"or")}}function EC(n){if(Rt(n instanceof vn||n instanceof Hn),n instanceof vn)return n;const e=n.getFilters();if(1===e.length)return EC(e[0]);if(Nf(n))return n;const t=e.map(i=>EC(i)),r=[];return t.forEach(i=>{i instanceof vn?r.push(i):i instanceof Hn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Hn.create(r,n.op)}class QF{constructor(){this.rn=new KS}addToCollectionParentIndex(e,t){return this.rn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Ns.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class KS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vn(On.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(On.comparator)).toArray()}}const bC=new Uint8Array(0);class JF{constructor(e,t){this.user=e,this.databaseId=t,this.on=new KS,this.un=new o(r=>yc(r),(r,i)=>Al(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Fi(i)};return Ok(e).put(a)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[jb(t),""],!1,!0);return Ok(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(Vo(l.parent))}return r})}addFieldIndex(e,t){const r=CC(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=$v(e);return a.next(f=>{l.put(bk(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=CC(e),i=$v(e),a=jv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=jv(e);let i=!0;const a=new Map;return de.forEach(this.cn(t),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=H();const f=[];return de.forEach(a,(y,w)=>{var I;Ze("IndexedDbIndexManager",`Using index ${I=y,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${yc(t)}`);const M=function(_t,St){const Jt=im(St);if(void 0===Jt)return null;for(const fn of Ff(_t,Jt.fieldPath))switch(fn.op){case"array-contains-any":return fn.value.arrayValue.values||[];case"array-contains":return[fn.value]}return null}(w,y),U=function(_t,St){const Jt=new Map;for(const fn of wl(St))for(const qn of Ff(_t,fn.fieldPath))switch(qn.op){case"==":case"in":Jt.set(fn.fieldPath.canonicalString(),qn.value);break;case"not-in":case"!=":return Jt.set(fn.fieldPath.canonicalString(),qn.value),Array.from(Jt.values())}return null}(w,y),G=function(_t,St){const Jt=[];let fn=!0;for(const qn of wl(St)){const qi=0===qn.kind?fm(_t,qn.fieldPath,_t.startAt):lC(_t,qn.fieldPath,_t.startAt);Jt.push(qi.value),fn&&(fn=qi.inclusive)}return new to(Jt,fn)}(w,y),X=function(_t,St){const Jt=[];let fn=!0;for(const qn of wl(St)){const qi=0===qn.kind?lC(_t,qn.fieldPath,_t.endAt):fm(_t,qn.fieldPath,_t.endAt);Jt.push(qi.value),fn&&(fn=qi.inclusive)}return new to(Jt,fn)}(w,y),ie=this.hn(y,w,G),he=this.hn(y,w,X),et=this.ln(y,w,U),rt=this.fn(y.indexId,M,ie,G.inclusive,he,X.inclusive,et);return de.forEach(rt,_t=>r.H(_t,t.limit).next(St=>{St.forEach(Jt=>{const fn=lt.fromSegments(Jt.documentKey);l.has(fn)||(l=l.add(fn),f.push(fn))})}))}).next(()=>f)}return de.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:YF(Hn.create(e.filters,"and")).map(r=>Sv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,f){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),w=y/(null!=t?t.length:1),I=[];for(let M=0;M<y;++M){const U=t?this.dn(t[M/w]):bC,G=this.wn(e,U,r[M%w],i),X=this._n(e,U,a[M%w],l),ie=f.map(he=>this.wn(e,U,he,!0));I.push(...this.createRange(G,X,ie))}return I}wn(e,t,r,i){const a=new Hf(e,lt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new Hf(e,lt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new KF(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return de.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let y=new Vn(Pr.comparator),w=!1;for(const I of f.filters)for(const M of I.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?w=!0:y=y.add(M.field));for(const I of f.orderBy)I.field.isKeyField()||(y=y.add(I.field));return y.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Bv;for(const i of wl(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);$f.Ve._e(a,l)}return r.Qe()}dn(e){const t=new Bv;return $f.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Bv;return $f.Ve._e(Dl(this.databaseId,t),r.He(function(i){const a=wl(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Bv);let a=0;for(const l of wl(e)){const f=r[a++];for(const y of i)if(this.yn(t,l.fieldPath)&&hm(f))i=this.pn(i,l,f);else{const w=y.He(l.kind);$f.Ve._e(f,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const y=new Bv;y.seed(f.Qe()),$f.Ve._e(l,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof vn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=CC(e),i=$v(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return de.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{l.push(function(w,I){const M=I?new ud(I.sequenceNumber,new Ns(Bf(I.readTime),new lt(Vo(I.documentKey)),I.largestBatchId)):ud.empty(),U=w.fields.map(([G,X])=>new Tf(Pr.fromServerFormat(G),X));return new rm(w.indexId,w.collectionGroup,U,M)}(f,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:dn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=CC(e),a=$v(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>de.forEach(f,y=>a.put(bk(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?de.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),de.forEach(f,y=>this.En(e,i,y).next(w=>{const I=this.An(a,y);return w.isEqual(I)?de.resolve():this.vn(e,a,y,w,I)}))))})}Rn(e,t,r,i){return jv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return jv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=jv(e);let a=new Vn(vd);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{a=a.add(new Hf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new Vn(vd);const i=this.mn(t,e);if(null==i)return r;const a=im(t);if(null!=a){const l=e.data.field(a.fieldPath);if(hm(l))for(const f of l.arrayValue.values||[])r=r.add(new Hf(t.indexId,e.key,this.dn(f),i))}else r=r.add(new Hf(t.indexId,e.key,bC,i));return r}vn(e,t,r,i,a){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,y,w,I,M){const U=f.getIterator(),G=y.getIterator();let X=Cl(U),ie=Cl(G);for(;X||ie;){let he=!1,et=!1;if(X&&ie){const rt=w(X,ie);rt<0?et=!0:rt>0&&(he=!0)}else null!=X?et=!0:he=!0;he?(I(ie),ie=Cl(G)):et?(M(X),X=Cl(U)):(X=Cl(U),ie=Cl(G))}}(i,a,vd,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),de.waitFor(l)}Tn(e){let t=1;return $v(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>vd(l,f)).filter((l,f,y)=>!f||0!==vd(l,y[f-1]));const i=[];i.push(e);for(const l of r){const f=vd(l,e),y=vd(l,t);if(0===f)i[0]=e.Je();else if(f>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,bC,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,bC,[]]))}return a}bn(e,t){return vd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xk)}getMinOffset(e,t){return de.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Ct())).next(xk)}}function Ok(n){return wi(n,"collectionParents")}function jv(n){return wi(n,"indexEntries")}function CC(n){return wi(n,"indexConfiguration")}function $v(n){return wi(n,"indexState")}function xk(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;sm(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ns(e.readTime,e.documentKey,t)}const kk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class is{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new is(e,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Pk(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const y=r.X({range:l},(I,M,U)=>(f++,U.delete()));a.push(y.next(()=>{Rt(1===f)}));const w=[];for(const I of t.mutations){const M=iS(e,I.key.path,t.batchId);a.push(i.delete(M)),w.push(I.key)}return de.waitFor(a).next(()=>w)}function IC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ct();e=n.noDocument}return JSON.stringify(e).length}is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is(41943040,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);class DC{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Rt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new DC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wd(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Cm(e),l=wd(e);return l.add({}).next(f=>{Rt("number"==typeof f);const y=new PS(f,t,r,i),w=function(U,G,X){const ie=X.baseMutations.map(et=>Lv(U.fe,et)),he=X.mutations.map(et=>Lv(U.fe,et));return{userId:G,batchId:X.batchId,localWriteTimeMs:X.localWriteTime.toMillis(),baseMutations:ie,mutations:he}}(this.serializer,this.userId,y),I=[];let M=new Vn((U,G)=>dn(U.canonicalString(),G.canonicalString()));for(const U of i){const G=iS(this.userId,U.key.path,f);M=M.add(U.key.path.popLast()),I.push(l.put(w)),I.push(a.put(G,sS))}return M.forEach(U=>{I.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.Vn[f]=y.keys()}),de.waitFor(I).next(()=>y)})}lookupMutationBatch(e,t){return wd(e).get(t).next(r=>r?(Rt(r.userId===this.userId),jf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?de.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return wd(e).X({index:"userMutationsIndex",range:i},(l,f,y)=>{f.userId===this.userId&&(Rt(f.batchId>=r),a=jf(this.serializer,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return wd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wd(e).j("userMutationsIndex",t).next(r=>r.map(i=>jf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_v(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Cm(e).X({range:i},(l,f,y)=>{const[w,I,M]=l,U=Vo(I);if(w===this.userId&&t.path.isEqual(U))return wd(e).get(M).next(G=>{if(!G)throw Ct();Rt(G.userId===this.userId),a.push(jf(this.serializer,G))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(dn);const i=[];return t.forEach(a=>{const l=_v(this.userId,a.path),f=IDBKeyRange.lowerBound(l),y=Cm(e).X({range:f},(w,I,M)=>{const[U,G,X]=w,ie=Vo(G);U===this.userId&&a.path.isEqual(ie)?r=r.add(X):M.done()});i.push(y)}),de.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=_v(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new Vn(dn);return Cm(e).X({range:l},(y,w,I)=>{const[M,U,G]=y,X=Vo(U);M===this.userId&&r.isPrefixOf(X)?X.length===i&&(f=f.add(G)):I.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(wd(e).get(a).next(l=>{if(null===l)throw Ct();Rt(l.userId===this.userId),r.push(jf(this.serializer,l))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Pk(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Cm(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const y=Vo(a[1]);i.push(y)}else f.done()}).next(()=>{Rt(0===i.length)})})}containsKey(e,t){return Rk(e,this.userId,t)}xn(e){return Nk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rk(n,e,t){const r=_v(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Cm(n).X({range:a,Y:!0},(f,y,w)=>{const[I,M,U]=f;I===e&&M===i&&(l=!0),w.done()}).next(()=>l)}function wd(n){return wi(n,"mutations")}function Cm(n){return wi(n,"documentMutations")}function Nk(n){return wi(n,"mutationQueues")}class zf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zf(0)}static Mn(){return new zf(-1)}}class XF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new zf(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Nt.fromTimestamp(new Sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Im(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Rt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Im(e).X((l,f)=>{const y=Vv(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>de.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Im(e).X((r,i)=>{const a=Vv(i);t(a)})}$n(e){return Fk(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}On(e,t){return Fk(e).put("targetGlobalKey",t)}Fn(e,t){return Im(e).put(wk(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=yc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Im(e).X({range:i,index:"queryTargetsIndex"},(l,f,y)=>{const w=Vv(f);Al(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ed(e);return t.forEach(l=>{const f=Fi(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ed(e);return de.forEach(t,a=>{const l=Fi(a.path);return de.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ed(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ed(e);let a=H();return i.X({range:r,Y:!0},(l,f,y)=>{const w=Vo(l[1]),I=new lt(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=Fi(t.path),i=IDBKeyRange.bound([r],[jb(r)],!1,!0);let a=0;return Ed(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],y,w)=>{0!==l&&(a++,w.done())}).next(()=>a>0)}le(e,t){return Im(e).get(t).next(r=>r?Vv(r):null)}}function Im(n){return wi(n,"targets")}function Fk(n){return wi(n,"targetGlobal")}function Ed(n){return wi(n,"targetDocuments")}function Lk([n,e],[t,r]){const i=dn(n,t);return 0===i?dn(e,r):i}class eL{constructor(e){this.Ln=e,this.buffer=new Vn(Lk),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Lk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Oe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){bl(r)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield El(r)}yield t.Qn(3e5)}))}}class tL{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(ns.ct);const r=new eL(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(kk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kk):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,f,y,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,l=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),If()<=da.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-I}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${M} documents in `+(w-y)+`ms\nTotal Duration: ${w-I}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class nL{constructor(e,t){this.db=e,this.garbageCollector=function Uk(n,e){return new tL(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return TC(e,r)}removeReference(e,t,r){return TC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return TC(e,t)}Xn(e,t){return function(r,i){let a=!1;return Nk(r).Z(l=>Rk(r,l,i).next(f=>(f&&(a=!0),de.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const y=this.Xn(e,l).next(w=>{if(!w)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Nt.min()),Ed(e).delete([0,Fi(l.path)])))});i.push(y)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return TC(e,t)}Yn(e,t){const r=Ed(e);let i,a=ns.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:y,sequenceNumber:w})=>{0===l?(a!==ns.ct&&t(new lt(Vo(i)),a),a=w,i=y):a=ns.ct}).next(()=>{a!==ns.ct&&t(new lt(Vo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function TC(n,e){return Ed(n).put((r=n.currentSequenceNumber,{targetId:0,path:Fi(e.path),sequenceNumber:r}));var r}class Bk{constructor(){this.changes=new o(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rL{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Gf(e).put(r)}removeEntry(e,t,r){return Gf(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],vC(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=gr.newInvalidDocument(t);return Gf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hv(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:gr.newInvalidDocument(t)};return Gf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hv(t))},(i,a)=>{r={document:this.ts(t,a),size:IC(a)}}).next(()=>r)}getEntries(e,t){let r=d();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=d(),i=new ir(lt.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,IC(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return de.resolve();let i=new Vn(zk);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Hv(i.first()),Hv(i.last())),l=i.getIterator();let f=l.getNext();return Gf(e).X({index:"documentKeyIndex",range:a},(y,w,I)=>{const M=lt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&zk(f,M)<0;)r(f,null),f=l.getNext();f&&f.isEqual(M)&&(r(f,w),f=l.hasNext()?l.getNext():null),f?I.G(Hv(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),vC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gf(e).j(IDBKeyRange.bound(l,f,!0)).next(y=>{let w=d();for(const I of y){const M=this.ts(lt.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);M.isFoundDocument()&&(ym(t,M)||i.has(M.key))&&(w=w.insert(M.key,M))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=d();const l=Hk(t,r),f=Hk(t,Ns.max());return Gf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(y,w,I)=>{const M=this.ts(lt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(M.key,M),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new iL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $k(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}Zn(e,t){return $k(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function HF(n,e){let t;if(e.document)t=hk(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=lt.fromSegments(e.noDocument.path),i=Bf(e.noDocument.readTime);t=gr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ct();{const r=lt.fromSegments(e.unknownDocument.path),i=Bf(e.unknownDocument.version);t=gr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Sr(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return gr.newInvalidDocument(e)}}function jk(n){return new rL(n)}class iL extends Bk{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new o(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Vn((a,l)=>dn(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const y=vk(this.os.serializer,l);i=i.add(a.path.popLast());const w=IC(y);r+=w-f.size,t.push(this.os.addEntry(e,a,y))}else if(r-=f.size,this.trackRemovals){const y=vk(this.os.serializer,l.convertToNoDocument(Nt.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function $k(n){return wi(n,"remoteDocumentGlobal")}function Gf(n){return wi(n,"remoteDocumentsV14")}function Hv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hk(n,e){const t=e.documentKey.path.toArray();return[n,vC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zk(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=dn(t[a],r[a]),i)return i;return i=dn(t.length,r.length),i||(i=dn(t[t.length-2],r[r.length-2]),i||dn(t[t.length-1],r[r.length-1]))}class sL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&xv(r.mutation,i,Li.empty(),Sr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,H()).next(()=>r))}getLocalViewOfDocuments(e,t,r=H()){const i=b();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=g();return a.forEach((f,y)=>{l=l.insert(f,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=b();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,H()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=d();const l=T(),f=T();return t.forEach((y,w)=>{const I=r.get(w.key);i.has(w.key)&&(void 0===I||I.mutation instanceof Ml)?a=a.insert(w.key,w):void 0!==I?(l.set(w.key,I.mutation.getFieldMask()),xv(I.mutation,w,I.mutation.getFieldMask(),Sr.now())):l.set(w.key,Li.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,I)=>l.set(w,I)),t.forEach((w,I)=>{var M;return f.set(w,new sL(I,null!==(M=l.get(w))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const r=T();let i=new ir((l,f)=>l-f),a=H();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let I=r.get(y)||Li.empty();I=f.applyToLocalView(w,I),r.set(y,I);const M=(i.get(f.batchId)||H()).add(y);i=i.insert(f.batchId,M)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,I=y.value,M=C();I.forEach(U=>{if(!a.has(U)){const G=Wx(t.get(U),r.get(U));null!==G&&M.set(U,G),a=a.add(U)}}),l.push(this.documentOverlayCache.saveOverlays(e,w,M))}return de.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return lt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):dC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):de.resolve(b());let f=-1,y=a;return l.next(w=>de.forEach(w,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(I)?de.resolve():this.remoteDocumentCache.getEntry(e,I).next(U=>{y=y.insert(I,U)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,H())).next(I=>({batchId:f,changes:_(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(r=>{let i=g();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=g();return this.indexManager.getCollectionParents(e,i).next(l=>de.forEach(l,f=>{const y=(w=t,I=f.child(i),new Aa(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,y)=>{const w=y.getKey();null===a.get(w)&&(a=a.insert(w,gr.newInvalidDocument(w)))});let l=g();return a.forEach((f,y)=>{const w=i.get(f);void 0!==w&&xv(w.mutation,y,Li.empty(),Sr.now()),ym(t,y)&&(l=l.insert(f,y))}),l})}}class oL{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return de.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:hi(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:HS(r.bundledQuery),readTime:hi(r.readTime)}),de.resolve();var r}}class aL{constructor(){this.overlays=new ir(lt.comparator),this.ls=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=b();return de.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=b(),a=t.length+1,l=new lt(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ir((w,I)=>w-I);const l=this.overlays.getIterator();for(;l.hasNext();){const w=l.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=b(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=b(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return de.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new NS(t,r));let a=this.ls.get(t);void 0===a&&(a=H(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class YS{constructor(){this.fs=new Vn(Ui.ds),this.ws=new Vn(Ui._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ui(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ui(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new lt(new On([])),r=new Ui(t,e),i=new Ui(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new lt(new On([])),r=new Ui(t,e),i=new Ui(t,e+1);let a=H();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ui(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ui{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return lt.comparator(e.key,t.key)||dn(e.As,t.As)}static _s(e,t){return dn(e.As,t.As)||lt.comparator(e.key,t.key)}}class cL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Vn(Ui.ds)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new PS(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Ui(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,t){return de.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(dn);return t.forEach(i=>{const a=new Ui(i,0),l=new Ui(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),de.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;lt.isDocumentKey(a)||(a=a.child(""));const l=new Ui(new lt(a),0);let f=new Vn(dn);return this.Rs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y.As)),!0)},l),de.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Rt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return de.forEach(t.mutations,i=>{const a=new Ui(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ui(t,0),i=this.Rs.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lL{constructor(e){this.Ds=e,this.docs=new ir(lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let r=d();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():gr.newInvalidDocument(i))}),de.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=d();const l=t.path,f=new lt(l.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:w,value:{document:I}}=y.getNext();if(!l.isPrefixOf(w.path))break;w.path.length>l.length+1||sm(Wb(I),r)<=0||(i.has(I.key)||ym(t,I))&&(a=a.insert(I.key,I.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ct()}Cs(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new uL(this)}getSize(e){return de.resolve(this.size)}}class uL extends Bk{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class dL{constructor(e){this.persistence=e,this.xs=new o(t=>yc(t),Al),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new YS,this.targetCount=0,this.Ms=zf.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),de.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new zf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Fn(t),de.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),de.waitFor(a).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.ks.containsKey(t))}}class QS{constructor(e,t){this.$s={},this.overlays={},this.Os=new ns(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new dL(this),this.indexManager=new QF,this.remoteDocumentCache=new lL(r=>this.referenceDelegate.Ls(r)),this.serializer=new _k(t),this.qs=new oL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new cL(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new hL(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return de.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class hL extends tS{constructor(e){super(),this.currentSequenceNumber=e}}class SC{constructor(e){this.persistence=e,this.Qs=new YS,this.js=null}static zs(e){return new SC(e)}get Ws(){if(this.js)return this.js;throw Ct()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),de.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ws,r=>{const i=lt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return de.or([()=>de.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class fL{constructor(e){this.serializer=e}O(e,t,r,i){const a=new gv("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rS,{unique:!0}),f.createObjectStore("documentMutations"),Wk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=de.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Wk(e)),l=l.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,y){return y.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rS,{unique:!0});const I=y.store("mutations"),M=w.map(U=>I.put(U));return de.waitFor(M)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:Bx});y.createIndex("collectionPathOverlayIndex",Fs,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",dS,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:oS});y.createIndex("documentKeyIndex",aS),y.createIndex("collectionGroupIndex",Vx)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Xs}).createIndex("sequenceNumberIndex",lS,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:vv}).createIndex("documentKeyIndex",uS,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=IC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>de.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>de.forEach(f,y=>{Rt(y.userId===a.userId);const w=jf(this.serializer,y);return Pk(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const y=new On(l),w=[0,Fi(y)];a.push(t.get(w).next(I=>I?de.resolve():t.put({targetId:0,path:Fi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Ux});const r=t.store("collectionParents"),i=new KS,a=l=>{if(i.add(l)){const f=l.lastSegment(),y=l.popLast();return r.put({collectionId:f,parent:Fi(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const y=new On(l);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,y],w)=>{const I=Vo(f);return a(I.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=Vv(i),l=wk(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=t.store("remoteDocumentsV14"),y=(w=l,w.document?new lt(On.fromString(w.document.name).popFirst(5)):w.noDocument?lt.fromSegments(w.noDocument.path):w.unknownDocument?lt.fromSegments(w.unknownDocument.path):Ct()).path.toArray();var w;const I={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(I))}).next(()=>de.waitFor(i))}si(e,t){const r=t.store("mutations"),i=jk(this.serializer),a=new QS(SC.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(y=>{var w;let I=null!==(w=f.get(y.userId))&&void 0!==w?w:H();jf(this.serializer,y).keys().forEach(M=>I=I.add(M)),f.set(y.userId,I)}),de.forEach(f,(y,w)=>{const I=new xi(w),M=wC.de(this.serializer,I),U=a.getIndexManager(I),G=DC.de(I,this.serializer,U,a.referenceDelegate);return new Gk(i,G,M,U).recalculateAndSaveOverlaysForDocumentKeys(new um(t,ns.ct),y).next()})})}}function Wk(n){n.createObjectStore("targetDocuments",{keyPath:Yb}).createIndex("documentTargetsIndex",Qb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cS,{unique:!0}),n.createObjectStore("targetGlobal")}const JS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XS{constructor(e,t,r,i,a,l,f,y,w,I,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=w,this.oi=I,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=U=>Promise.resolve(),!XS.D())throw new je(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nL(this,i),this.di=t+"main",this.serializer=new _k(y),this.wi=new Fo(this.di,this.ui,new fL(this.serializer)),this.Bs=new XF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jk(this.serializer),this.qs=new zF,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(pe.FAILED_PRECONDITION,JS);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ns(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Oe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Oe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Oe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>MC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(bl(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return zv(e).get("owner").next(t=>de.resolve(this.Ri(t)))}Pi(e){return MC(e).delete(this.clientId)}bi(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=wi(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(y=>-1===l.indexOf(y));return de.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?de.resolve(!0):zv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new je(pe.FAILED_PRECONDITION,JS);return!1}}return!(!this.networkEnabled||!this.inForeground)||MC(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new um(t,ns.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>MC(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return DC.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JF(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return wC.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?Xb:14===l?lm:13===l?Jb:12===l?hS:11===l?cm:void Ct();var l;let f;return this.wi.runTransaction(e,i,a,y=>(f=new um(y,this.Os?this.Os.next():ns.ct),"readwrite-primary"===t?this.Ti(f).next(w=>!!w||this.Ei(f)).next(w=>{if(!w)throw kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new je(pe.FAILED_PRECONDITION,eS);return r(f)}).next(w=>this.vi(f).next(()=>w)):this.Oi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Oi(e){return zv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new je(pe.FAILED_PRECONDITION,JS)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zv(e).put("owner",t)}static D(){return Fo.D()}Ai(e){const t=zv(e);return t.get("owner").next(r=>this.Ri(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(kr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ln.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){kr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zv(n){return wi(n,"owner")}function MC(n){return wi(n,"clientMetadata")}function eA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=H(),i=H();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new tA(e,t.fromCache,r,i)}}class qk{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(uC(t))return de.resolve(null);let r=rs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=gm(t,null,"F"),r=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=H(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.ji(t,f);return this.zi(t,w,l,y.readTime)?this.Ki(e,gm(t,null,"F")):this.Wi(e,w,t,y)}))})))}Gi(e,t,r,i){return uC(t)||i.isEqual(Nt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(If()<=da.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fC(t)),this.Wi(e,l,t,Gb(i,-1)))})}ji(e,t){let r=new Vn(xS(e));return t.forEach((i,a)=>{ym(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return If()<=da.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",fC(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ns.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class pL{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new ir(dn),this.Yi=new o(a=>yc(a),Al),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gk(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Zk(n,e,t,r){return new pL(n,e,t,r)}function Kk(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,Oe.Z)(function*(n,e){const t=ct(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let y=H();for(const w of i){l.push(w.batchId);for(const I of w.mutations)y=y.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)y=y.add(I.key)}return t.localDocuments.getDocuments(r,y).next(w=>({er:w,removedBatchIds:l,addedBatchIds:f}))})})}),nA.apply(this,arguments)}function Yk(n){const e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Qk(n,e,t){let r=H(),i=H();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=d();return t.forEach((f,y)=>{const w=a.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Nt.min())?(e.removeEntry(f,y.readTime),l=l.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),l=l.insert(f,y)):Ze("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{nr:l,sr:i}})}function yL(n,e){const t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dm(n,e){const t=ct(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,de.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Ol(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Tm(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,Oe.Z)(function*(n,e,t){const r=ct(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!bl(l))throw l;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),rA.apply(this,arguments)}function OC(n,e,t){const r=ct(n);let i=Nt.min(),a=H();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,y,w){const I=ct(f),M=I.Yi.get(w);return void 0!==M?de.resolve(I.Ji.get(M)):I.Bs.getTargetData(y,w)}(r,l,rs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Nt.min(),t?a:H())).next(f=>(e1(r,pC(e),f),{documents:f,ir:a})))}function Jk(n,e){const t=ct(n),r=ct(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function Xk(n,e){const t=ct(n),r=t.Xi.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Gb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(e1(t,e,i),i))}function e1(n,e,t){let r=n.Xi.get(e)||Nt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function iA(){return iA=(0,Oe.Z)(function*(n,e,t,r){const i=ct(n);let a=H(),l=d();for(const w of t){const I=e.rr(w.metadata.name);w.document&&(a=a.add(I));const M=e.ur(w);M.setReadTime(e.cr(w.metadata.readTime)),l=l.insert(I,M)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield Dm(i,(w=r,rs(Lf(On.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Qk(w,f,l).next(I=>(f.apply(w),I)).next(I=>i.Bs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Bs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,I.nr,I.sr)).next(()=>I.nr)))}),iA.apply(this,arguments)}function vL(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,Oe.Z)(function*(n,e,t=H()){const r=yield Dm(n,rs(HS(e.bundledQuery))),i=ct(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=hi(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(Ei.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),sA.apply(this,arguments)}function t1(n,e){return`firestore_clients_${n}_${e}`}function n1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function oA(n,e){return`firestore_targets_${n}_${e}`}class xC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new je(i.error.code,i.error.message))),l?new xC(e,t,i.state,a):(kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new je(r.error.code,r.error.message))),a?new Gv(e,r.state,i):(kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ae();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=Kb(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new kC(e,a):(kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aA{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aA(t.clientId,t.onlineState):(kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cA{constructor(){this.activeTargetIds=Ae()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lA{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ir(dn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=t1(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new cA),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(t1(e.persistenceKey,i));if(a){const l=kC.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(oA(this.persistenceKey,e));if(r){const i=Gv.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oA(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ze("SharedClientState","READ",e,t),t}setItem(e,t){Ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Oe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=ns.ct;if(null!=a)try{const f=JSON.parse(a);Rt("number"==typeof f),l=f}catch(f){kr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==ns.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new xC(this.currentUser,e,t,r),a=n1(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=n1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=oA(this.persistenceKey,e),a=new Gv(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return kC.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return xC.ar(new xi(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Gv.ar(i,t)}br(e){return aA.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Ae();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class r1{constructor(){this.Hr=new cA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wL{Yr(e){}shutdown(){}}class s1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let PC=null;function uA(){return null===PC?PC=268435456+Math.round(2147483648*Math.random()):PC++,"0x"+PC.toString(16)}const EL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bL{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ss="WebChannelConnection";class CL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=uA(),f=this.To(e,t);Ze("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(w=>(Ze("RestConnection",`Received RPC '${e}' ${l}: `,w),w),w=>{throw Rs("RestConnection",`RPC '${e}' ${l} failed with error: `,w,"url: ",f,"request:",r),w})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${EL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=uA();return new Promise((l,f)=>{const y=new zi;y.setWithCredentials(!0),y.listenOnce(Ob.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case pv.NO_ERROR:const I=y.getResponseJson();Ze(ss,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(I)),l(I);break;case pv.TIMEOUT:Ze(ss,`RPC '${e}' ${a} timed out`),f(new je(pe.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const M=y.getStatus();if(Ze(ss,`RPC '${e}' ${a} failed with status:`,M,"response text:",y.getResponseText()),M>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const G=U?.error;if(G&&G.status&&G.message){const X=function(ie){const he=ie.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(he)>=0?he:pe.UNKNOWN}(G.status);f(new je(X,G.message))}else f(new je(pe.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new je(pe.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{Ze(ss,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(i);Ze(ss,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=uA(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Ab(),f=Mb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.xmlHttpFactory=new Pb({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const I=a.join("");Ze(ss,`Creating RPC '${e}' stream ${i}: ${I}`,y);const M=l.createWebChannel(I,y);let U=!1,G=!1;const X=new bL({ro:he=>{G?Ze(ss,`Not sending because RPC '${e}' stream ${i} is closed:`,he):(U||(Ze(ss,`Opening RPC '${e}' stream ${i} transport.`),M.open(),U=!0),Ze(ss,`RPC '${e}' stream ${i} sending:`,he),M.send(he))},oo:()=>M.close()}),ie=(he,et,rt)=>{he.listen(et,_t=>{try{rt(_t)}catch(St){setTimeout(()=>{throw St},0)}})};return ie(M,bf.EventType.OPEN,()=>{G||Ze(ss,`RPC '${e}' stream ${i} transport opened.`)}),ie(M,bf.EventType.CLOSE,()=>{G||(G=!0,Ze(ss,`RPC '${e}' stream ${i} transport closed`),X.wo())}),ie(M,bf.EventType.ERROR,he=>{G||(G=!0,Rs(ss,`RPC '${e}' stream ${i} transport errored:`,he),X.wo(new je(pe.UNAVAILABLE,"The operation could not be completed")))}),ie(M,bf.EventType.MESSAGE,he=>{var et;if(!G){const rt=he.data[0];Rt(!!rt);const St=rt.error||(null===(et=rt[0])||void 0===et?void 0:et.error);if(St){Ze(ss,`RPC '${e}' stream ${i} received error:`,St);const Jt=St.status;let fn=function(qi){const $o=bi[qi];if(void 0!==$o)return Jx($o)}(Jt),qn=St.message;void 0===fn&&(fn=pe.INTERNAL,qn="Unknown error status: "+Jt+" with message "+St.message),G=!0,X.wo(new je(fn,qn)),M.close()}else Ze(ss,`RPC '${e}' stream ${i} received:`,rt),X._o(rt)}}),ie(f,xb.STAT_EVENT,he=>{he.stat===kb.PROXY?Ze(ss,`RPC '${e}' stream ${i} detected buffering proxy`):he.stat===kb.NOPROXY&&Ze(ss,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{X.fo()},0),X}}function o1(){return typeof window<"u"?window:null}function RC(){return typeof document<"u"?document:null}function Wv(n){return new PF(n,!0)}class dA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class a1{constructor(e,t,r,i,a,l,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Oe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Oe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Oe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new je(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Oe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IL extends a1{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function FF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Ct(),i=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(Rt(void 0===w||"string"==typeof w),Ei.fromBase64String(w||"")):(Rt(void 0===w||w instanceof Uint8Array),Ei.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(y){const w=void 0===y.code?pe.UNKNOWN:Jx(y.code);return new je(w,y.message||"")}(l);t=new rk(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=_c(n,r.document.name),a=hi(r.document.updateTime),l=r.document.createTime?hi(r.document.createTime):Nt.min(),f=new Vi({mapValue:{fields:r.document.fields}}),y=gr.newFoundDocument(i,a,l,f);t=new _C(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=_c(n,r.document),a=r.readTime?hi(r.readTime):Nt.min(),l=gr.newNoDocument(i,a);t=new _C([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=_c(n,r.document);t=new _C([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ct();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new SF(i,a);t=new nk(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?hi(a.readTime):Nt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Fv(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=Av(f)?{documents:fk(i,f)}:{query:$S(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=ak(i,a.resumeToken);const y=VS(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(Nt.min())>0){l.readTime=Em(i,a.snapshotVersion.toTimestamp());const y=VS(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function VF(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Fv(this.serializer),t.removeTarget=e,this.Wo(t)}}class DL extends a1{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function LF(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(r,i){let a=hi(r.updateTime?r.updateTime:i);return a.isEqual(Nt.min())&&(a=hi(i)),new CF(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=hi(e.commitTime);return this.listener.cu(r,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fv(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lv(this.serializer,r))};this.Wo(t)}}class TL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new je(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new je(pe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(pe.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class AL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(kr(t),this.mu=!1):Ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ML{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,Oe.Z)(function*(){var y;bd(l)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Oe.Z)(function*(w){const I=ct(w);I.vu.add(4),yield Sm(I),I.bu.set("Unknown"),I.vu.delete(4),yield qv(I)}),function(w){return y.apply(this,arguments)})(l))}))}),this.bu=new AL(r,i)}}function qv(n){return fA.apply(this,arguments)}function fA(){return fA=(0,Oe.Z)(function*(n){if(bd(n))for(const e of n.Ru)yield e(!0)}),fA.apply(this,arguments)}function Sm(n){return pA.apply(this,arguments)}function pA(){return pA=(0,Oe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),pA.apply(this,arguments)}function NC(n,e){const t=ct(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),yA(t)?mA(t):Mm(t).Ko()&&gA(t,e))}function Zv(n,e){const t=ct(n),r=Mm(t);t.Au.delete(e),r.Ko()&&c1(t,e),0===t.Au.size&&(r.Ko()?r.jo():bd(t)&&t.bu.set("Unknown"))}function gA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mm(n).su(e)}function c1(n,e){n.Vu.qt(e),Mm(n).iu(e)}function mA(n){n.Vu=new MF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Mm(n).start(),n.bu.gu()}function yA(n){return bd(n)&&!Mm(n).Uo()&&n.Au.size>0}function bd(n){return 0===ct(n).vu.size}function l1(n){n.Vu=void 0}function OL(n){return _A.apply(this,arguments)}function _A(){return _A=(0,Oe.Z)(function*(n){n.Au.forEach((e,t)=>{gA(n,e)})}),_A.apply(this,arguments)}function xL(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,Oe.Z)(function*(n,e){l1(n),yA(n)?(n.bu.Iu(e),mA(n)):n.bu.set("Unknown")}),vA.apply(this,arguments)}function kL(n,e,t){return wA.apply(this,arguments)}function wA(){return wA=(0,Oe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof rk&&2===e.state&&e.cause)try{yield(r=(0,Oe.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield FC(n,r)}else if(e instanceof _C?n.Vu.Ht(e):e instanceof nk?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Nt.min()))try{const r=yield Yk(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.Au.get(y);w&&i.Au.set(y,w.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,y)=>{const w=i.Au.get(f);if(!w)return;i.Au.set(f,w.withResumeToken(Ei.EMPTY_BYTE_STRING,w.snapshotVersion)),c1(i,f);const I=new Ol(w.target,f,y,w.sequenceNumber);gA(i,I)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield FC(n,r)}var r}),wA.apply(this,arguments)}function FC(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,Oe.Z)(function*(n,e,t){if(!bl(e))throw e;n.vu.add(1),yield Sm(n),n.bu.set("Offline"),t||(t=()=>Yk(n.localStore)),n.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield qv(n)}))}),EA.apply(this,arguments)}function u1(n,e){return e().catch(t=>FC(n,t,e))}function Am(n){return bA.apply(this,arguments)}function bA(){return bA=(0,Oe.Z)(function*(n){const e=ct(n),t=Cd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;PL(e);)try{const i=yield yL(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,RL(e,i)}catch(i){yield FC(e,i)}d1(e)&&h1(e)}),bA.apply(this,arguments)}function PL(n){return bd(n)&&n.Eu.length<10}function RL(n,e){n.Eu.push(e);const t=Cd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function d1(n){return bd(n)&&!Cd(n).Uo()&&n.Eu.length>0}function h1(n){Cd(n).start()}function NL(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Oe.Z)(function*(n){Cd(n).hu()}),CA.apply(this,arguments)}function FL(n){return IA.apply(this,arguments)}function IA(){return IA=(0,Oe.Z)(function*(n){const e=Cd(n);for(const t of n.Eu)e.uu(t.mutations)}),IA.apply(this,arguments)}function LL(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,Oe.Z)(function*(n,e,t){const r=n.Eu.shift(),i=RS.from(r,e,t);yield u1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Am(n)}),DA.apply(this,arguments)}function VL(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Oe.Z)(function*(n,e){var t;e&&Cd(n).ou&&(yield(t=(0,Oe.Z)(function*(r,i){if(Qx(a=i.code)&&a!==pe.ABORTED){const l=r.Eu.shift();Cd(r).Qo(),yield u1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Am(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),d1(n)&&h1(n)}),TA.apply(this,arguments)}function f1(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,Oe.Z)(function*(n,e){const t=ct(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=bd(t);t.vu.add(3),yield Sm(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield qv(t)}),SA.apply(this,arguments)}function AA(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,Oe.Z)(function*(n,e){const t=ct(n);e?(t.vu.delete(2),yield qv(t)):e||(t.vu.add(2),yield Sm(t),t.bu.set("Unknown"))}),MA.apply(this,arguments)}function Mm(n){return n.Su||(n.Su=function(e,t,r){const i=ct(e);return i.fu(),new IL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:OL.bind(null,n),ao:xL.bind(null,n),nu:kL.bind(null,n)}),n.Ru.push(function(){var e=(0,Oe.Z)(function*(t){t?(n.Su.Qo(),yA(n)?mA(n):n.bu.set("Unknown")):(yield n.Su.stop(),l1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Cd(n){return n.Du||(n.Du=function(e,t,r){const i=ct(e);return i.fu(),new DL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:NL.bind(null,n),ao:VL.bind(null,n),au:FL.bind(null,n),cu:LL.bind(null,n)}),n.Ru.push(function(){var e=(0,Oe.Z)(function*(t){t?(n.Du.Qo(),yield Am(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class OA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new OA(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(n,e){if(kr("AsyncQueue",`${e}: ${n}`),bl(n))return new je(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class xm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||lt.comparator(t.key,r.key):(t,r)=>lt.comparator(t.key,r.key),this.keyedMap=g(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new xm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class p1{constructor(){this.Cu=new ir(lt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ct():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class km{constructor(e,t,r,i,a,l,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new km(e,t,xm.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class UL{constructor(){this.Nu=void 0,this.listeners=[]}}class BL{constructor(){this.queries=new o(e=>OS(e),mm),this.onlineState="Unknown",this.ku=new Set}}function xA(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,Oe.Z)(function*(n,e){const t=ct(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new UL),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=Om(l,`Initialization of query '${fC(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&NA(t)}),kA.apply(this,arguments)}function PA(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,Oe.Z)(function*(n,e){const t=ct(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),RA.apply(this,arguments)}function jL(n,e){const t=ct(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&NA(t)}function $L(n,e,t){const r=ct(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function NA(n){n.ku.forEach(e=>{e.next()})}class FA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new km(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=km.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class HL{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class g1{constructor(e){this.serializer=e}rr(e){return _c(this.serializer,e)}ur(e){return e.metadata.exists?hk(this.serializer,e.document,!1):gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return hi(e)}}class zL{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=m1(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=On.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new g1(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||H()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,Oe.Z)(function*(){const t=yield function _L(n,e,t,r){return iA.apply(this,arguments)}(e.localStore,new g1(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield vL(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function m1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class y1{constructor(e){this.key=e}}class _1{constructor(e){this.key=e}}class v1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=H(),this.mutatedKeys=H(),this.tc=xS(e),this.ec=new xm(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new p1,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,M)=>{const U=i.get(I),G=ym(this.query,M)?M:null,X=!!U&&this.mutatedKeys.has(U.key),ie=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let he=!1;U&&G?U.data.isEqual(G.data)?X!==ie&&(r.track({type:3,doc:G}),he=!0):this.rc(U,G)||(r.track({type:2,doc:G}),he=!0,(y&&this.tc(G,y)>0||w&&this.tc(G,w)<0)&&(f=!0)):!U&&G?(r.track({type:0,doc:G}),he=!0):U&&!G&&(r.track({type:1,doc:U}),he=!0,(y||w)&&(f=!0)),he&&(G?(l=l.add(G),a=ie?a.add(I):a.delete(I)):(l=l.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const I="F"===this.query.limitType?l.last():l.first();l=l.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,I)=>function(M,U){const G=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return G(M)-G(U)}(w.type,I.type)||this.tc(w.doc,I.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new km(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new p1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=H(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new _1(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new y1(r))}),t}hc(e){this.Yu=e.ir,this.Zu=H();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return km.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class GL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class WL{constructor(e){this.key=e,this.fc=!1}}class qL{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new o(f=>OS(f),mm),this._c=new Map,this.mc=new Set,this.gc=new ir(lt.comparator),this.yc=new Map,this.Ic=new YS,this.Tc={},this.Ec=new Map,this.Ac=zf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ZL(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,Oe.Z)(function*(n,e){const t=oM(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield Dm(t.localStore,rs(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield VA(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&NC(t.remoteStore,l)}return i}),LA.apply(this,arguments)}function VA(n,e,t,r,i){return UA.apply(this,arguments)}function UA(){return UA=(0,Oe.Z)(function*(n,e,t,r,i){n.Rc=(M,U,G)=>{return(X=(0,Oe.Z)(function*(ie,he,et,rt){let _t=he.view.sc(et);_t.zi&&(_t=yield OC(ie.localStore,he.query,!1).then(({documents:fn})=>he.view.sc(fn,_t)));const St=rt&&rt.targetChanges.get(he.targetId),Jt=he.view.applyChanges(_t,ie.isPrimaryClient,St);return KA(ie,he.targetId,Jt.cc),Jt.snapshot}),function(ie,he,et,rt){return X.apply(this,arguments)})(n,M,U,G);var X};const a=yield OC(n.localStore,e,!0),l=new v1(e,a.ir),f=l.sc(a.documents),y=Rv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=l.applyChanges(f,n.isPrimaryClient,y);KA(n,t,w.cc);const I=new GL(e,t,l);return n.wc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),UA.apply(this,arguments)}function KL(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,Oe.Z)(function*(n,e){const t=ct(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!mm(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zv(t.remoteStore,r.targetId),Pm(t,r.targetId)}).catch(El))):(Pm(t,r.targetId),yield Tm(t.localStore,r.targetId,!0))}),BA.apply(this,arguments)}function jA(){return jA=(0,Oe.Z)(function*(n,e,t){const r=aM(n);try{const i=yield function(a,l){const f=ct(a),y=Sr.now(),w=l.reduce((U,G)=>U.add(G.key),H());let I,M;return f.persistence.runTransaction("Locally write mutations","readwrite",U=>{let G=d(),X=H();return f.Zi.getEntries(U,w).next(ie=>{G=ie,G.forEach((he,et)=>{et.isValidDocument()||(X=X.add(he))})}).next(()=>f.localDocuments.getOverlayedDocuments(U,G)).next(ie=>{I=ie;const he=[];for(const et of l){const rt=DF(et,I.get(et.key).overlayedDocument);null!=rt&&he.push(new Ml(et.key,rt,ES(rt.value.mapValue),zr.exists(!0)))}return f.mutationQueue.addMutationBatch(U,y,he,l)}).next(ie=>{M=ie;const he=ie.applyToLocalDocumentSet(I,X);return f.documentOverlayCache.saveOverlays(U,ie.batchId,he)})}).then(()=>({batchId:M.batchId,changes:_(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new ir(dn)),y=y.insert(l,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield xl(r,i.changes),yield Am(r.remoteStore)}catch(i){const a=Om(i,"Failed to persist write");t.reject(a)}}),jA.apply(this,arguments)}function w1(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Oe.Z)(function*(n,e){const t=ct(n);try{const r=yield function mL(n,e){const t=ct(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((I,M)=>{const U=i.get(M);if(!U)return;f.push(t.Bs.removeMatchingKeys(a,I.removedDocuments,M).next(()=>t.Bs.addMatchingKeys(a,I.addedDocuments,M)));let G=U.withSequenceNumber(a.currentSequenceNumber);var X,ie,he;null!==e.targetMismatches.get(M)?G=G.withResumeToken(Ei.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):I.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(I.resumeToken,r)),i=i.insert(M,G),ie=G,he=I,(0===(X=U).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,G))});let y=d(),w=H();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(Qk(a,l,e.documentUpdates).next(I=>{y=I.nr,w=I.sr})),!r.isEqual(Nt.min())){const I=t.Bs.getLastRemoteSnapshotVersion(a).next(M=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(I)}return de.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Rt(l.fc):i.removedDocuments.size>0&&(Rt(l.fc),l.fc=!1))}),yield xl(t,r,e)}catch(r){yield El(r)}}),$A.apply(this,arguments)}function E1(n,e,t){const r=ct(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=ct(a);f.onlineState=l;let y=!1;f.queries.forEach((w,I)=>{for(const M of I.listeners)M.Mu(l)&&(y=!0)}),y&&NA(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function QL(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,Oe.Z)(function*(n,e,t){const r=ct(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new ir(lt.comparator);l=l.insert(a,gr.newNoDocument(a,Nt.min()));const f=H().add(a),y=new Pv(Nt.min(),new Map,new ir(dn),l,f);yield w1(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),YA(r)}else yield Tm(r.localStore,e,!1).then(()=>Pm(r,e,t)).catch(El)}),HA.apply(this,arguments)}function JL(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Oe.Z)(function*(n,e){const t=ct(n),r=e.batch.batchId;try{const i=yield function gL(n,e){const t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,y,w){const I=y.batch,M=I.keys();let U=de.resolve();return M.forEach(G=>{U=U.next(()=>w.getEntry(f,G)).next(X=>{const ie=y.docVersions.get(G);Rt(null!==ie),X.version.compareTo(ie)<0&&(I.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),w.addEntry(X)))})}),U.next(()=>l.mutationQueue.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=H();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(f=f.add(l.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);ZA(t,r,null),qA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xl(t,i)}catch(i){yield El(i)}}),zA.apply(this,arguments)}function XL(n,e,t){return GA.apply(this,arguments)}function GA(){return GA=(0,Oe.Z)(function*(n,e,t){const r=ct(n);try{const i=yield function(a,l){const f=ct(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,l).next(I=>(Rt(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(y,I))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);ZA(r,e,t),qA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xl(r,i)}catch(i){yield El(i)}}),GA.apply(this,arguments)}function WA(){return WA=(0,Oe.Z)(function*(n,e){const t=ct(n);bd(t.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=ct(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=Om(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),WA.apply(this,arguments)}function qA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ZA(n,e,t){const r=ct(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Pm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||b1(n,r)})}function b1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Zv(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),YA(n))}function KA(n,e,t){for(const r of t)r instanceof y1?(n.Ic.addReference(r.key,e),t2(n,r)):r instanceof _1?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||b1(n,r.key)):Ct()}function t2(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),YA(n))}function YA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new lt(On.fromString(e)),r=n.Ac.next();n.yc.set(r,new WL(t)),n.gc=n.gc.insert(t,r),NC(n.remoteStore,new Ol(rs(Lf(t.path)),r,"TargetPurposeLimboResolution",ns.ct))}}function xl(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,Oe.Z)(function*(n,e,t){const r=ct(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{l.push(r.Rc(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const I=tA.Li(y.targetId,w);a.push(I)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,Oe.Z)(function*(y,w){const I=ct(y);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>de.forEach(w,U=>de.forEach(U.Fi,G=>I.persistence.referenceDelegate.addReference(M,U.targetId,G)).next(()=>de.forEach(U.Bi,G=>I.persistence.referenceDelegate.removeReference(M,U.targetId,G)))))}catch(M){if(!bl(M))throw M;Ze("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const U=M.targetId;if(!M.fromCache){const G=I.Ji.get(U),ie=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);I.Ji=I.Ji.insert(U,ie)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,a))}),QA.apply(this,arguments)}function n2(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,Oe.Z)(function*(n,e){const t=ct(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield Kk(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new je(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xl(t,r.er)}var i}),JA.apply(this,arguments)}function r2(n,e){const t=ct(n),r=t.yc.get(e);if(r&&r.fc)return H().add(r.key);{let i=H();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function s2(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Oe.Z)(function*(n,e){const t=ct(n),r=yield OC(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&KA(t,e.targetId,i.cc),i}),XA.apply(this,arguments)}function o2(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,Oe.Z)(function*(n,e){const t=ct(n);return Xk(t.localStore,e).then(r=>xl(t,r))}),eM.apply(this,arguments)}function a2(n,e,t,r){return tM.apply(this,arguments)}function tM(){return tM=(0,Oe.Z)(function*(n,e,t,r){const i=ct(n),a=yield function(l,f){const y=ct(l),w=ct(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.Sn(I,f).next(M=>M?y.localDocuments.getDocuments(I,M):de.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Am(i.remoteStore):"acknowledged"===t||"rejected"===t?(ZA(i,e,r||null),qA(i,e),f=e,ct(ct(i.localStore).mutationQueue).Cn(f)):Ct(),yield xl(i,a)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),tM.apply(this,arguments)}function nM(){return nM=(0,Oe.Z)(function*(n,e){const t=ct(n);if(oM(t),aM(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield C1(t,r.toArray());t.vc=!0,yield AA(t.remoteStore,!0);for(const a of i)NC(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Pm(t,l),Tm(t.localStore,l,!0))),Zv(t.remoteStore,l)}),yield i,yield C1(t,r),function(a){const l=ct(a);l.yc.forEach((f,y)=>{Zv(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ir(lt.comparator)}(t),t.vc=!1,yield AA(t.remoteStore,!1)}}),nM.apply(this,arguments)}function C1(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=(0,Oe.Z)(function*(n,e,t){const r=ct(n),i=[],a=[];for(const l of e){let f;const y=r._c.get(l);if(y&&0!==y.length){f=yield Dm(r.localStore,rs(y[0]));for(const w of y){const I=r.wc.get(w),M=yield s2(r,I);M.snapshot&&a.push(M.snapshot)}}else{const w=yield Jk(r.localStore,l);f=yield Dm(r.localStore,w),yield VA(r,I1(w),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),rM.apply(this,arguments)}function I1(n){return MS(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function l2(n){const e=ct(n);return ct(ct(e.localStore).persistence).$i()}function u2(n,e,t,r){return iM.apply(this,arguments)}function iM(){return iM=(0,Oe.Z)(function*(n,e,t,r){const i=ct(n);if(i.vc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield Xk(i.localStore,pC(a[0])),f=Pv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ei.EMPTY_BYTE_STRING);yield xl(i,l,f);break}case"rejected":yield Tm(i.localStore,e,!0),Pm(i,e,r);break;default:Ct()}}),iM.apply(this,arguments)}function d2(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=(0,Oe.Z)(function*(n,e,t){const r=oM(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ze("SyncEngine","Adding an already active target "+i);continue}const a=yield Jk(r.localStore,i),l=yield Dm(r.localStore,a);yield VA(r,I1(a),l.targetId,!1,l.resumeToken),NC(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield Tm(r.localStore,i,!1).then(()=>{Zv(r.remoteStore,i),Pm(r,i)}).catch(El))}}),sM.apply(this,arguments)}function oM(n){const e=ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QL.bind(null,e),e.dc.nu=jL.bind(null,e.eventManager),e.dc.Pc=$L.bind(null,e.eventManager),e}function aM(n){const e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XL.bind(null,e),e}class Kv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Oe.Z)(function*(){t.serializer=Wv(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Zk(this.persistence,new qk,e.initialUser,this.serializer)}createPersistence(e){return new QS(SC.zs,this.serializer)}createSharedClientState(e){return new r1}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cM extends Kv{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Oe.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield aM(r.Vc.syncEngine),yield Am(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Zk(this.persistence,new qk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Vk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new yv(t,this.persistence);return new Lx(e.asyncQueue,r)}createPersistence(e){const t=eA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new XS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,o1(),RC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new r1}}class D1 extends cM{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Oe.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof lA&&(r.sharedClientState.syncEngine={jr:a2.bind(null,i),zr:u2.bind(null,i),Wr:d2.bind(null,i),$i:l2.bind(null,i),Qr:o2.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Oe.Z)(function*(l){yield function c2(n,e){return nM.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=o1();if(!lA.D(t))throw new je(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Rm{initialize(e,t){var r=this;return(0,Oe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>E1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=n2.bind(null,r.syncEngine),yield AA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BL}createDatastore(e){const t=Wv(e.databaseInfo.databaseId),r=new CL(e.databaseInfo);return new TL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>E1(this.syncEngine,f,0),l=s1.D()?new s1:new wL,new ML(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,y,w){const I=new qL(r,i,a,l,f,y);return w&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Oe.Z)(function*(t){const r=ct(t);Ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Sm(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function T1(n,e=10240){let t=0;return{read:()=>(0,Oe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class LC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class p2{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new $r,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new HL(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Oe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class g2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new je(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Oe.Z)(function*(a,l){const f=ct(a),y=Fv(f.serializer)+"/documents",w={documents:l.map(G=>Nv(f.serializer,G))},I=yield f.vo("BatchGetDocuments",y,w,l.length),M=new Map;I.forEach(G=>{const X=function NF(n,e){return"found"in e?function(t,r){Rt(!!r.found);const i=_c(t,r.found.name),a=hi(r.found.updateTime),l=r.found.createTime?hi(r.found.createTime):Nt.min(),f=new Vi({mapValue:{fields:r.found.fields}});return gr.newFoundDocument(i,a,l,f)}(n,e):"missing"in e?function(t,r){Rt(!!r.missing),Rt(!!r.readTime);const i=_c(t,r.missing),a=hi(r.readTime);return gr.newNoDocument(i,a)}(n,e):Ct()}(f.serializer,G);M.set(X.key.toString(),X)});const U=[];return l.forEach(G=>{const X=M.get(G.toString());Rt(!!X),U.push(X)}),U}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=lt.fromPath(i);e.mutations.push(new kS(a,e.precondition(a)))}),yield(r=(0,Oe.Z)(function*(i,a){const l=ct(i),f=Fv(l.serializer)+"/documents",y={writes:a.map(w=>Lv(l.serializer,w))};yield l.Io("Commit",f,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ct();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new je(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?zr.exists(!1):zr.updateTime(t):zr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new je(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zr.updateTime(t)}return zr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class m2{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new dA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Oe.Z)(function*(){const t=new g2(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Sf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Qx(t)}return!1}}class y2{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xi.UNAUTHENTICATED,this.clientId=Bb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Oe.Z)(function*(f){Ze("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Om(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function VC(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,Oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Oe.Z)(function*(a){r.isEqual(a)||(yield Kk(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),lM.apply(this,arguments)}function uM(n,e){return dM.apply(this,arguments)}function dM(){return dM=(0,Oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hM(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>f1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>f1(e.remoteStore,a)),n._onlineComponents=e}),dM.apply(this,arguments)}function S1(n){return"FirebaseError"===n.name?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function hM(n){return fM.apply(this,arguments)}function fM(){return fM=(0,Oe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield VC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!S1(t))throw t;Rs("Error using user provided cache. Falling back to memory cache: "+t),yield VC(n,new Kv)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield VC(n,new Kv);return n._offlineComponents}),fM.apply(this,arguments)}function UC(n){return pM.apply(this,arguments)}function pM(){return pM=(0,Oe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield uM(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield uM(n,new Rm))),n._onlineComponents}),pM.apply(this,arguments)}function A1(n){return hM(n).then(e=>e.persistence)}function BC(n){return hM(n).then(e=>e.localStore)}function M1(n){return UC(n).then(e=>e.remoteStore)}function gM(n){return UC(n).then(e=>e.syncEngine)}function Nm(n){return mM.apply(this,arguments)}function mM(){return mM=(0,Oe.Z)(function*(n){const e=yield UC(n),t=e.eventManager;return t.onListen=ZL.bind(null,e.syncEngine),t.onUnlisten=KL.bind(null,e.syncEngine),t}),mM.apply(this,arguments)}function x1(n,e,t={}){const r=new $r;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(i,a,l,f,y){const w=new LC({next:M=>{a.enqueueAndForget(()=>PA(i,I));const U=M.docs.has(l);!U&&M.fromCache?y.reject(new je(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&M.fromCache&&f&&"server"===f.source?y.reject(new je(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),I=new FA(Lf(l.path),w,{includeMetadataChanges:!0,Ku:!0});return xA(i,I)}(yield Nm(n),n.asyncQueue,e,t,r)})),r.promise}function k1(n,e,t={}){const r=new $r;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(i,a,l,f,y){const w=new LC({next:M=>{a.enqueueAndForget(()=>PA(i,I)),M.fromCache&&"server"===f.source?y.reject(new je(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),I=new FA(l,w,{includeMetadataChanges:!0,Ku:!0});return xA(i,I)}(yield Nm(n),n.asyncQueue,e,t,r)})),r.promise}function P1(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const R1=new Map;function yM(n,e,t){if(!t)throw new je(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function N1(n,e,t,r){if(!0===e&&!0===r)throw new je(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function F1(n){if(!lt.isDocumentKey(n))throw new je(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L1(n){if(lt.isDocumentKey(n))throw new je(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ct()}function xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jC(n);throw new je(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function V1(n,e){if(e<=0)throw new je(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class U1{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new je(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=P1(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Rx;switch(t.type){case"firstParty":return new ad(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new je(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=R1.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),R1.delete(e),t.terminate())}(this),Promise.resolve()}}function B1(n,e,t,r={}){var i;const a=(n=xn(n,Yv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Rs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=xi.MOCK_USER;else{l=(0,Ln.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new je(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xi(y)}n._authCredentials=new Nb(new nm(l,f))}}class Rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class Gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class vc extends Gi{constructor(e,t,r){super(e,t,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new lt(e))}withConverter(e){return new vc(this.firestore,e,this._path)}}function j1(n,e,...t){if(n=(0,Ln.m9)(n),yM("collection","path",e),n instanceof Yv){const r=On.fromString(e,...t);return L1(r),new vc(n,null,r)}{if(!(n instanceof Rr||n instanceof vc))throw new je(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return L1(r),new vc(n.firestore,null,r)}}function Qv(n,e,...t){if(n=(0,Ln.m9)(n),1===arguments.length&&(e=Bb.A()),yM("doc","path",e),n instanceof Yv){const r=On.fromString(e,...t);return F1(r),new Rr(n,null,new lt(r))}{if(!(n instanceof Rr||n instanceof vc))throw new je(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return F1(r),new Rr(n.firestore,n instanceof vc?n.converter:null,new lt(r))}}function $1(n,e){return n=(0,Ln.m9)(n),e=(0,Ln.m9)(e),(n instanceof Rr||n instanceof vc)&&(e instanceof Rr||e instanceof vc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function _M(n,e){return n=(0,Ln.m9)(n),e=(0,Ln.m9)(e),n instanceof Gi&&e instanceof Gi&&n.firestore===e.firestore&&mm(n._query,e._query)&&n.converter===e.converter}class S2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dA(this,"async_queue_retry"),this.Xc=()=>{const t=RC();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=RC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=RC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new $r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!bl(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,kr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=OA.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Ct()}verifyOperationInProgress(){}sa(){var e=this;return(0,Oe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function vM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class A2{constructor(){this._progressObserver={},this._taskCompletionResolver=new $r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Nr extends Yv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new S2,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||H1(this),this._firestoreClient.terminate()}}function fi(n){return n._firestoreClient||H1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function H1(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gS(n._databaseId,f,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,P1(w.experimentalLongPollingOptions),w.useFetchStreams));var f,w;n._firestoreClient=new y2(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function z1(n,e,t){const r=new $r;return n.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield VC(n,t),yield uM(n,e),r.resolve()}catch(i){const a=i;if(!S1(a))throw a;Rs("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function G1(n){if(n._initialized||n._terminated)throw new je(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(Ei.fromBase64String(e))}catch(t){throw new je(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wc(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wf{constructor(e){this._methodName=e}}class $C{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}}const B2=/^__.*__$/;class j2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new vm(e,this.data,t,this.fieldTransforms)}}class W1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ml(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function q1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class HC{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new HC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return WC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(q1(this.ca)&&B2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wv(e)}ya(e,t,r,i=!1){return new HC({ca:e,methodName:t,ga:r,path:Pr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(n){const e=n._freezeSettings(),t=Wv(n._databaseId);return new $2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zC(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);CM("Data must be an object, but it was:",l,r);const f=Y1(r,l);let y,w;if(a.merge)y=new Li(l.fieldMask),w=l.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const U=e0(e,M,t);if(!l.contains(U))throw new je(pe.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);J1(I,U)||I.push(U)}y=new Li(I),w=l.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,w=l.fieldTransforms;return new j2(new Vi(f),y,w)}class Xv extends Wf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xv}}function Z1(n,e,t){return new HC({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wM extends Wf{_toFieldTransform(e){return new Ov(e.path,new ur)}isEqual(e){return e instanceof wM}}class H2 extends Wf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Z1(this,e,!0),r=this.pa.map(a=>Zf(a,t)),i=new yd(r);return new Ov(e.path,i)}isEqual(e){return this===e}}class z2 extends Wf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Z1(this,e,!0),r=this.pa.map(a=>Zf(a,t)),i=new Vf(r);return new Ov(e.path,i)}isEqual(e){return this===e}}class G2 extends Wf{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new _m(e.serializer,Tt(e.serializer,this.Ia));return new Ov(e.path,t)}isEqual(e){return this===e}}function EM(n,e,t,r){const i=n.ya(1,e,t);CM("Data must be an object, but it was:",i,r);const a=[],l=Vi.empty();Ea(r,(y,w)=>{const I=GC(e,y,t);w=(0,Ln.m9)(w);const M=i.da(I);if(w instanceof Xv)a.push(I);else{const U=Zf(w,M);null!=U&&(a.push(I),l.set(I,U))}});const f=new Li(a);return new W1(l,f,i.fieldTransforms)}function bM(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[e0(e,r,t)],y=[i];if(a.length%2!=0)throw new je(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<a.length;U+=2)f.push(e0(e,a[U])),y.push(a[U+1]);const w=[],I=Vi.empty();for(let U=f.length-1;U>=0;--U)if(!J1(w,f[U])){const G=f[U];let X=y[U];X=(0,Ln.m9)(X);const ie=l.da(G);if(X instanceof Xv)w.push(G);else{const he=Zf(X,ie);null!=he&&(w.push(G),I.set(G,he))}}const M=new Li(w);return new W1(I,M,l.fieldTransforms)}function K1(n,e,t,r=!1){return Zf(t,n.ya(r?4:3,e))}function Zf(n,e){if(Q1(n=(0,Ln.m9)(n)))return CM("Unsupported field value:",e,n),Y1(n,e);if(n instanceof Wf)return function(t,r){if(!q1(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=Zf(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ln.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tt(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Sr.fromDate(t);return{timestampValue:Em(r.serializer,i)}}if(t instanceof Sr){const i=new Sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Em(r.serializer,i)}}if(t instanceof $C)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wc)return{bytesValue:ak(r.serializer,t._byteString)};if(t instanceof Rr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:US(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${jC(t)}`)}(n,e)}function Y1(n,e){const t={};return eC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(n,(r,i)=>{const a=Zf(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function Q1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sr||n instanceof $C||n instanceof wc||n instanceof Rr||n instanceof Wf)}function CM(n,e,t){if(!Q1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=jC(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function e0(n,e,t){if((e=(0,Ln.m9)(e))instanceof kl)return e._internalPath;if("string"==typeof e)return GC(n,e);throw WC("Field path arguments must be of type string or ",n,!1,void 0,t)}const W2=new RegExp("[~\\*/\\[\\]]");function GC(n,e,t){if(e.search(W2)>=0)throw WC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kl(...e.split("."))._internalPath}catch{throw WC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function WC(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new je(pe.INVALID_ARGUMENT,f+n+y)}function J1(n,e){return n.some(t=>t.isEqual(e))}class t0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class q2 extends t0{data(){return super.data()}}function qC(n,e){return"string"==typeof e?GC(n,e):e instanceof kl?e._internalPath:e._delegate._internalPath}function X1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IM{}class n0 extends IM{}function Id(n,e,...t){let r=[];e instanceof IM&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof Fm).length,l=i.filter(f=>f instanceof r0).length;if(a>1||a>0&&l>0)throw new je(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class r0 extends n0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new r0(e,t,r)}_apply(e){const t=this._parse(e);return rP(e._query,t),new Gi(e.firestore,e.converter,hC(e._query,t))}_parse(e){const t=qf(e.firestore);return function(i,a,l,f,y,w,I){let M;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new je(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){nP(I,w);const U=[];for(const G of I)U.push(tP(f,i,G));M={arrayValue:{values:U}}}else M=tP(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||nP(I,w),M=K1(l,"where",I,"in"===w||"not-in"===w);return vn.create(y,w,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Fm extends IM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)rP(a,f),a=hC(a,f)}(e._query,t),new Gi(e.firestore,e.converter,hC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class DM extends n0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new DM(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new je(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new je(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Tl(i,a);return function(f,y){if(null===Mv(f)){const w=pm(f);null!==w&&iP(0,w,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Aa(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ZC extends n0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ZC(e,t,r)}_apply(e){return new Gi(e.firestore,e.converter,gm(e._query,this._limit,this._limitType))}}class KC extends n0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new KC(e,t,r)}_apply(e){const t=eP(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(i=t,new Aa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class YC extends n0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new YC(e,t,r)}_apply(e){const t=eP(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(i=t,new Aa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function eP(n,e,t,r){if(t[0]=(0,Ln.m9)(t[0]),t[0]instanceof t0)return function(i,a,l,f,y){if(!f)throw new je(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const w=[];for(const I of md(i))if(I.field.isKeyField())w.push(Dl(a,f.key));else{const M=f.data.field(I.field);if(Mf(M))throw new je(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const U=I.field.canonicalString();throw new je(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}w.push(M)}return new to(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=qf(n.firestore);return function(a,l,f,y,w,I){const M=a.explicitOrderBy;if(w.length>M.length)throw new je(pe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let G=0;G<w.length;G++){const X=w[G];if(M[G].field.isKeyField()){if("string"!=typeof X)throw new je(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof X}`);if(!dC(a)&&-1!==X.indexOf("/"))throw new je(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${X}' contains a slash.`);const ie=a.path.child(On.fromString(X));if(!lt.isDocumentKey(ie))throw new je(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const he=new lt(ie);U.push(Dl(l,he))}else{const ie=K1(f,y,X);U.push(ie)}}return new to(U,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function tP(n,e,t){if("string"==typeof(t=(0,Ln.m9)(t))){if(""===t)throw new je(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dC(e)&&-1!==t.indexOf("/"))throw new je(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(On.fromString(t));if(!lt.isDocumentKey(r))throw new je(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dl(n,new lt(r))}if(t instanceof Rr)return Dl(n,t._key);throw new je(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jC(t)}.`)}function nP(n,e){if(!Array.isArray(n)||0===n.length)throw new je(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rP(n,e){if(e.isInequality()){const r=pm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new je(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=Mv(n);null!==a&&iP(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new je(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iP(n,e,t){if(!t.isEqual(e))throw new je(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class TM{convertValue(e,t="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ct()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ea(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new $C(Hr(e.latitude),Hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const t=mc(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=On.fromString(e);Rt(yk(r));const i=new Ia(r.get(1),r.get(3)),a=new lt(r.popFirst(5));return i.isEqual(t)||kr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function QC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class nV extends TM{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}class Kf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pl extends t0{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new s0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class s0 extends Pl{data(e={}){return super.data(e)}}class Dd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Kf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new s0(this._firestore,this._userDataWriter,r.key,r,new Kf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new s0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Kf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new s0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Kf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:iV(l.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}function oP(n,e){return n instanceof Pl&&e instanceof Pl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Dd&&e instanceof Dd&&n._firestore===e._firestore&&_M(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Td extends TM{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}function SM(n,e,t){n=xn(n,Rr);const r=xn(n.firestore,Nr),i=QC(n.converter,e,t);return Lm(r,[zC(qf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,zr.none())])}function aP(n,e,t,...r){n=xn(n,Rr);const i=xn(n.firestore,Nr),a=qf(i);let l;return l="string"==typeof(e=(0,Ln.m9)(e))||e instanceof kl?bM(a,"updateDoc",n._key,e,t,r):EM(a,"updateDoc",n._key,e),Lm(i,[l.toMutation(n._key,zr.exists(!0))])}function cP(n,...e){var t,r,i;n=(0,Ln.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||vM(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(vM(e[l])){const M=e[l];e[l]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[l+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[l+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,w,I;if(n instanceof Rr)w=xn(n.firestore,Nr),I=Lf(n._key.path),y={next:M=>{e[l]&&e[l](AM(w,n,M))},error:e[l+1],complete:e[l+2]};else{const M=xn(n,Gi);w=xn(M.firestore,Nr),I=M._query;const U=new Td(w);y={next:G=>{e[l]&&e[l](new Dd(w,U,M,G))},error:e[l+1],complete:e[l+2]},X1(n._query)}return function(M,U,G,X){const ie=new LC(X),he=new FA(U,ie,G);return M.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return xA(yield Nm(M),he)})),()=>{ie.Dc(),M.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return PA(yield Nm(M),he)}))}}(fi(w),I,f,y)}function Lm(n,e){return function(t,r){const i=new $r;return t.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function YL(n,e,t){return jA.apply(this,arguments)}(yield gM(t),r,i)})),i.promise}(fi(n),e)}function AM(n,e,t){const r=t.docs.get(e._key),i=new Td(n);return new Pl(n,i,e._key,r,new Kf(t.hasPendingWrites,t.fromCache),e.converter)}const bV={maxAttempts:5};class lP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qf(e)}set(e,t,r){this._verifyNotCommitted();const i=Sd(e,this._firestore),a=QC(i.converter,t,r),l=zC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,zr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Sd(e,this._firestore);let l;return l="string"==typeof(t=(0,Ln.m9)(t))||t instanceof kl?bM(this._dataReader,"WriteBatch.update",a._key,t,r,i):EM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,zr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sd(e,this._firestore);return this._mutations=this._mutations.concat(new wm(t._key,zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sd(n,e){if((n=(0,Ln.m9)(n)).firestore!==e)throw new je(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class CV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qf(e)}get(e){const t=Sd(e,this._firestore),r=new nV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ct();const a=i[0];if(a.isFoundDocument())return new t0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new t0(this._firestore,r,t._key,null,t.converter);throw Ct()})}set(e,t,r){const i=Sd(e,this._firestore),a=QC(i.converter,t,r),l=zC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=Sd(e,this._firestore);let l;return l="string"==typeof(t=(0,Ln.m9)(t))||t instanceof kl?bM(this._dataReader,"Transaction.update",a._key,t,r,i):EM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Sd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sd(e,this._firestore),r=new Td(this._firestore);return super.get(e).then(i=>new Pl(this._firestore,r,t._key,i._document,new Kf(!1,!1),t.converter))}}!function(n,e=!0){Cf=ua.SDK_VERSION,(0,ua._registerComponent)(new lg.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Nr(new XT(t.getProvider("auth-internal")),new Vb(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new je(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,ua.registerVersion)(Rb,"3.12.0",n),(0,ua.registerVersion)(Rb,"3.12.0","esm2017")}();class JC{constructor(e){return e}}const dP="firestore",MM=new u.OlP("angularfire2.firestore-instances");function kV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new JC(r)}}const PV={provide:class OV{constructor(){return(0,bn.vb)(dP)}},deps:[[new u.FiY,MM]]},RV={provide:JC,useFactory:function xV(n,e){const t=(0,bn.JM)(dP,n,e);return t&&new JC(t)},deps:[[new u.FiY,MM],la]};let NV=(()=>{class n{constructor(){(0,ku.KN)("angularfire",bn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[RV,PV]}),n})();function FV(n,...e){return{ngModule:NV,providers:[{provide:MM,useFactory:kV(n),multi:!0,deps:[u.R0b,u.zs3,bn.HU,zh,[new u.FiY,vg],[new u.FiY,Kh],...e]}]}}const LV=(0,bn.u3)(Qv,!0),VV=(0,bn.u3)(SM,!0);let o0=(()=>{class n{constructor(t,r,i,a){this.databaseService=t,this.myRoute=r,this.session=i,this.firestore=a,this.bool=new xu}addUser(t){const r=LV(this.firestore,"Users");return(0,Mn.D)(VV(r,t))}signIn(t){const r=this.databaseService.get("Users");if(null!=r.data){for(const a of r.data)if(t.email===a.email&&t.password===a.password)return alert(`${a.name} logged in with success`),this.bool.loginStatus=!0,console.log(`login status: ${this.bool.loginStatus}`),void this.myRoute.navigate(["/main"]);alert("password or email do not match"),this.bool.loginStatus=!1,console.log("Login status :",this.bool.loginStatus)}else alert("Account Does not exist")}signUp(t){const r=this.databaseService.get("Users");let i=[];console.log(typeof i),!0===r.status&&(console.log(typeof r.data),i=r.data,console.log(typeof i),console.log(i));for(const f of i){if(t.name===f.name)return void alert("User exist");if(t.email===f.email)return void alert("User exist")}let a=i.length,l=i[a-1];0===a?t.id+=1:a>=1&&(t.id=l.id+1),i.push(t),this.databaseService.set("Users",i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cc),u.LFG(Zr),u.LFG(Hh),u.LFG(JC))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UV=(()=>{class n{constructor(t,r){this.userservice=t,this.session=r,this.loggedUser="",this.user={id:0,name:"",email:"",password:"",userTasks:{taskName:"",description:"",startDate:"",dueDate:"",status:"",difficulty:"",level:"",userId:"",id:0}},this.userState=this.userservice.bool.loginStatus,this.buttonType="button",this.sectionClass="header-section"}logoutfnx(){this.session.dltsession(this.user)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(o0),u.Y36(Ou))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mathieu"]],inputs:{loggedUser:"loggedUser"},decls:22,vars:2,consts:[[1,"logo-division"],[1,"logo-design"],[1,"nav-pannel"],[1,"nav-list"],["routerLink",""],["routerLink","/tasks"],["type","button",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"section")(1,"nav")(2,"div",0)(3,"p",1)(4,"span"),u._uU(5,"HN"),u.qZA()()(),u.TgZ(6,"div",2)(7,"ul",3)(8,"li")(9,"a",4),u._uU(10,"Home"),u.qZA()(),u.TgZ(11,"li")(12,"a",5),u._uU(13,"Tasks"),u.qZA()(),u.TgZ(14,"li"),u._uU(15,"About"),u.qZA(),u.TgZ(16,"li"),u._uU(17,"Help"),u.qZA(),u.TgZ(18,"li"),u._uU(19),u.qZA(),u.TgZ(20,"button",6),u.NdJ("click",function(){return r.logoutfnx()}),u._uU(21," Logout "),u.qZA()()()()()),2&t&&(u.uIk("class",r.sectionClass),u.xp6(19),u.hij("User: ",r.loggedUser,""))},dependencies:[ca],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], article[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%]{display:block}*[_ngcontent-%COMP%]{margin:auto;padding:0;font-family:Poppins,sans-serif}p[_ngcontent-%COMP%]{color:#000;font-size:30px}section.header-section[_ngcontent-%COMP%]{width:90%;margin-left:5%;background-color:#000}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-right:10%}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.logo-division[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#fff;width:60px;height:60px;border-radius:50%}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.logo-division[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;padding:190px 0 0 7px}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.nav-pannel[_ngcontent-%COMP%]{width:80%}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.nav-pannel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:22px;display:inline;margin-left:25px;cursor:pointer}section.header-section[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   div.nav-pannel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}section.header-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:none;outline:none;padding:10px;margin-left:3%}']}),n})(),BV=(()=>{class n{constructor(t){this.session=t,this.loginUser=null,this.name="",this.user={id:0,name:"",email:"",password:"",userTasks:{taskName:"",description:"",startDate:"",dueDate:"",status:"",difficulty:"",level:"",userId:"",id:0}}}ngOnInit(){this.loginUser=this.session.getsession(),this.loginUser&&(this.name=this.loginUser.nameinit)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ou))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-main"]],decls:6,vars:2,consts:[[3,"loggedUser"],[1,"main-section"]],template:function(t,r){1&t&&(u._UZ(0,"mathieu",0),u.TgZ(1,"section",1)(2,"h1"),u._uU(3),u.qZA(),u.TgZ(4,"p"),u._uU(5,"welcome to Tasky Your task Mangement application"),u.qZA()()),2&t&&(u.Q6J("loggedUser",r.name),u.xp6(3),u.hij("Hi ",r.name,""))},dependencies:[UV],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], article[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%]{display:block}section.main-section[_ngcontent-%COMP%]{height:100vh;width:80%;margin-left:10%;background-color:#000}section.main-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:15%;margin-left:35%;font-family:Poppins,sans-serif;font-size:40px;font-weight:500px;color:#fff}section.main-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px;font-weight:400px;color:#fff;margin-left:25%;padding-top:20px}']}),n})(),jV=(()=>{class n{constructor(t){this.auth=t}login(t,r){return(0,Mn.D)(uE(this.auth,t,r))}logout(){return(0,Mn.D)(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hP{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=(0,u.LMc)(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,t){return this.ref.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.ref.instance[t]=e[t]}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}}function OM(n){return n instanceof u.Rgc}function xM(n){return"function"==typeof n}function fP(n){return"string"==typeof n}let $V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,r){1&t&&u._UZ(0,"div",0),2&t&&u.Q6J("innerHTML",r.content,u.oJD)},encapsulation:2}),n})();class HV{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){this.ref.detectChanges()}getElement(){const e=this.ref.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.ref.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}}class zV{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}const pP=new u.OlP("Component context");let gP=(()=>{class n{constructor(){this.injector=(0,u.f3M)(u.zs3),this.appRef=(0,u.f3M)(u.z2F),this.environmentInjector=(0,u.f3M)(u.lqb)}createComponent(t,r={}){let i=r.injector||this.injector;return r.context&&(i=u.zs3.create({providers:[{provide:pP,useValue:r.context}],parent:i})),new hP({component:t,vcr:r.vcr,injector:i,appRef:this.appRef,environmentInjector:r.environmentInjector||this.environmentInjector})}createTemplate(t,r={}){return new HV({vcr:r.vcr,appRef:this.appRef,tpl:t,context:r.context,injector:r.injector})}createView(t,r={}){if(OM(t))return this.createTemplate(t,r);if(xM(t))return this.createComponent(t,r);if(fP(t))return new zV(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GV=(()=>{class n{constructor(t,r,i){this.defaultTpl=t,this.vcr=r,this.viewService=i}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),fP(this.view)?(this.viewRef=this.viewService.createComponent($V,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.s_b),u.Y36(gP))},n.\u0275dir=u.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[u.TTD]}),n})();const{isArray:WV}=Array;const YV=["*"],QV=function(n,e){return{"border-color":n,"border-right-color":e}};function JV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1,"\n        "),u._UZ(2,"hot-toast-error",2),u._uU(3,"\n      "),u.qZA()),2&n){const t=u.oxw(3);u.xp6(2),u.Q6J("theme",t.theme)}}function XV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1,"\n        "),u._UZ(2,"hot-toast-checkmark",2),u._uU(3,"\n      "),u.qZA()),2&n){const t=u.oxw(3);u.xp6(2),u.Q6J("theme",t.theme)}}function eU(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1,"\n        "),u._UZ(2,"hot-toast-warning",2),u._uU(3,"\n      "),u.qZA()),2&n){const t=u.oxw(3);u.xp6(2),u.Q6J("theme",t.theme)}}function tU(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1,"\n        "),u._UZ(2,"hot-toast-info",2),u._uU(3,"\n      "),u.qZA()),2&n){const t=u.oxw(3);u.xp6(2),u.Q6J("theme",t.theme)}}function nU(n,e){if(1&n&&(u.TgZ(0,"div",4),u._uU(1,"\n    "),u.TgZ(2,"div",5),u._uU(3,"\n      "),u.YNc(4,JV,4,1,"div",6),u._uU(5,"\n      "),u.YNc(6,XV,4,1,"div",6),u._uU(7,"\n      "),u.YNc(8,eU,4,1,"div",6),u._uU(9,"\n      "),u.YNc(10,tU,4,1,"div",6),u._uU(11,"\n    "),u.qZA(),u._uU(12,"\n  "),u.qZA()),2&n){const t=u.oxw(2);u.xp6(2),u.Q6J("ngSwitch",t.type),u.xp6(2),u.Q6J("ngSwitchCase","error"),u.xp6(2),u.Q6J("ngSwitchCase","success"),u.xp6(2),u.Q6J("ngSwitchCase","warning"),u.xp6(2),u.Q6J("ngSwitchCase","info")}}function rU(n,e){if(1&n&&(u.TgZ(0,"div",1),u._uU(1,"\n  "),u._UZ(2,"hot-toast-loader",2),u._uU(3,"\n  "),u.YNc(4,nU,13,5,"div",3),u._uU(5,"\n"),u.qZA()),2&n){const t=u.oxw();u.xp6(2),u.Q6J("theme",t.theme),u.xp6(2),u.Q6J("ngIf","loading"!==t.type)}}const iU=["hotToastBarBase"];function sU(n,e){if(1&n&&(u.ynx(0),u._uU(1,"\n          "),u.TgZ(2,"hot-toast-animated-icon",10),u._uU(3),u.qZA(),u._uU(4,"\n        "),u.BQk()),2&n){const t=u.oxw(2);u.xp6(2),u.Q6J("iconTheme",t.toast.iconTheme),u.xp6(1),u.Oqu(t.toast.icon)}}function oU(n,e){if(1&n&&(u._uU(0,"\n          "),u.TgZ(1,"div"),u._uU(2,"\n            "),u.GkF(3,11),u._uU(4,"\n          "),u.qZA(),u._uU(5,"\n        ")),2&n){const t=u.oxw(2);u.xp6(3),u.Q6J("dynamicView",t.toast.icon)}}function aU(n,e){if(1&n&&(u.ynx(0),u._uU(1,"\n        "),u.YNc(2,sU,5,2,"ng-container",4),u._uU(3,"\n        "),u.YNc(4,oU,6,1,"ng-template",null,9,u.W1O),u._uU(6,"\n      "),u.BQk()),2&n){const t=u.MAs(5),r=u.oxw();u.xp6(2),u.Q6J("ngIf",r.isIconString)("ngIfElse",t)}}function cU(n,e){if(1&n&&(u._uU(0,"\n        "),u._UZ(1,"hot-toast-indicator",12),u._uU(2,"\n      ")),2&n){const t=u.oxw();u.xp6(1),u.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function lU(n,e){1&n&&u.GkF(0)}function uU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.close())}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngStyle",t.toast.closeStyle)}}function dU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"hot-toast",3),u.NdJ("height",function(i){const l=u.CHM(t).$implicit,f=u.oxw();return u.KtG(f.updateHeight(i,l))})("beforeClosed",function(){const a=u.CHM(t).$implicit,l=u.oxw();return u.KtG(l.beforeClosed(a))})("afterClosed",function(i){u.CHM(t);const a=u.oxw();return u.KtG(a.afterClosed(i))}),u.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=u.oxw();u.Q6J("toast",t)("offset",i.calculateOffset(t.id,t.position))("toastRef",i.toastRefs[r])}}const mP={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class _P{constructor(e){this.toast=e,this._onClosed=new oi.x}get data(){return this.toast.data}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:r,updateToast:i,afterClosed:a}=e.addToast(this);return this.dispose=t,this.updateMessage=r,this.updateToast=i,this.afterClosed=function ZV(...n){return 1===(n=function qV(n){return 1===n.length&&WV(n[0])?n[0]:n}(n)).length?(0,yo.Xf)(n[0]):new Ri.y(function KV(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,yo.Xf)(n[r]).subscribe((0,Ir.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))}(this._onClosed.asObservable(),a),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let gU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:YV,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0),u._uU(1,"\n  "),u.Hsn(2),u._uU(3,"\n"),u.qZA(),u._uU(4,"\n")),2&t&&u.Udp("color",null==r.iconTheme?null:r.iconTheme.primary)},encapsulation:2,changeDetection:0}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,r){1&t&&(u._UZ(0,"div",0),u._uU(1,"\n")),2&t&&u.Udp("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),yU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,r){1&t&&(u._UZ(0,"div",0),u._uU(1,"\n")),2&t&&u.Udp("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),_U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,r){1&t&&(u._UZ(0,"div",0),u._uU(1,"\n")),2&t&&u.Q6J("ngStyle",u.WLB(1,QV,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},dependencies:[An],encapsulation:2,changeDetection:0}),n})(),vU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,r){1&t&&(u._UZ(0,"div",0),u._uU(1,"\n")),2&t&&u.Udp("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),wU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,r){1&t&&(u._UZ(0,"div",0),u._uU(1,"\n")),2&t&&u.Udp("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),EU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,r){1&t&&(u.YNc(0,rU,6,2,"div",0),u._uU(1,"\n")),2&t&&u.Q6J("ngIf","blank"!==r.type)},dependencies:[Zi,te,_e,mU,yU,_U,vU,wU],encapsulation:2,changeDetection:0}),n})(),vP=(()=>{class n{constructor(t,r,i){this.injector=t,this.renderer=r,this.ngZone=i,this.offset=0,this.height=new u.vpe,this.beforeClosed=new u.vpe,this.afterClosed=new u.vpe,this.isManualClose=!1,this.unlisteners=[]}get containerPositionStyle(){const t=this.toast.position.includes("top"),r=t?{top:0}:{bottom:0},i=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...r,...i}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),r=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${r}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r}}get isIconString(){return"string"==typeof this.toast.icon}ngOnInit(){OM(this.toast.message)&&(this.context={$implicit:this.toastRef}),xM(this.toast.message)&&(this.toastComponentInjector=u.zs3.create({providers:[{provide:_P,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[r,i]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.zs3),u.Y36(u.Qsj),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,r){if(1&t&&u.Gf(iU,5),2&t){let i;u.iGM(i=u.CRH())&&(r.toastBarBase=i.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0),u._uU(1,"\n  "),u.TgZ(2,"div",1,2),u._uU(4,"\n    "),u.TgZ(5,"div",3),u._uU(6,"\n      "),u.YNc(7,aU,7,2,"ng-container",4),u._uU(8,"\n\n      "),u.YNc(9,cU,3,2,"ng-template",null,5,u.W1O),u._uU(11,"\n    "),u.qZA(),u._uU(12,"\n\n    "),u.TgZ(13,"div",6),u._uU(14,"\n      "),u.TgZ(15,"div"),u._uU(16,"\n        "),u.YNc(17,lU,1,0,"ng-container",7),u._uU(18,"\n      "),u.qZA(),u._uU(19,"\n    "),u.qZA(),u._uU(20,"\n\n    "),u.YNc(21,uU,1,1,"button",8),u._uU(22,"\n  "),u.qZA(),u._uU(23,"\n"),u.qZA(),u._uU(24,"\n")),2&t){const i=u.MAs(10);u.Q6J("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),u.xp6(2),u.Udp("--hot-toast-animation-state",r.isManualClose?"running":"paused"),u.Q6J("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),u.uIk("aria-live",r.toast.ariaLive)("role",r.toast.role),u.xp6(5),u.Q6J("ngIf",void 0!==r.toast.icon)("ngIfElse",i),u.xp6(10),u.Q6J("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),u.xp6(4),u.Q6J("ngIf",r.toast.dismissible)}},dependencies:[Yt,Zi,An,GV,gU,EU],encapsulation:2,changeDetection:0}),n})(),bU=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new oi.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,r){return r.id}calculateOffset(t,r){const i=this.toasts.filter(f=>f.visible&&f.position===r),a=i.findIndex(f=>f.id===t);return-1!==a?i.slice(...this.defaultConfig.reverseOrder?[a+1]:[0,a]).reduce((f,y)=>f+(y.height||0)+8,0):0}updateHeight(t,r){r.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const r=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:i=>{r.message=i,this.cdr.detectChanges()},updateToast:i=>{this.updateToasts(r,i),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(t){if(t){const r=this.hotToastComponentList.find(i=>i.toast.id===t);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(i=>i.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(i=>i.id!==t.id),this.toastRefs=this.toastRefs.filter(i=>i.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(r=>r.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(pi(r=>r.id===t.id))}updateToasts(t,r){this.toasts=this.toasts.map(i=>({...i,...i.id===t.id&&{...t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,r){if(1&t&&u.Gf(vP,5),2&t){let i;u.iGM(i=u.CRH())&&(r.hotToastComponentList=i)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._uU(1,"\n  "),u.TgZ(2,"div",1),u._uU(3,"\n    "),u.YNc(4,dU,1,3,"hot-toast",2),u._uU(5,"\n  "),u.qZA(),u._uU(6,"\n"),u.qZA(),u._uU(7,"\n")),2&t&&(u.xp6(4),u.Q6J("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},dependencies:[ii,vP],encapsulation:2,changeDetection:0}),n})();class wP{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class DU{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let TU=(()=>{class n{constructor(t,r,i){this._viewService=t,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new wP,this._defaultPersistConfig=new DU,i&&(this._defaultConfig={...this._defaultConfig,...i})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,r){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...r})}error(t,r){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...r})}success(t,r){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...r})}loading(t,r){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...r})}warning(t,r){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}info(t,r){return this.createToast(t||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...r})}observe(t){return r=>{let i,a=0;const l=t.loading??this._defaultConfig.loading?.content,f=t.success??this._defaultConfig.success?.content,y=t.error??this._defaultConfig.error?.content;return Pp(()=>(l&&(i=this.createLoadingToast(l),a=Date.now()),r.pipe((0,ai.b)({...f&&{next:w=>{i=this.createOrUpdateToast(t,w,i,"success",0===a?a:Date.now()-a)}},...y&&{error:w=>{i=this.createOrUpdateToast(t,w,i,"error",0===a?a:Date.now()-a)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){Is(this.platformId)||(this._componentRef=this._viewService.createComponent(bU).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,r,i,a,l){let f=null,y={};if(({content:f,options:y}=this.getContentAndOptions(a,t[a]||(this._defaultConfig[a]?this._defaultConfig[a].content:""))),f=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(f,r),i){i.updateMessage(f);const w={type:a,duration:l+mP[a],...y,...y.duration&&{duration:l+y.duration}};i.updateToast(w)}else this.createToast(f,a,y);return i}createToast(t,r,i,a){this._isInitialized||(this._isInitialized=!0,this.init());const l=Date.now(),f=i?.id??l.toString();if(!this.isDuplicate(f)&&(!i.persist?.enabled||i.persist?.enabled&&this.handleStorageValue(f,i))){const y={ariaLive:i?.ariaLive??"polite",createdAt:l,duration:i?.duration??mP[r],id:f,message:t,role:i?.role??"status",type:r,visible:!0,observableMessages:a??void 0,...i};return new _P(y).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,r){let i=1;const a={...this._defaultPersistConfig,...r.persist},l="local"===a.storage?localStorage:sessionStorage,f=a.key.replace(/\${id}/g,t);let y=l.getItem(f);return y?(y=parseInt(y,10),i=y>0?y-1:y):i=a.count,l.setItem(f,i.toString()),i}getContentAndOptions(t,r){let i,a={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof r||OM(r)||xM(r))i=r;else{let l;({content:i,...l}=r),a={...a,...l}}return{content:i,options:a}}createLoadingToast(t){let r=null,i={};return({content:r,options:i}=this.getContentAndOptions("loading",t)),this.loading(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gP),u.LFG(u.Lbi),u.LFG(wP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Yf=(()=>{class n extends EP{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ma=new u.OlP("NgValueAccessor"),MU={provide:Ma,useExisting:(0,u.Gpc)(()=>Qf),multi:!0},xU=new u.OlP("CompositionEventMode");let Qf=(()=>{class n extends EP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OU(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(xU,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([MU]),u.qOj]}),n})();const kU=!1;const Wi=new u.OlP("NgValidators"),Md=new u.OlP("NgAsyncValidators");function TP(n){return function Ad(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function XC(n){return null}function kP(n){return null!=n}function PP(n){const e=(0,u.QGY)(n)?(0,Mn.D)(n):n;if(kU&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function RP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NP(n,e){return e.map(t=>t(n))}function FP(n){return n.map(e=>function RU(n){return!n.validate}(e)?e:t=>e.validate(t))}function kM(n){return null!=n?function LP(n){if(!n)return null;const e=n.filter(kP);return 0==e.length?null:function(t){return RP(NP(t,e))}}(FP(n)):null}function PM(n){return null!=n?function VP(n){if(!n)return null;const e=n.filter(kP);return 0==e.length?null:function(t){return function SU(...n){const e=(0,ds.jO)(n),{args:t,keys:r}=ou(n),i=new Ri.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let y=l,w=l;for(let I=0;I<l;I++){let M=!1;(0,yo.Xf)(t[I]).subscribe((0,Ir.x)(a,U=>{M||(M=!0,w--),f[I]=U},()=>y--,void 0,()=>{(!y||!M)&&(w||a.next(r?Hc(r,f):f),a.complete())}))}});return e?i.pipe(Ts(e)):i}(NP(t,e).map(PP)).pipe((0,xt.U)(RP))}}(FP(n)):null}function UP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RM(n){return n?Array.isArray(n)?n:[n]:[]}function eI(n,e){return Array.isArray(n)?n.includes(e):n===e}function $P(n,e){const t=RM(e);return RM(n).forEach(i=>{eI(t,i)||t.push(i)}),t}function HP(n,e){return RM(e).filter(t=>!eI(n,t))}class zP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=PM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ms extends zP{get formDirective(){return null}get path(){return null}}class Od extends zP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let a0=(()=>{class n extends GP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Od,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),c0=(()=>{class n extends GP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ms,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();function WP(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const LM=!1,l0="VALID",nI="INVALID",Vm="PENDING",u0="DISABLED";function VM(n){return(rI(n)?n.validators:n)||null}function UM(n,e){return(rI(e)?e.asyncValidators:n)||null}function rI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===l0}get invalid(){return this.status===nI}get pending(){return this.status==Vm}get disabled(){return this.status===u0}get enabled(){return this.status!==u0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($P(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($P(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HP(e,this._rawAsyncValidators))}hasValidator(e){return eI(this._rawValidators,e)}hasAsyncValidator(e){return eI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=u0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=l0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===l0||this.status===Vm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?u0:l0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vm,this._hasOwnPendingAsyncValidator=!0;const t=PP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?u0:this.errors?nI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vm)?Vm:this._anyControlsHaveStatus(nI)?nI:l0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function jU(n){return Array.isArray(n)?kM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $U(n){return Array.isArray(n)?PM(n):n||null}(this._rawAsyncValidators)}}class BM extends KP{constructor(e,t,r){super(VM(t),UM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ZP(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,LM?function BU(n,e){return`Must supply a value for form control ${WP(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function qP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,LM?function VU(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new u.vHH(1001,LM?function UU(n,e){return`Cannot find form control ${WP(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Um=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>iI}),iI="always";function d0(n,e,t=iI){jM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function GU(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YP(n,e)})}(n,e),function qU(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function WU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function zU(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function aI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jM(n,e){const t=function BP(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(UP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function jP(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(UP(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();aI(e._rawValidators,i),aI(e._rawAsyncValidators,i)}function YP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const JU={provide:ms,useExisting:(0,u.Gpc)(()=>Jf)},h0=(()=>Promise.resolve())();let Jf=(()=>{class n extends ms{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new BM({},kM(t),PM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){h0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),d0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){h0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){h0.then(()=>{const r=this._findContainer(t.path),i=new BM({});(function QP(n,e){jM(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){h0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){h0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function JP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Wi,10),u.Y36(Md,10),u.Y36(Um,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([JU]),u.qOj]}),n})();function XP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tR=class extends KP{constructor(e=null,t,r){super(VM(t),UM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},tB={provide:Od,useExisting:(0,u.Gpc)(()=>Bm)},iR=(()=>Promise.resolve())();let Bm=(()=>{class n extends Od{constructor(t,r,i,a,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new tR,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function zM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Qf?t=a:function YU(n){return Object.getPrototypeOf(n.constructor)===Yf}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function HM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){d0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){iR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);iR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function sI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ms,9),u.Y36(Wi,10),u.Y36(Md,10),u.Y36(Ma,10),u.Y36(u.sBO,8),u.Y36(Um,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([tB]),u.qOj,u.TTD]}),n})(),f0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),oR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const dB={provide:Ma,useExisting:(0,u.Gpc)(()=>p0),multi:!0};function fR(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let p0=(()=>{class n extends Yf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=fR(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function hB(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([dB]),u.qOj]}),n})(),ZM=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(fR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(p0,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const fB={provide:Ma,useExisting:(0,u.Gpc)(()=>KM),multi:!0};function pR(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let KM=(()=>{class n extends Yf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const l=a;for(let f=0;f<l.length;f++){const w=this._getOptionValue(l[f].value);i.push(w)}}else{const l=r.options;for(let f=0;f<l.length;f++){const y=l[f];if(y.selected){const w=this._getOptionValue(y.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function pB(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([fB]),u.qOj]}),n})(),YM=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(pR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(pR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(KM,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Xf=(()=>{class n{constructor(){this._validator=XC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):XC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const yB={provide:Wi,useExisting:(0,u.Gpc)(()=>g0),multi:!0};let g0=(()=>{class n extends Xf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>TP}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([yB]),u.qOj]}),n})(),CB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oR]}),n})(),DB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Um,useValue:t.callSetDisabledState??iI}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[CB]}),n})(),TB=(()=>{class n{constructor(t,r,i,a,l){this.store=t,this.session=r,this.myRoute=i,this.auth=a,this.toast=l,this.loginStatus=new xu,this.user={id:0,name:"",email:"",password:"",userTasks:{taskName:"",description:"",startDate:"",dueDate:"",status:"",difficulty:"",level:"",userId:"",id:0}}}ngOnChanges(){}submitForm(){""!=this.user.email||""!=this.user.password?""!=this.user.email?""!=this.user.password?(this.store.signIn(this.user),this.session.crtsession(this.user),this.loginStatus.loginStatus=!0):alert("fill in password field"):alert("fill in email field"):alert("fill in form fields")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(o0),u.Y36(Ou),u.Y36(Zr),u.Y36(jV),u.Y36(TU))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sign-in"]],features:[u.TTD],decls:17,vars:2,consts:[[1,"hero"],["action",""],[1,"heading"],[1,"el-h"],["type","text","name","email","placeholder","User email","required","re\n            ",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","password","required","re\n            ",3,"ngModel","ngModelChange"],["type","button"],["routerLink","/sign-up"],["type","submit",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"form",1)(2,"h1",2),u._uU(3,"Login"),u.qZA(),u.TgZ(4,"div",3)(5,"input",4),u.NdJ("ngModelChange",function(a){return r.user.email=a}),u.qZA()(),u.TgZ(6,"div",3)(7,"input",5),u.NdJ("ngModelChange",function(a){return r.user.password=a}),u.qZA()(),u.TgZ(8,"div",3)(9,"p"),u._uU(10," Haven't account? "),u.TgZ(11,"button",6)(12,"a",7),u._uU(13,"Register"),u.qZA()()()(),u.TgZ(14,"div",3)(15,"button",8),u.NdJ("click",function(){return r.submitForm()}),u._uU(16,"Login"),u.qZA()()()()),2&t&&(u.xp6(5),u.Q6J("ngModel",r.user.email),u.xp6(2),u.Q6J("ngModel",r.user.password))},dependencies:[ca,f0,Qf,a0,c0,g0,Bm,Jf],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], article[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%]{display:block}section.hero[_ngcontent-%COMP%]{background-color:teal;height:100vh;width:90%;margin-left:5%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:35%;margin-left:35%;padding-top:10%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:25%;font-family:Poppins,sans-serif;font-size:25px;font-weight:300px;color:#fff;padding-bottom:10%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:98%;margin-top:30px}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:6px;border:1px solid red;outline:none;padding:8px;font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;background-color:#000d}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{padding:5px;margin-left:40%;background-color:#000;outline:none;border-radius:6px}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[type=button] a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;text-decoration:none}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:5px;margin-left:40%;background-color:#000;outline:none;border-radius:6px;font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff}']}),n})(),SB=(()=>{class n{constructor(t,r){this.store=t,this.myRoute=r,this.user={id:0,name:"",email:"",password:"",userTasks:{taskName:"",description:"",startDate:"",dueDate:"",status:"",difficulty:"",level:"",userId:"",id:0}}}Register(){""!=this.user.name?""!=this.user.email?0!=this.user.email.includes("@")?""!=this.user.password?(this.store.signUp(this.user),this.myRoute.navigate(["/sign-in"])):alert("password required"):alert("valid email required"):alert("User email required"):alert("User name required")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(o0),u.Y36(Zr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sign-up"]],decls:18,vars:3,consts:[[1,"hero"],["action",""],[1,"heading"],[1,"el-h"],["type","text","name","name","placeholder","User name","required","required",3,"ngModel","ngModelChange"],["type","text","name","email","placeholder","User email","required","",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","password","required","required",3,"ngModel","ngModelChange"],[1,"reg-sign-in"],["type","submit",3,"click"],["type","button"],["routerLink","/sign-in"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"form",1)(2,"h1",2),u._uU(3,"Register"),u.qZA(),u.TgZ(4,"div",3)(5,"input",4),u.NdJ("ngModelChange",function(a){return r.user.name=a}),u.qZA()(),u.TgZ(6,"div",3)(7,"input",5),u.NdJ("ngModelChange",function(a){return r.user.email=a}),u.qZA()(),u.TgZ(8,"div",3)(9,"input",6),u.NdJ("ngModelChange",function(a){return r.user.password=a}),u.qZA()(),u.TgZ(10,"div",7)(11,"div",3)(12,"button",8),u.NdJ("click",function(){return r.Register()}),u._uU(13,"Register"),u.qZA()(),u.TgZ(14,"div",3)(15,"button",9)(16,"a",10),u._uU(17,"Sign In"),u.qZA()()()()()()),2&t&&(u.xp6(5),u.Q6J("ngModel",r.user.name),u.xp6(2),u.Q6J("ngModel",r.user.email),u.xp6(2),u.Q6J("ngModel",r.user.password))},dependencies:[ca,f0,Qf,a0,c0,g0,Bm,Jf],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], article[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%]{display:block}section.hero[_ngcontent-%COMP%]{background-color:teal;height:100vh;width:90%;margin-left:5%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:35%;margin-left:35%;padding-top:10%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:25%;font-family:Poppins,sans-serif;font-size:25px;font-weight:300px;color:#fff;padding-bottom:10%}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:98%;margin-top:30px}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:6px;border:1px solid red;outline:none;padding:8px;font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;background-color:#000d}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{padding:5px;margin-left:40%;background-color:#000;outline:none;border-radius:6px}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   button[type=button] a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;text-decoration:none}section.hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.el-h[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:5px;margin-left:40%;background-color:#000;outline:none;border-radius:6px;font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff}div.reg-sign-in[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}div.reg-sign-in[_ngcontent-%COMP%]   .el-h[_ngcontent-%COMP%]{margin-left:60px}div.reg-sign-in[_ngcontent-%COMP%]   .el-h[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none;border:none;background-color:#000;padding:4px;border-radius:5px}div.reg-sign-in[_ngcontent-%COMP%]   .el-h[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:300px;color:#fff;text-decoration:none}']}),n})(),AB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tasks-list"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"tasks-list works!"),u.qZA())}}),n})(),MB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-task-main"]],decls:14,vars:0,consts:[[1,"container"],[1,"router-outlet-display"],[1,"task-buttons"],[1,"add-task"],["type","button"],["routerLink","/add-task"],["routerLink","/user/tasks"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"h1"),u._uU(2," Welcome User "),u.qZA(),u.TgZ(3,"div",1),u._UZ(4,"router-outlet"),u.qZA(),u.TgZ(5,"div",2)(6,"div",3)(7,"button",4)(8,"a",5),u._uU(9,"Add Task"),u.qZA()()(),u.TgZ(10,"div",3)(11,"button",4)(12,"a",6),u._uU(13,"view Tasks"),u.qZA()()()()())},dependencies:[Qp,ca],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], article[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%]{display:block}section.container[_ngcontent-%COMP%]{width:80%;margin-left:10%;background-color:teal}section.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px;font-weight:400px;color:#fff}section.container[_ngcontent-%COMP%]   div.task-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around}section.container[_ngcontent-%COMP%]   div.task-buttons[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{outline:none;border:none;padding:5px;background-color:#000}section.container[_ngcontent-%COMP%]   div.task-buttons[_ngcontent-%COMP%]   button[type=button] a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px;font-weight:400px;color:#fff;text-decoration:none}']}),n})(),lI=(()=>{class n{constructor(t,r,i,a,l){this.localStore=t,this.userStore=r,this.userService=i,this.sessionstore=a,this.route=l,this.task={taskName:"",description:"",dueDate:"",startDate:"",level:"",difficulty:"",status:"",userId:"",id:0}}addTask(t){const r=this.localStore.get("Tasks");let i=[];return!0===r.status&&(i=r.data),t.userId=this.userStore.getsession()?.id,t.id=Date.now(),i.push(t),this.localStore.set("Tasks",i),!0}getTasks(t){const r=this.localStore.get("Tasks").data;t=this.userStore.getsession()?.id;let i=[];for(const a of r){if(null==t)return alert("Login before creating a task"),void this.route.navigate([""]);t===a.userId&&i.push(a)}return console.log(i),i}delTask(t,r){let a,l,i=this.getTasks(t);a=i.findIndex(f=>f.id),l=i[a]}editTask(t){const r=this.localStore.get("Tasks").data;let i={status:!1,data:null};for(const a of r)if(t==a.id){console.log(a),i={status:!0,data:a};break}}viewTaskDetails(t){const r=this.localStore.get("Tasks").data;console.log(r);let i={status:!1,data:null};for(const a of r)if(t==a.id){console.log(a),i={status:!0,data:a};break}return i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cc),u.LFG(Ou),u.LFG(o0),u.LFG(Hh),u.LFG(Zr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OB(n,e){if(1&n&&(u.TgZ(0,"option",16),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.Oqu(t)}}function xB(n,e){if(1&n&&(u.TgZ(0,"option",16),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.Oqu(t)}}function kB(n,e){if(1&n&&(u.TgZ(0,"option",16),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.Oqu(t)}}let PB=(()=>{class n{constructor(t,r){this.addTask=t,this.myrouter=r,this.task={taskName:"",description:"",dueDate:"",startDate:"",level:"",difficulty:"",status:"",userId:"",id:0},this.taskLevel=["COMPLETED","PROGRESS","NOT_STARTED"],this.taskDifficulty=["HIGH","MEDIUM","STANDARD"],this.taskStatus=["SUCCESS","FAILED","PROGRESS","PAUSED"]}saveTask(){this.addTask.addTask(this.task),this.myrouter.navigate([`/view-task/${this.task.userId}`])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lI),u.Y36(Zr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-task"]],decls:33,vars:10,consts:[[1,"add-task-section"],["action","#","method","post"],[1,"input-holder"],["type","text","name","taskName","placeholder","Task name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description","placeholder","Task description","rows","5","cols","50",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","dueDate","placeholder","Task due date",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","startDate","placeholder","Task start date",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-selects"],["name","level","id","level",3,"ngModel","ngModelChange"],["value","","disabled","disabled"],[3,"value",4,"ngFor","ngForOf"],["name","difficulty","id","difficulty",3,"ngModel","ngModelChange"],["name","status","id","status",3,"ngModel","ngModelChange"],["task.status",""],[1,"button"],[3,"click"],[3,"value"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"form",1)(2,"h1"),u._uU(3,"Fill in the fields to create a task"),u.qZA(),u.TgZ(4,"div",2)(5,"input",3),u.NdJ("ngModelChange",function(a){return r.task.taskName=a}),u.qZA()(),u.TgZ(6,"div",2)(7,"textarea",4),u.NdJ("ngModelChange",function(a){return r.task.description=a}),u._uU(8,"        "),u.qZA()(),u.TgZ(9,"div",2)(10,"input",5),u.NdJ("ngModelChange",function(a){return r.task.dueDate=a}),u.qZA()(),u.TgZ(11,"div",2)(12,"input",6),u.NdJ("ngModelChange",function(a){return r.task.startDate=a}),u.qZA()(),u.TgZ(13,"div",7)(14,"div",2)(15,"select",8),u.NdJ("ngModelChange",function(a){return r.task.level=a}),u.TgZ(16,"option",9),u._uU(17,"Select Task Level"),u.qZA(),u.YNc(18,OB,2,2,"option",10),u.qZA()(),u.TgZ(19,"div",2)(20,"select",11),u.NdJ("ngModelChange",function(a){return r.task.difficulty=a}),u.TgZ(21,"option",9),u._uU(22,"Select Task Difficulty"),u.qZA(),u.YNc(23,xB,2,2,"option",10),u.qZA()(),u.TgZ(24,"div",2)(25,"select",12,13),u.NdJ("ngModelChange",function(a){return r.task.status=a}),u.TgZ(27,"option",9),u._uU(28,"Select Task Status"),u.qZA(),u.YNc(29,kB,2,2,"option",10),u.qZA()()(),u.TgZ(30,"div",14)(31,"button",15),u.NdJ("click",function(){return r.saveTask()}),u._uU(32,"Save task"),u.qZA()()()()),2&t&&(u.xp6(5),u.Q6J("ngModel",r.task.taskName),u.xp6(2),u.Q6J("ngModel",r.task.description),u.xp6(3),u.Q6J("ngModel",r.task.dueDate),u.xp6(2),u.Q6J("ngModel",r.task.startDate),u.xp6(3),u.Q6J("ngModel",r.task.level),u.xp6(3),u.Q6J("ngForOf",r.taskLevel),u.xp6(2),u.Q6J("ngModel",r.task.difficulty),u.xp6(3),u.Q6J("ngForOf",r.taskDifficulty),u.xp6(2),u.Q6J("ngModel",r.task.status),u.xp6(4),u.Q6J("ngForOf",r.taskStatus))},dependencies:[ii,f0,ZM,YM,Qf,p0,a0,c0,Bm,Jf],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], article[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%]{display:block}section.add-task-section[_ngcontent-%COMP%]{background:teal;width:90%;margin-left:5%;height:100vh}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:70%;margin-left:15%;padding-top:60px}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-family:Poppins,sans-serif;font-size:38px;font-weight:400px;color:#fff}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]{padding-top:20px;display:block;width:80%;margin-left:10%;background-color:teal}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:1px solid rgba(255,0,0,0);border-radius:3px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#000;background-color:#fff;padding:6px;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{margin-left:50%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;outline:none;border:none;border-radius:3px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#000;background-color:#fff;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]{margin-top:30px;margin-left:45%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:teal;outline:none;border:1px solid white;border-radius:5px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#fff;padding:10px}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]{margin:30px 0 0;display:block}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:block;outline:none}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000;margin-top:10px}']}),n})();function RB(n,e){if(1&n&&(u.TgZ(0,"option",16),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.Oqu(t)}}function NB(n,e){if(1&n&&(u.TgZ(0,"option",16),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.Oqu(t)}}function FB(n,e){if(1&n&&(u.TgZ(0,"option",16),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t),u.xp6(1),u.Oqu(t)}}let CR=(()=>{class n{constructor(t,r){this.taskService=t,this.activeRoute=r,this.task={taskName:"",description:"",dueDate:"",startDate:"",level:"",difficulty:"",status:"",userId:"",id:0},this.taskLevel=["COMPLETED","PROGRESS","NOT_STARTED"],this.taskDifficulty=["HIGH","MEDIUM","STANDARD"],this.taskStatus=["SUCCESS","FAILED","PROGRESS","PAUSED"]}ngOnInit(){this.activeRoute.params.subscribe(t=>{})}editTask(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lI),u.Y36(Jc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-edit-task"]],decls:33,vars:10,consts:[[1,"add-task-section"],["action","#","method","post"],[1,"input-holder"],["type","text","name","taskName","placeholder","Task name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description","placeholder","Task description","rows","5","cols","50",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","dueDate","placeholder","Task due date",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","startDate","placeholder","Task start date",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-selects"],["name","level","id","level",3,"ngModel","ngModelChange"],["value","","disabled","disabled"],[3,"value",4,"ngFor","ngForOf"],["name","difficulty","id","difficulty",3,"ngModel","ngModelChange"],["name","status","id","status",3,"ngModel","ngModelChange"],["task.status",""],[1,"button"],[3,"click"],[3,"value"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"form",1)(2,"h1"),u._uU(3,"Edit task"),u.qZA(),u.TgZ(4,"div",2)(5,"input",3),u.NdJ("ngModelChange",function(a){return r.task.taskName=a}),u.qZA()(),u.TgZ(6,"div",2)(7,"textarea",4),u.NdJ("ngModelChange",function(a){return r.task.description=a}),u._uU(8,"        "),u.qZA()(),u.TgZ(9,"div",2)(10,"input",5),u.NdJ("ngModelChange",function(a){return r.task.dueDate=a}),u.qZA()(),u.TgZ(11,"div",2)(12,"input",6),u.NdJ("ngModelChange",function(a){return r.task.startDate=a}),u.qZA()(),u.TgZ(13,"div",7)(14,"div",2)(15,"select",8),u.NdJ("ngModelChange",function(a){return r.task.level=a}),u.TgZ(16,"option",9),u._uU(17,"Select Task Level"),u.qZA(),u.YNc(18,RB,2,2,"option",10),u.qZA()(),u.TgZ(19,"div",2)(20,"select",11),u.NdJ("ngModelChange",function(a){return r.task.difficulty=a}),u.TgZ(21,"option",9),u._uU(22,"Select Task Difficulty"),u.qZA(),u.YNc(23,NB,2,2,"option",10),u.qZA()(),u.TgZ(24,"div",2)(25,"select",12,13),u.NdJ("ngModelChange",function(a){return r.task.status=a}),u.TgZ(27,"option",9),u._uU(28,"Select Task Status"),u.qZA(),u.YNc(29,FB,2,2,"option",10),u.qZA()()(),u.TgZ(30,"div",14)(31,"button",15),u.NdJ("click",function(){return r.editTask()}),u._uU(32,"Edit task"),u.qZA()()()()),2&t&&(u.xp6(5),u.Q6J("ngModel",r.task.taskName),u.xp6(2),u.Q6J("ngModel",r.task.description),u.xp6(3),u.Q6J("ngModel",r.task.dueDate),u.xp6(2),u.Q6J("ngModel",r.task.startDate),u.xp6(3),u.Q6J("ngModel",r.task.level),u.xp6(3),u.Q6J("ngForOf",r.taskLevel),u.xp6(2),u.Q6J("ngModel",r.task.difficulty),u.xp6(3),u.Q6J("ngForOf",r.taskDifficulty),u.xp6(2),u.Q6J("ngModel",r.task.status),u.xp6(4),u.Q6J("ngForOf",r.taskStatus))},dependencies:[ii,f0,ZM,YM,Qf,p0,a0,c0,Bm,Jf],styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], article[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%]{display:block}section.add-task-section[_ngcontent-%COMP%]{background:teal;width:90%;margin-left:5%;height:100vh}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:70%;margin-left:15%;padding-top:60px}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-family:Poppins,sans-serif;font-size:38px;font-weight:400px;color:#fff}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]{padding-top:20px;display:block;width:80%;margin-left:10%;background-color:teal}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:1px solid rgba(255,0,0,0);border-radius:3px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#000;background-color:#fff;padding:6px;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{margin-left:50%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;outline:none;border:none;border-radius:3px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#000;background-color:#fff;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]{margin-top:30px;margin-left:45%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:teal;outline:none;border:1px solid white;border-radius:5px;font-family:Poppins,sans-serif;font-size:18px;font-weight:400px;color:#fff;padding:10px}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:60%;margin-left:20%}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]{margin:30px 0 0;display:block}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:block;outline:none}section.add-task-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.input-selects[_ngcontent-%COMP%]   div.input-holder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000;margin-top:10px}']}),n})();function LB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2)(1,"div",3),u.NdJ("click",function(){const a=u.CHM(t).$implicit,l=u.oxw();return u.KtG(l.viewTaskDetails(a.id))}),u.TgZ(2,"div",4)(3,"span"),u._uU(4),u.qZA()(),u.TgZ(5,"div",5)(6,"span"),u._uU(7),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(4),u.Oqu(t.taskName),u.xp6(3),u.Oqu(t.description)}}let IR=(()=>{class n{constructor(t,r){this.taskService=t,this.myRouter=r,this.tasks=[],this.task={taskName:"",description:"",dueDate:"",startDate:"",level:"",difficulty:"",status:"",userId:"",id:0},this.taskname="",this.taskDescription=""}ngOnInit(){let t=this.taskService.getTasks(this.task.userId);this.tasks=[...this.tasks,...t]}searchId(){this.taskService.delTask(this.task.userId,this.task.id),this.myRouter.navigate([`/view-task/:${this.task.id}`])}viewTaskDetails(t){this.myRouter.navigate([`/task-details/${t}`]),console.log(this.task)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lI),u.Y36(Zr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-view-task"]],decls:4,vars:1,consts:[[1,"main-section"],["class","tasks-holder",4,"ngFor","ngForOf"],[1,"tasks-holder"],[1,"holder",3,"click"],[1,"name"],[1,"description"]],template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"view-task works!"),u.qZA(),u.TgZ(2,"section",0),u.YNc(3,LB,8,2,"div",1),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngForOf",r.tasks))},dependencies:[ii],styles:["div.edit-dlt[_ngcontent-%COMP%]{display:flex;align-items:center}div.edit-dlt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:red;padding:50px 60px 90px 30px;margin:10px}div.edit-dlt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:50px 60px 90px 30px}"]}),n})();const VB=[{path:"",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-main-landing"]],decls:3,vars:0,consts:[["type","button"],["routerLink","/sign-in"]],template:function(t,r){1&t&&(u.TgZ(0,"button",0)(1,"a",1),u._uU(2,"Get started"),u.qZA()())},dependencies:[ca]}),n})()},{path:"main",component:BV},{path:"tasks",component:MB,children:[{path:"",component:AB}]},{path:"add-task",component:PB},{path:"view-task/:userId",component:IR},{path:"user/tasks",component:IR},{path:"task/edit-task/:taskId",component:CR},{path:"task/edit-task",component:CR},{path:"task-details/:id",component:(()=>{class n{constructor(t,r){this.activeRoute=t,this.taskService=r}ngOnInit(){this.activeRoute.params.subscribe(t=>{console.log(t.id);let r=this.taskService.viewTaskDetails(t.id);console.log(r),this.task=r.data,console.log(this.task)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Jc),u.Y36(lI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-task-details"]],decls:47,vars:8,consts:[[1,"details-section"],["scope","col"],[1,"edit"],[1,"edit-button"],["routerLink","/task/edit-task"],[1,"delete-button"]],template:function(t,r){1&t&&(u.TgZ(0,"section",0)(1,"table")(2,"tbody")(3,"thead"),u._uU(4,"Task Details"),u.qZA(),u.TgZ(5,"tr")(6,"th",1),u._uU(7,"Id"),u.qZA(),u.TgZ(8,"th",1),u._uU(9,"Task Name"),u.qZA(),u.TgZ(10,"th",1),u._uU(11,"Description"),u.qZA(),u.TgZ(12,"th",1),u._uU(13,"start Date"),u.qZA(),u.TgZ(14,"th",1),u._uU(15,"Due date"),u.qZA(),u.TgZ(16,"th",1),u._uU(17,"Difficulty"),u.qZA(),u.TgZ(18,"th",1),u._uU(19,"Level"),u.qZA(),u.TgZ(20,"th",1),u._uU(21,"State"),u.qZA()(),u.TgZ(22,"tr")(23,"td"),u._uU(24),u.qZA(),u.TgZ(25,"td"),u._uU(26),u.qZA(),u.TgZ(27,"td"),u._uU(28),u.qZA(),u.TgZ(29,"td"),u._uU(30),u.qZA(),u.TgZ(31,"td"),u._uU(32),u.qZA(),u.TgZ(33,"td"),u._uU(34),u.qZA(),u.TgZ(35,"td"),u._uU(36),u.qZA(),u.TgZ(37,"td"),u._uU(38),u.qZA()()()(),u.TgZ(39,"div")(40,"p",2)(41,"button",3)(42,"a",4),u._uU(43,"Edit"),u.qZA()()(),u.TgZ(44,"p",2)(45,"button",5),u._uU(46,"Delete"),u.qZA()()()()),2&t&&(u.xp6(24),u.Oqu(r.task.id),u.xp6(2),u.Oqu(r.task.taskName),u.xp6(2),u.Oqu(r.task.description),u.xp6(2),u.Oqu(r.task.startDate),u.xp6(2),u.Oqu(r.task.dueDate),u.xp6(2),u.Oqu(r.task.difficulty),u.xp6(2),u.Oqu(r.task.level),u.xp6(2),u.Oqu(r.task.status))},dependencies:[ca]}),n})()},{path:"sign-in",component:TB},{path:"sign-up",component:SB},{path:"**",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"page-not-found works!"),u.qZA())}}),n})()}];let JM,UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[LD.forRoot(VB),LD]}),n})();try{JM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{JM=!1}let y0,XM,m0=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Cs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!JM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uI(n){return function BB(){if(null==y0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>y0=!0}))}finally{y0=y0||!1}return y0}()?n:!!n.capture}function $m(n){return n.composedPath?n.composedPath()[0]:n.target}function TR(n){return pi((e,t)=>n<=t)}function eO(n,e=Ga.y){return n=n??KB,(0,ti.e)((t,r)=>{let i,a=!0;t.subscribe((0,Ir.x)(r,l=>{const f=e(l);(a||!n(i,f))&&(a=!1,i=f,r.next(l))}))})}function KB(n,e){return n===e}var YB=L(5032);function SR(n){return(0,ti.e)((e,t)=>{(0,yo.Xf)(n).subscribe((0,Ir.x)(t,()=>t.complete(),YB.Z)),!t.closed&&e.subscribe(t)})}function hI(n){return null!=n&&"false"!=`${n}`}function AR(n){return Array.isArray(n)?n:[n]}function _0(n){return n instanceof u.SBq?n.nativeElement:n}var MR=L(4986);const OR=new Set;let Hm,ej=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nj}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function tj(n){if(!OR.has(n))try{Hm||(Hm=document.createElement("style"),Hm.setAttribute("type","text/css"),document.head.appendChild(Hm)),Hm.sheet&&(Hm.sheet.insertRule(`@media ${n} {body{ }}`,0),OR.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(m0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nj(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let rj=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new oi.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return xR(AR(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=zc(xR(AR(t)).map(l=>this._registerQuery(l).observable));return a=Za(a.pipe(_o(1)),a.pipe(TR(1),function XB(n,e=MR.z){return(0,ti.e)((t,r)=>{let i=null,a=null,l=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function y(){const w=l+n,I=e.now();if(I<w)return i=this.schedule(void 0,w-I),void r.add(i);f()}t.subscribe((0,Ir.x)(r,w=>{a=w,l=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe((0,xt.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:y,query:w})=>{f.matches=f.matches||y,f.breakpoints[w]=y}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Ri.y(l=>{const f=y=>this._zone.run(()=>l.next(y));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(vo(r),(0,xt.U)(({matches:l})=>({query:t,matches:l})),SR(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ej),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xR(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function NR(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function FR(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const dj=new u.OlP("cdk-input-modality-detector-options"),hj={ignoreKeys:[18,17,224,91,16]},zm=uI({passive:!0,capture:!0});let fj=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new es(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=$m(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(NR(l)?"keyboard":"mouse"),this._mostRecentTarget=$m(l))},this._onTouchstart=l=>{FR(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$m(l))},this._options={...hj,...a},this.modalityDetected=this._modality.pipe(TR(1)),this.modalityChanged=this.modalityDetected.pipe(eO()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,zm),i.addEventListener("mousedown",this._onMousedown,zm),i.addEventListener("touchstart",this._onTouchstart,zm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zm),document.removeEventListener("mousedown",this._onMousedown,zm),document.removeEventListener("touchstart",this._onTouchstart,zm))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(m0),u.LFG(u.R0b),u.LFG(ue),u.LFG(dj,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gj=new u.OlP("cdk-focus-monitor-default-options"),fI=uI({passive:!0,capture:!0});let mj=(()=>{class n{constructor(t,r,i,a,l){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new oi.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=$m(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(t,r=!1){const i=_0(t);if(!this._platform.isBrowser||1!==i.nodeType)return bt(null);const a=function $B(n){if(function jB(){if(null==XM){const n=typeof document<"u"?document.head:null;XM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return XM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const f={checkChildren:r,subject:new oi.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=_0(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=_0(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,y])=>this._originChanged(f,r,y)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=$m(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,fI),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,fI)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(SR(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fI),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fI),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(m0),u.LFG(fj),u.LFG(ue,8),u.LFG(gj,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VR="cdk-high-contrast-black-on-white",UR="cdk-high-contrast-white-on-black",tO="cdk-high-contrast-active";let yj=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(rj).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(tO,VR,UR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(tO,VR):2===r&&t.add(tO,UR)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(m0),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ej=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function wj(){return!0}});let pI=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function HB(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yj),u.LFG(Ej,8),u.LFG(ue))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[BR,BR]}),n})();function bj(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=hI(e)}constructor(...e){super(...e),this._disabled=!1}}}function Cj(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Ij(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=hI(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Dj(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function QB(n,e=0){return function JB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}class Sj{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const HR=uI({passive:!0,capture:!0});class Aj{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=$m(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const l=a.get(r);l?l.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,HR)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);a&&(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,HR)))}}const zR={enterDuration:225,exitDuration:150},GR=uI({passive:!0,capture:!0}),WR=["mousedown","touchstart"],qR=["mouseup","mouseleave","touchend","touchcancel"];class w0{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=_0(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...zR,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=r.radius||function Oj(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,y=t-i.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-l+"px",I.style.top=y-l+"px",I.style.height=2*l+"px",I.style.width=2*l+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I);const M=window.getComputedStyle(I),G=M.transitionDuration,X="none"===M.transitionProperty||"0s"===G||"0s, 0s"===G||0===i.width&&0===i.height,ie=new Sj(this,I,r,X);I.style.transform="scale3d(1, 1, 1)",ie.state=0,r.persistent||(this._mostRecentTransientRipple=ie);let he=null;return!X&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const et=()=>this._finishRippleTransition(ie),rt=()=>this._destroyRipple(ie);I.addEventListener("transitionend",et),I.addEventListener("transitioncancel",rt),he={onTransitionEnd:et,onTransitionCancel:rt}}),this._activeRipples.set(ie,he),(X||!w)&&this._finishRippleTransition(ie),ie}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...zR,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_0(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,WR.forEach(r=>{w0._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{qR.forEach(t=>{this._triggerElement.addEventListener(t,this,GR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=NR(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!FR(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(WR.forEach(t=>w0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&qR.forEach(t=>e.removeEventListener(t,this,GR)))}}w0._eventManager=new Aj;const xj=new u.OlP("mat-ripple-global-options");let kj=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,a,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new w0(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(m0),u.Y36(xj,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pI,pI]}),n})();const Rj=["switch"],Nj=["*"],Fj=new u.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),Lj={provide:Ma,useExisting:(0,u.Gpc)(()=>KR),multi:!0};class ZR{constructor(e,t){this.source=e,this.checked=t}}let Vj=0;const Uj=Dj(Cj(Ij(bj(class{constructor(n){this._elementRef=n}}))));let Bj=(()=>{class n extends Uj{get required(){return this._required}set required(t){this._required=hI(t)}get checked(){return this._checked}set checked(t){this._checked=hI(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,a,l,f,y){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=l,this._onChange=w=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new u.vpe,this.toggleChange=new u.vpe,this.tabIndex=parseInt(a)||0,this.color=this.defaultColor=l.color||"accent",this._noopAnimations="NoopAnimations"===f,this.id=this._uniqueId=`${y}${++Vj}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[u.qOj]}),n})(),KR=(()=>{class n extends Bj{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,r,i,a,l,f){super(t,r,i,a,l,f,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new ZR(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new ZR(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(mj),u.Y36(u.sBO),u.$8M("tabindex"),u.Y36(Fj),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(t,r){if(1&t&&u.Gf(Rj,5),2&t){let i;u.iGM(i=u.CRH())&&(r._switchElement=i.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,r){2&t&&(u.Ikx("id",r.id),u.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),u.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[u._Bn([Lj]),u.qOj],ngContentSelectors:Nj,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,r){if(1&t&&(u.F$t(),u.TgZ(0,"div",0)(1,"button",1,2),u.NdJ("click",function(){return r._handleClick()}),u._UZ(3,"div",3),u.TgZ(4,"div",4)(5,"div",5)(6,"div",6),u._UZ(7,"div",7),u.qZA(),u.TgZ(8,"div",8),u._UZ(9,"div",9),u.qZA(),u.TgZ(10,"div",10),u.O4$(),u.TgZ(11,"svg",11),u._UZ(12,"path",12),u.qZA(),u.TgZ(13,"svg",13),u._UZ(14,"path",14),u.qZA()()()()(),u.kcU(),u.TgZ(15,"label",15),u.NdJ("click",function(a){return a.stopPropagation()}),u.Hsn(16),u.qZA()()),2&t){const i=u.MAs(2);u.ekj("mdc-form-field--align-end","before"==r.labelPosition),u.xp6(1),u.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),u.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),u.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),u.xp6(8),u.Q6J("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),u.xp6(6),u.Q6J("for",r.buttonId),u.uIk("id",r._labelId)}},dependencies:[kj],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),n})(),YR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Hj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[YR,pI,Pj,Fd,YR,pI]}),n})(),zj=(()=>{class n{constructor(){this.copyright=(new Date).getFullYear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:2,vars:1,consts:[[1,"copyright"]],template:function(t,r){1&t&&(u.TgZ(0,"p",0),u._uU(1),u.qZA()),2&t&&(u.xp6(1),u.hij(" All rights reserved \xa9 ",r.copyright,".\n"))},styles:['@import"https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Mukta&family=Playfair+Display:wght@400;600;700;800;900&family=Poppins&family=Raleway:wght@400;700&family=Roboto:wght@400;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}button[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}@keyframes _ngcontent-%COMP%_partners-animation{0%{right:0}to{left:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], article[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%]{display:block}p.copyright[_ngcontent-%COMP%]{text-align:center;font-family:Poppins,sans-serif;font-size:13px;font-weight:400;color:red}']}),n})(),Gj=(()=>{class n{constructor(){this.title="harmNation",this.white="color:white; font-size:30px"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["tracy"]],decls:4,vars:0,template:function(t,r){1&t&&(u._UZ(0,"router-outlet")(1,"app-footer"),u.TgZ(2,"mat-slide-toggle"),u._uU(3,"Toggle Me"),u.qZA())},dependencies:[Qp,KR,zj]}),n})();class QR{}class Wj{}const Rl="*";function JR(n,e=null){return{type:2,steps:n,options:e}}function XR(n){return{type:6,styles:n,offset:null}}function eN(n){Promise.resolve().then(n)}class E0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){eN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class tN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?eN(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const nO="!";function nN(n){return new u.vHH(3e3,!1)}function S$(){return typeof window<"u"&&typeof window.document<"u"}function rO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function xd(n){switch(n.length){case 0:return new E0;case 1:return n[0];default:return new tN(n)}}function rN(n,e,t,r,i=new Map,a=new Map){const l=[],f=[];let y=-1,w=null;if(r.forEach(I=>{const M=I.get("offset"),U=M==y,G=U&&w||new Map;I.forEach((X,ie)=>{let he=ie,et=X;if("offset"!==ie)switch(he=e.normalizePropertyName(he,l),et){case nO:et=i.get(ie);break;case Rl:et=a.get(ie);break;default:et=e.normalizeStyleValue(ie,he,et,l)}G.set(he,et)}),U||f.push(G),w=G,y=M}),l.length)throw function g$(n){return new u.vHH(3502,!1)}();return f}function iO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&sO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&sO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&sO(t,"destroy",n)))}}function sO(n,e,t){const a=oO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function oO(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function no(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function iN(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let aO=(n,e)=>!1,sN=(n,e,t)=>[],oN=null;function cO(n){const e=n.parentNode||n.host;return e===oN?null:e}(rO()||typeof Element<"u")&&(S$()?(oN=(()=>document.documentElement)(),aO=(n,e)=>{for(;e;){if(e===n)return!0;e=cO(e)}return!1}):aO=(n,e)=>n.contains(e),sN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let tp=null,aN=!1;const cN=aO,lN=sN;let uN=(()=>{class n{validateStyleProperty(t){return function M$(n){tp||(tp=function O$(){return typeof document<"u"?document.body:null}()||{},aN=!!tp.style&&"WebkitAppearance"in tp.style);let e=!0;return tp.style&&!function A$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tp.style,!e&&aN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in tp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return cN(t,r)}getParentElement(t){return cO(t)}query(t,r,i){return lN(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,f=[],y){return new E0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),lO=(()=>{class n{}return n.NOOP=new uN,n})();const x$=1e3,uO="ng-enter",gI="ng-leave",mI="ng-trigger",yI=".ng-trigger",hN="ng-animating",dO=".ng-animating";function Nl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hO(parseFloat(e[1]),e[2])}function hO(n,e){return"s"===e?n*x$:n}function _I(n,e,t){return n.hasOwnProperty("duration")?n:function P$(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(nN()),{duration:0,delay:0,easing:""};i=hO(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=hO(parseFloat(y),f[4]));const w=f[5];w&&(l=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function qj(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function Zj(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,nN())}return{duration:i,delay:a,easing:l}}(n,e,t)}function b0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function fN(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function kd(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function gN(n,e,t){return t?e+":"+t+";":""}function mN(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=gN(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=gN(0,L$(t),n.style[t]));n.setAttribute("style",e)}function Ec(n,e,t){n.style&&(e.forEach((r,i)=>{const a=pO(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),rO()&&mN(n))}function np(n,e){n.style&&(e.forEach((t,r)=>{const i=pO(r);n.style[i]=""}),rO()&&mN(n))}function C0(n){return Array.isArray(n)?1==n.length?n[0]:JR(n):n}const fO=new RegExp("{{\\s*(.+?)\\s*}}","g");function yN(n){let e=[];if("string"==typeof n){let t;for(;t=fO.exec(n);)e.push(t[1]);fO.lastIndex=0}return e}function I0(n,e,t){const r=n.toString(),i=r.replace(fO,(a,l)=>{let f=e[l];return null==f&&(t.push(function Yj(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function vI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const F$=/-+([a-z0-9])/g;function pO(n){return n.replace(F$,(...e)=>e[1].toUpperCase())}function L$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ro(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Qj(n){return new u.vHH(3004,!1)}()}}function _N(n,e){return window.getComputedStyle(n)[e]}const bI="*";function H$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function z$(n,e,t){if(":"==n[0]){const y=function G$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function d$(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function u$(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(vN(i,l));"<"==a[0]&&!(i==bI&&l==bI)&&e.push(vN(l,i))}(r,t,e)):t.push(n),t}const CI=new Set(["true","1"]),II=new Set(["false","0"]);function vN(n,e){const t=CI.has(n)||II.has(n),r=CI.has(e)||II.has(e);return(i,a)=>{let l=n==bI||n==i,f=e==bI||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?CI.has(n):II.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?CI.has(e):II.has(e)),l&&f}}const W$=new RegExp("s*:selfs*,?","g");function gO(n,e,t,r){return new q$(n).build(e,t,r)}class q${constructor(e){this._driver=e}build(e,t,r){const i=new Y$(t);return this._resetContextStyleTimingState(i),ro(this,C0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function Xj(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(I=>{y.name=I,a.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function e$(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{yN(y).forEach(w=>{l.hasOwnProperty(w)||a.add(w)})})}),a.size&&(vI(a.values()),t.errors.push(function t$(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ro(this,C0(e.animation),t);return{type:1,matchers:H$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ro(this,r,t)),options:rp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=ro(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:rp(e.options)}}visitAnimate(e,t){const r=function J$(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mO(_I(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=mO(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=_I(t,e);return mO(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:XR({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const w={};r.easing&&(w.easing=r.easing),l=XR(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Rl?r.push(f):t.errors.push(new u.vHH(3002,!1)):r.push(fN(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),I=w.get(y);let M=!0;I&&(a!=i&&a>=I.startTime&&i<=I.endTime&&(t.errors.push(function r$(n,e,t,r,i){return new u.vHH(3010,!1)}()),M=!1),a=I.startTime),M&&w.set(y,{startTime:a,endTime:i}),t.options&&function N$(n,e,t){const r=e.params||{},i=yN(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Kj(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function i$(){return new u.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,y=!1,w=0;const I=e.steps.map(et=>{const rt=this._makeStyleAst(et,t);let _t=null!=rt.offset?rt.offset:function Q$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(rt.styles),St=0;return null!=_t&&(a++,St=rt.offset=_t),y=y||St<0||St>1,f=f||St<w,w=St,l.push(St),rt});y&&t.errors.push(function s$(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function o$(){return new u.vHH(3200,!1)}());const M=e.steps.length;let U=0;a>0&&a<M?t.errors.push(function a$(){return new u.vHH(3202,!1)}()):0==a&&(U=1/(M-1));const G=M-1,X=t.currentTime,ie=t.currentAnimateTimings,he=ie.duration;return I.forEach((et,rt)=>{const _t=U>0?rt==G?1:U*rt:l[rt],St=_t*he;t.currentTime=X+ie.delay+St,ie.duration=St,this._validateStyleAst(et,t),et.offset=_t,r.styles.push(et)}),r}visitReference(e,t){return{type:8,animation:ro(this,C0(e.animation),t),options:rp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function Z$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(W$,"")),n=n.replace(/@\*/g,yI).replace(/@\w+/g,t=>yI+"-"+t.slice(1)).replace(/:animating/g,dO),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,no(t.collectedStyles,t.currentQuerySelector,new Map);const f=ro(this,C0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:rp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function c$(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:_I(e.timings,t.errors,!0);return{type:12,animation:ro(this,C0(e.animation),t),timings:r,options:null}}}class Y${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rp(n){return n?(n=b0(n)).params&&(n.params=function K$(n){return n?b0(n):null}(n.params)):n={},n}function mO(n,e,t){return{duration:n,delay:e,easing:t}}function yO(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class DI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const t3=new RegExp(":enter","g"),r3=new RegExp(":leave","g");function _O(n,e,t,r,i,a=new Map,l=new Map,f,y,w=[]){return(new s3).buildKeyframes(n,e,t,r,i,a,l,f,y,w)}class s3{buildKeyframes(e,t,r,i,a,l,f,y,w,I=[]){w=w||new DI;const M=new vO(e,t,w,i,a,I,[]);M.options=y;const U=y.delay?Nl(y.delay):0;M.currentTimeline.delayNextStep(U),M.currentTimeline.setStyles([l],null,M.errors,y),ro(this,r,M);const G=M.timelines.filter(X=>X.containsAnimation());if(G.length&&f.size){let X;for(let ie=G.length-1;ie>=0;ie--){const he=G[ie];if(he.element===t){X=he;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([f],null,M.errors,y)}return G.length?G.map(X=>X.buildKeyframes()):[yO(t,[],[],[],0,U,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:Nl(I0(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?Nl(r.duration):null,f=null!=r.delay?Nl(r.delay):null;return 0!==l&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,l,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ro(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=TI);const l=Nl(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>ro(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Nl(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ro(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return _I(t.params?I0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Nl(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=TI);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,w);a&&M.delayNextStep(a),w===t.element&&(y=M.currentTimeline),ro(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const I=t.currentTimeline;y&&I.delayNextStep(y);const M=I.currentTime;ro(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const TI={};class vO{constructor(e,t,r,i,a,l,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new SI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Nl(r.duration)),null!=r.delay&&(i.delay=Nl(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=I0(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new vO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=TI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new o3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(t3,"."+this._enterClassName)).replace(r3,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&l.push(function l$(n){return new u.vHH(3014,!1)}()),f}}class SI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new SI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Rl),this._currentKeyframe.set(t,Rl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function a3(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Rl)}else kd(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of l){const w=I0(y,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Rl),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=kd(f,new Map,this._backFill);w.forEach((I,M)=>{I===nO?e.add(M):I===Rl&&t.add(M)}),r||w.set("offset",y/this.duration),i.push(w)});const a=e.size?vI(e.values()):[],l=t.size?vI(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return yO(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class o3 extends SI{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,y=kd(e[0]);y.set("offset",0),a.push(y);const w=kd(e[0]);w.set("offset",bN(f)),a.push(w);const I=e.length-1;for(let M=1;M<=I;M++){let U=kd(e[M]);const G=U.get("offset");U.set("offset",bN((t+G*r)/l)),a.push(U)}r=l,t=0,i="",e=a}return yO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function bN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class wO{}const c3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class l3 extends wO{normalizePropertyName(e,t){return pO(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(c3.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Jj(n,e){return new u.vHH(3005,!1)}())}return l+a}}function CN(n,e,t,r,i,a,l,f,y,w,I,M,U){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:I,totalTime:M,errors:U}}const EO={};class IN{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function u3(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,y,w,I){const M=[],U=this.ast.options&&this.ast.options.params||EO,X=this.buildStyles(r,f&&f.params||EO,M),ie=y&&y.params||EO,he=this.buildStyles(i,ie,M),et=new Set,rt=new Map,_t=new Map,St="void"===i,Jt={params:d3(ie,U),delay:this.ast.options?.delay},fn=I?[]:_O(e,t,this.ast.animation,a,l,X,he,Jt,w,M);let qn=0;if(fn.forEach($o=>{qn=Math.max($o.duration+$o.delay,qn)}),M.length)return CN(t,this._triggerName,r,i,St,X,he,[],[],rt,_t,qn,M);fn.forEach($o=>{const Fl=$o.element,pF=no(rt,Fl,new Set);$o.preStyleProps.forEach(ap=>pF.add(ap));const k0=no(_t,Fl,new Set);$o.postStyleProps.forEach(ap=>k0.add(ap)),Fl!==t&&et.add(Fl)});const qi=vI(et.values());return CN(t,this._triggerName,r,i,St,X,he,fn,qi,rt,_t,qn)}}function d3(n,e){const t=b0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class h3{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=b0(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=I0(l,i,t));const y=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,y,l,t),r.set(f,l)})}),r}}class p3{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new h3(i.style,i.options&&i.options.params||{},r))}),DN(this.states,"true","1"),DN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new IN(e,i,this.states))}),this.fallbackTransition=function g3(n,e,t){return new IN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function DN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const m3=new DI;class y3{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=gO(this._driver,t,r,i);if(r.length)throw function m$(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=rN(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=_O(this._driver,t,a,uO,gI,new Map,new Map,r,m3,i),l.forEach(I=>{const M=no(f,I.element,new Map);I.postStyleProps.forEach(U=>M.set(U,null))})):(i.push(function y$(){return new u.vHH(3300,!1)}()),l=[]),i.length)throw function _$(n){return new u.vHH(3504,!1)}();f.forEach((I,M)=>{I.forEach((U,G)=>{I.set(G,this._driver.computeStyle(M,G,Rl))})});const w=xd(l.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,new Map,M)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function v$(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=oO(t,"","","");return iO(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const TN="ng-animate-queued",bO="ng-animate-disabled",b3=[],SN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uo="__ng_removed";class CO{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function S3(n){return n??null}(r?e.value:e),r){const a=b0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const D0="void",IO=new CO(D0);class I3{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Bo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function w$(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function E$(n){return new u.vHH(3303,!1)}();if(!function A3(n){return"start"==n||"done"==n}(r))throw function b$(n,e){return new u.vHH(3400,!1)}();const a=no(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=no(this._engine.statesByElement,e,new Map);return f.has(t)||(Bo(e,mI),Bo(e,mI+"-"+t),f.set(t,IO)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function C$(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new DO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Bo(e,mI),Bo(e,mI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new CO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=IO),w.value!==D0&&y.value===w.value){if(!function x3(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const ie=[],he=a.matchStyles(y.value,y.params,ie),et=a.matchStyles(w.value,w.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{np(e,he),Ec(e,et)})}return}const U=no(this._engine.playersByElement,e,[]);U.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let G=a.matchTransition(y.value,w.value,e,w.params),X=!1;if(!G){if(!i)return;G=a.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:y,toState:w,player:l,isFallbackTransition:X}),X||(Bo(e,TN),l.onStart(()=>{Gm(e,TN)})),l.onDone(()=>{let ie=this.players.indexOf(l);ie>=0&&this.players.splice(ie,1);const he=this._engine.playersByElement.get(e);if(he){let et=he.indexOf(l);et>=0&&he.splice(et,1)}}),this.players.push(l),U.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,yI,!0);r.forEach(i=>{if(i[Uo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((y,w)=>{if(l.set(w,y.value),this._triggers.has(w)){const I=this.trigger(e,w,D0,i);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&xd(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,w=r.get(l)||IO,I=new CO(D0),M=new DO(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:w,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Uo];(!a||a===SN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Bo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const y=oO(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,iO(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class D3{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new I3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(AI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!AI(t))return;const a=t[Uo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Bo(e,bO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gm(e,bO))}removeNode(e,t,r,i){if(AI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Uo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return AI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,yI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dO,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Uo];if(t&&t.setForRemoval){if(e[Uo]=SN,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(bO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Bo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?xd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function I$(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new DI,i=[],a=new Map,l=[],f=new Map,y=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(Ft=>{I.add(Ft);const Gt=this.driver.query(Ft,".ng-animate-queued",!0);for(let tn=0;tn<Gt.length;tn++)I.add(Gt[tn])});const M=this.bodyNode,U=Array.from(this.statesByElement.keys()),G=ON(U,this.collectedEnterElements),X=new Map;let ie=0;G.forEach((Ft,Gt)=>{const tn=uO+ie++;X.set(Gt,tn),Ft.forEach(zn=>Bo(zn,tn))});const he=[],et=new Set,rt=new Set;for(let Ft=0;Ft<this.collectedLeaveElements.length;Ft++){const Gt=this.collectedLeaveElements[Ft],tn=Gt[Uo];tn&&tn.setForRemoval&&(he.push(Gt),et.add(Gt),tn.hasAnimation?this.driver.query(Gt,".ng-star-inserted",!0).forEach(zn=>et.add(zn)):rt.add(Gt))}const _t=new Map,St=ON(U,Array.from(et));St.forEach((Ft,Gt)=>{const tn=gI+ie++;_t.set(Gt,tn),Ft.forEach(zn=>Bo(zn,tn))}),e.push(()=>{G.forEach((Ft,Gt)=>{const tn=X.get(Gt);Ft.forEach(zn=>Gm(zn,tn))}),St.forEach((Ft,Gt)=>{const tn=_t.get(Gt);Ft.forEach(zn=>Gm(zn,tn))}),he.forEach(Ft=>{this.processLeaveNode(Ft)})});const Jt=[],fn=[];for(let Ft=this._namespaceList.length-1;Ft>=0;Ft--)this._namespaceList[Ft].drainQueuedTransitions(t).forEach(tn=>{const zn=tn.player,Bi=tn.element;if(Jt.push(zn),this.collectedEnterElements.length){const os=Bi[Uo];if(os&&os.setForMove){if(os.previousTriggersValues&&os.previousTriggersValues.has(tn.triggerName)){const cp=os.previousTriggersValues.get(tn.triggerName),Ho=this.statesByElement.get(tn.element);if(Ho&&Ho.has(tn.triggerName)){const FI=Ho.get(tn.triggerName);FI.value=cp,Ho.set(tn.triggerName,FI)}}return void zn.destroy()}}const bc=!M||!this.driver.containsElement(M,Bi),io=_t.get(Bi),Pd=X.get(Bi),Yr=this._buildInstruction(tn,r,Pd,io,bc);if(Yr.errors&&Yr.errors.length)return void fn.push(Yr);if(bc)return zn.onStart(()=>np(Bi,Yr.fromStyles)),zn.onDestroy(()=>Ec(Bi,Yr.toStyles)),void i.push(zn);if(tn.isFallbackTransition)return zn.onStart(()=>np(Bi,Yr.fromStyles)),zn.onDestroy(()=>Ec(Bi,Yr.toStyles)),void i.push(zn);const yF=[];Yr.timelines.forEach(os=>{os.stretchStartingKeyframe=!0,this.disabledNodes.has(os.element)||yF.push(os)}),Yr.timelines=yF,r.append(Bi,Yr.timelines),l.push({instruction:Yr,player:zn,element:Bi}),Yr.queriedElements.forEach(os=>no(f,os,[]).push(zn)),Yr.preStyleProps.forEach((os,cp)=>{if(os.size){let Ho=y.get(cp);Ho||y.set(cp,Ho=new Set),os.forEach((FI,jO)=>Ho.add(jO))}}),Yr.postStyleProps.forEach((os,cp)=>{let Ho=w.get(cp);Ho||w.set(cp,Ho=new Set),os.forEach((FI,jO)=>Ho.add(jO))})});if(fn.length){const Ft=[];fn.forEach(Gt=>{Ft.push(function D$(n,e){return new u.vHH(3505,!1)}())}),Jt.forEach(Gt=>Gt.destroy()),this.reportError(Ft)}const qn=new Map,qi=new Map;l.forEach(Ft=>{const Gt=Ft.element;r.has(Gt)&&(qi.set(Gt,Gt),this._beforeAnimationBuild(Ft.player.namespaceId,Ft.instruction,qn))}),i.forEach(Ft=>{const Gt=Ft.element;this._getPreviousPlayers(Gt,!1,Ft.namespaceId,Ft.triggerName,null).forEach(zn=>{no(qn,Gt,[]).push(zn),zn.destroy()})});const $o=he.filter(Ft=>kN(Ft,y,w)),Fl=new Map;MN(Fl,this.driver,rt,w,Rl).forEach(Ft=>{kN(Ft,y,w)&&$o.push(Ft)});const k0=new Map;G.forEach((Ft,Gt)=>{MN(k0,this.driver,new Set(Ft),y,nO)}),$o.forEach(Ft=>{const Gt=Fl.get(Ft),tn=k0.get(Ft);Fl.set(Ft,new Map([...Array.from(Gt?.entries()??[]),...Array.from(tn?.entries()??[])]))});const ap=[],gF=[],mF={};l.forEach(Ft=>{const{element:Gt,player:tn,instruction:zn}=Ft;if(r.has(Gt)){if(I.has(Gt))return tn.onDestroy(()=>Ec(Gt,zn.toStyles)),tn.disabled=!0,tn.overrideTotalTime(zn.totalTime),void i.push(tn);let Bi=mF;if(qi.size>1){let io=Gt;const Pd=[];for(;io=io.parentNode;){const Yr=qi.get(io);if(Yr){Bi=Yr;break}Pd.push(io)}Pd.forEach(Yr=>qi.set(Yr,Bi))}const bc=this._buildAnimation(tn.namespaceId,zn,qn,a,k0,Fl);if(tn.setRealPlayer(bc),Bi===mF)ap.push(tn);else{const io=this.playersByElement.get(Bi);io&&io.length&&(tn.parentPlayer=xd(io)),i.push(tn)}}else np(Gt,zn.fromStyles),tn.onDestroy(()=>Ec(Gt,zn.toStyles)),gF.push(tn),I.has(Gt)&&i.push(tn)}),gF.forEach(Ft=>{const Gt=a.get(Ft.element);if(Gt&&Gt.length){const tn=xd(Gt);Ft.setRealPlayer(tn)}}),i.forEach(Ft=>{Ft.parentPlayer?Ft.syncPlayerEvents(Ft.parentPlayer):Ft.destroy()});for(let Ft=0;Ft<he.length;Ft++){const Gt=he[Ft],tn=Gt[Uo];if(Gm(Gt,gI),tn&&tn.hasAnimation)continue;let zn=[];if(f.size){let bc=f.get(Gt);bc&&bc.length&&zn.push(...bc);let io=this.driver.query(Gt,dO,!0);for(let Pd=0;Pd<io.length;Pd++){let Yr=f.get(io[Pd]);Yr&&Yr.length&&zn.push(...Yr)}}const Bi=zn.filter(bc=>!bc.destroyed);Bi.length?M3(this,Gt,Bi):this.processLeaveNode(Gt)}return he.length=0,ap.forEach(Ft=>{this.players.push(Ft),Ft.onDone(()=>{Ft.destroy();const Gt=this.players.indexOf(Ft);this.players.splice(Gt,1)}),Ft.play()}),ap}elementContainsData(e,t){let r=!1;const i=t[Uo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==D0;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||l.push(w)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,I=w!==a,M=no(r,w,[]);this._getPreviousPlayers(w,I,l,f,t.toState).forEach(G=>{const X=G.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),G.destroy(),M.push(G)})}np(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,y=t.element,w=[],I=new Set,M=new Set,U=t.timelines.map(X=>{const ie=X.element;I.add(ie);const he=ie[Uo];if(he&&he.removedBeforeQueried)return new E0(X.duration,X.delay);const et=ie!==y,rt=function O3(n){const e=[];return xN(n,e),e}((r.get(ie)||b3).map(qn=>qn.getRealPlayer())).filter(qn=>!!qn.element&&qn.element===ie),_t=a.get(ie),St=l.get(ie),Jt=rN(0,this._normalizer,0,X.keyframes,_t,St),fn=this._buildPlayer(X,Jt,rt);if(X.subTimeline&&i&&M.add(ie),et){const qn=new DO(e,f,ie);qn.setRealPlayer(fn),w.push(qn)}return fn});w.forEach(X=>{no(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function T3(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,X.element,X))}),I.forEach(X=>Bo(X,hN));const G=xd(U);return G.onDestroy(()=>{I.forEach(X=>Gm(X,hN)),Ec(y,t.toStyles)}),M.forEach(X=>{no(i,X,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new E0(e.duration,e.delay)}}class DO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new E0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>iO(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){no(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function AI(n){return n&&1===n.nodeType}function AN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function MN(n,e,t,r,i){const a=[];t.forEach(y=>a.push(AN(y)));const l=[];r.forEach((y,w)=>{const I=new Map;y.forEach(M=>{const U=e.computeStyle(w,M,i);I.set(M,U),(!U||0==U.length)&&(w[Uo]=C3,l.push(w))}),n.set(w,I)});let f=0;return t.forEach(y=>AN(y,a[f++])),l}function ON(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(f){if(!f)return r;let y=a.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?r:l(w),a.set(f,y),y}return e.forEach(f=>{const y=l(f);y!==r&&t.get(y).push(f)}),t}function Bo(n,e){n.classList?.add(e)}function Gm(n,e){n.classList?.remove(e)}function M3(n,e,t){xd(t).onDone(()=>n.processLeaveNode(e))}function xN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof tN?xN(r.players,e):e.push(r)}}function kN(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class MI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new D3(e,t,r),this._timelineEngine=new y3(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const y=[],w=[],I=gO(this._driver,a,y,w);if(y.length)throw function p$(n,e){return new u.vHH(3404,!1)}();f=function f3(n,e,t){return new p3(n,e,t)}(i,I,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=iN(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=iN(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let P3=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ec(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ec(this._element,this._initialStyles),this._endStyles&&(Ec(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(np(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(np(this._element,this._endStyles),this._endStyles=null),Ec(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function TO(n){let e=null;return n.forEach((t,r)=>{(function R3(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class PN{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:_N(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class N3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return cN(e,t)}getParentElement(e){return cO(e)}query(e,t,r){return lN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const w=new Map,I=l.filter(G=>G instanceof PN);(function V$(n,e){return 0===n||0===e})(r,i)&&I.forEach(G=>{G.currentSnapshot.forEach((X,ie)=>w.set(ie,X))});let M=function R$(n){return n.length?n[0]instanceof Map?n:n.map(e=>fN(e)):[]}(t).map(G=>kd(G));M=function U$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,_N(n,f)))}}return e}(e,M,w);const U=function k3(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=TO(e[0]),e.length>1&&(r=TO(e[e.length-1]))):e instanceof Map&&(t=TO(e)),t||r?new P3(n,t,r):null}(e,M);return new PN(e,M,y,U)}}let F3=(()=>{class n extends QR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?JR(t):t;return RN(this._renderer,null,r,"register",[i]),new L3(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class L3 extends Wj{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new V3(this._id,e,t||{},this._renderer)}}class V3{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return RN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function RN(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const NN="@.disabled";let U3=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new FN("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=I=>{Array.isArray(I)?I.forEach(y):this.engine.registerTrigger(l,f,t,I.name,I)};return r.data.animation.forEach(y),new B3(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(MI),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class FN{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==NN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class B3 extends FN{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==NN?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function j3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function $3(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let H3=(()=>{class n extends MI{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(lO),u.LFG(wO),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const LN=[{provide:QR,useClass:F3},{provide:wO,useFactory:function z3(){return new l3}},{provide:MI,useClass:H3},{provide:u.FYo,useFactory:function G3(n,e,t){return new U3(n,e,t)},deps:[Di,MI,u.R0b]}],SO=[{provide:lO,useFactory:()=>new N3},{provide:u.QbO,useValue:"BrowserAnimations"},...LN],VN=[{provide:lO,useClass:uN},{provide:u.QbO,useValue:"NoopAnimations"},...LN];let W3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?VN:SO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:SO,imports:[na]}),n})();var ys=L(2011);function xI(){return(0,ti.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ir.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}L(9568);var q3=L(3942);function AO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UN(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function BN(){if(!function fS(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}class T0{constructor(e){this._delegate=e}static fromBase64String(e){return BN(),new T0(wc.fromBase64String(e))}static fromUint8Array(e){return UN(),new T0(wc.fromUint8Array(e))}toBase64(){return BN(),this._delegate.toBase64()}toUint8Array(){return UN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MO(n){return function Y3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Q3{enableIndexedDbPersistence(e,t){return function x2(n,e){G1(n=xn(n,Nr));const t=fi(n);if(t._uninitializedComponentsProvider)throw new je(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Rs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Rm;return z1(t,i,new cM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function k2(n){G1(n=xn(n,Nr));const e=fi(n);if(e._uninitializedComponentsProvider)throw new je(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Rs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Rm;return z1(e,r,new D1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function P2(n){if(n._initialized&&!n._terminated)throw new je(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(t=(0,Oe.Z)(function*(r){if(!Fo.D())return Promise.resolve();const i=r+"main";yield Fo.delete(i)}),function(r){return t.apply(this,arguments)})(eA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ia||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){B1(this._delegate,e,t,r)}enableNetwork(){return function N2(n){return function _2(n){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield A1(n),t=yield M1(n);return e.setNetworkEnabled(!0),function(r){const i=ct(r);return i.vu.delete(0),qv(i)}(t)}))}(fi(n=xn(n,Nr)))}(this._delegate)}disableNetwork(){return function F2(n){return function v2(n){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield A1(n),t=yield M1(n);return e.setNetworkEnabled(!1),(r=(0,Oe.Z)(function*(i){const a=ct(i);a.vu.add(0),yield Sm(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(fi(n=xn(n,Nr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,N1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function R2(n){return function(e){const t=new $r;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function e2(n,e){return WA.apply(this,arguments)}(yield gM(e),t)})),t.promise}(fi(n=xn(n,Nr)))}(this._delegate)}onSnapshotsInSync(e){return function fV(n,e){return function b2(n,e){const t=new LC(e);return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return r=yield Nm(n),i=t,ct(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return r=yield Nm(n),i=t,void ct(r).ku.delete(i);var r,i}))}}(fi(n=xn(n,Nr)),vM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wm(this,j1(this._delegate,e))}catch(t){throw _s(t,"collection()","Firestore.collection()")}}doc(e){try{return new jo(this,Qv(this._delegate,e))}catch(t){throw _s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vs(this,function T2(n,e){if(n=xn(n,Yv),yM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gi(n,null,(t=e,new Aa(On.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IV(n,e,t){n=xn(n,Nr);const r=Object.assign(Object.assign({},bV),t);return function(i){if(i.maxAttempts<1)throw new je(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new $r;return i.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const y=yield function O1(n){return UC(n).then(e=>e.datastore)}(i);new m2(i.asyncQueue,y,l,a,f).run()})),f.promise}(fi(n),i=>e(new CV(n,i)),r)}(this._delegate,t=>e(new $N(this,t)))}batch(){return fi(this._delegate),new HN(new lP(this._delegate,e=>Lm(this._delegate,e)))}loadBundle(e){return function L2(n,e){const t=fi(n=xn(n,Nr)),r=new A2;return function C2(n,e,t,r){const i=function(a,l){let f;return f="string"==typeof a?Xx().encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return T1(y,w);if(y instanceof ArrayBuffer)return T1(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new p2(y,l);var y}(t,Wv(e));n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function h2(n,e,t){const r=ct(n);var i;(i=(0,Oe.Z)(function*(a,l,f){try{const y=yield l.getMetadata();if(yield function(U,G){const X=ct(U),ie=hi(G.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",he=>X.qs.getBundleMetadata(he,G.id)).then(he=>!!he&&he.createTime.compareTo(ie)>=0)}(a.localStore,y))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(U=y).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);f._updateProgress(m1(y));const w=new zL(y,a.localStore,l.serializer);let I=yield l.bc();for(;I;){const U=yield w.zu(I);U&&f._updateProgress(U),I=yield l.bc()}const M=yield w.complete();return yield xl(a,M.Ju,void 0),yield function(U,G){const X=ct(U);return X.persistence.runTransaction("Save bundle","readwrite",ie=>X.qs.saveBundleMetadata(ie,G))}(a.localStore,y),f._completeWith(M.progress),Promise.resolve(M.Hu)}catch(y){return Rs("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var U}),function(a,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield gM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function V2(n,e){return function I2(n,e){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(t,r){const i=ct(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield BC(n),e)}))}(fi(n=xn(n,Nr)),e).then(t=>t?new Gi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new vs(this,t):null)}}class kI extends TM{constructor(e){super(),this.firestore=e}convertBytes(e){return new T0(new wc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return jo.forKey(t,this.firestore,null)}}class $N{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new kI(e)}get(e){const t=sp(e);return this._delegate.get(t).then(r=>new S0(this._firestore,new Pl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sp(e);return r?(AO("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=sp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=sp(e);return this._delegate.delete(t),this}}class HN{constructor(e){this._delegate=e}set(e,t,r){const i=sp(e);return r?(AO("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=sp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=sp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ip{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new s0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new A0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ip.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new ip(e,new kI(e),t),i.set(t,a)),a}}ip.INSTANCES=new WeakMap;class jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new jo(t,new Rr(t._delegate,r,new lt(e)))}static forKey(e,t,r){return new jo(t,new Rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Wm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wm(this.firestore,j1(this._delegate,e))}catch(t){throw _s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ln.m9)(e))instanceof Rr&&$1(this._delegate,e)}set(e,t){t=AO("DocumentReference.set",t);try{return t?SM(this._delegate,e,t):SM(this._delegate,e)}catch(r){throw _s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?aP(this._delegate,e):aP(this._delegate,e,t,...r)}catch(i){throw _s(i,"updateDoc()","DocumentReference.update()")}}delete(){return function dV(n){return Lm(xn(n.firestore,Nr),[new wm(n._key,zr.none())])}(this._delegate)}onSnapshot(...e){const t=zN(e),r=GN(e,i=>new S0(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return cP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function oV(n){n=xn(n,Rr);const e=xn(n.firestore,Nr),t=fi(e),r=new Td(e);return function w2(n,e){const t=new $r;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(r=(0,Oe.Z)(function*(i,a,l){try{const f=yield function(y,w){const I=ct(y);return I.persistence.runTransaction("read document","readonly",M=>I.localDocuments.getDocument(M,w))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new je(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=Om(f,`Failed to get document '${a} from cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield BC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Pl(e,r,n._key,i,new Kf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function aV(n){n=xn(n,Rr);const e=xn(n.firestore,Nr);return x1(fi(e),n._key,{source:"server"}).then(t=>AM(e,n,t))}(this._delegate):function sV(n){n=xn(n,Rr);const e=xn(n.firestore,Nr);return x1(fi(e),n._key).then(t=>AM(e,n,t))}(this._delegate),t.then(r=>new S0(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new jo(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}function _s(n,e,t){return n.message=n.message.replace(e,t),n}function zN(n){for(const e of n)if("object"==typeof e&&!MO(e))return e;return{}}function GN(n,e){var t,r;let i;return i=MO(n[0])?n[0]:MO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class S0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new jo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oP(this._delegate,e._delegate)}}class A0 extends S0{data(e){const t=this._delegate.data(e);return function JT(n,e){n||Ct()}(void 0!==t),t}}class vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kI(e)}where(e,t,r){try{return new vs(this.firestore,Id(this._delegate,function Z2(n,e,t){const r=e,i=qC("where",n);return r0._create(i,r,t)}(e,t,r)))}catch(i){throw _s(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vs(this.firestore,Id(this._delegate,function K2(n,e="asc"){const t=e,r=qC("orderBy",n);return DM._create(r,t)}(e,t)))}catch(r){throw _s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vs(this.firestore,Id(this._delegate,function Y2(n){return V1("limit",n),ZC._create("limit",n,"F")}(e)))}catch(t){throw _s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vs(this.firestore,Id(this._delegate,function Q2(n){return V1("limitToLast",n),ZC._create("limitToLast",n,"L")}(e)))}catch(t){throw _s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vs(this.firestore,Id(this._delegate,function J2(...n){return KC._create("startAt",n,!0)}(...e)))}catch(t){throw _s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vs(this.firestore,Id(this._delegate,function X2(...n){return KC._create("startAfter",n,!1)}(...e)))}catch(t){throw _s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vs(this.firestore,Id(this._delegate,function eV(...n){return YC._create("endBefore",n,!1)}(...e)))}catch(t){throw _s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vs(this.firestore,Id(this._delegate,function tV(...n){return YC._create("endAt",n,!0)}(...e)))}catch(t){throw _s(t,"endAt()","Query.endAt()")}}isEqual(e){return _M(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function lV(n){n=xn(n,Gi);const e=xn(n.firestore,Nr),t=fi(e),r=new Td(e);return function E2(n,e){const t=new $r;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(r=(0,Oe.Z)(function*(i,a,l){try{const f=yield OC(i,a,!0),y=new v1(a,f.ir),w=y.sc(f.documents),I=y.applyChanges(w,!1);l.resolve(I.snapshot)}catch(f){const y=Om(f,`Failed to execute query '${a} against cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield BC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Dd(e,r,n,i))}(this._delegate):"server"===e?.source?function uV(n){n=xn(n,Gi);const e=xn(n.firestore,Nr),t=fi(e),r=new Td(e);return k1(t,n._query,{source:"server"}).then(i=>new Dd(e,r,n,i))}(this._delegate):function cV(n){n=xn(n,Gi);const e=xn(n.firestore,Nr),t=fi(e),r=new Td(e);return X1(n._query),k1(t,n._query).then(i=>new Dd(e,r,n,i))}(this._delegate),t.then(r=>new OO(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zN(e),r=GN(e,i=>new OO(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return cP(this._delegate,t,r)}withConverter(e){return new vs(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}class X3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new A0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class OO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new A0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new X3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new A0(this._firestore,r))})}isEqual(e){return oP(this._delegate,e._delegate)}}class Wm extends vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new jo(this.firestore,e):null}doc(e){try{return new jo(this.firestore,void 0===e?Qv(this._delegate):Qv(this._delegate,e))}catch(t){throw _s(t,"doc()","CollectionReference.doc()")}}add(e){return function hV(n,e){const t=xn(n.firestore,Nr),r=Qv(n),i=QC(n.converter,e);return Lm(t,[zC(qf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new jo(this.firestore,t))}isEqual(e){return $1(this._delegate,e._delegate)}withConverter(e){return new Wm(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}function sp(n){return xn(n,Rr)}class xO{constructor(...e){this._delegate=new kl(...e)}static documentId(){return new xO(Pr.keyField().canonicalString())}isEqual(e){return(e=(0,Ln.m9)(e))instanceof kl&&this._delegate._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._delegate=e}static serverTimestamp(){const e=function TV(){return new wM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new op(e)}static delete(){const e=function DV(){return new Xv("deleteField")}();return e._methodName="FieldValue.delete",new op(e)}static arrayUnion(...e){const t=function SV(...n){return new H2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new op(t)}static arrayRemove(...e){const t=function AV(...n){return new z2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new op(t)}static increment(e){const t=function MV(n){return new G2("increment",n)}(e);return t._methodName="FieldValue.increment",new op(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const eH={Firestore:jN,GeoPoint:$C,Timestamp:Sr,Blob:T0,Transaction:$N,WriteBatch:HN,DocumentReference:jo,DocumentSnapshot:S0,Query:vs,QueryDocumentSnapshot:A0,QuerySnapshot:OO,CollectionReference:Wm,FieldPath:xO,FieldValue:op,setLogLevel:function J3(n){!function Df(n){wa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function nH(n){(function tH(n,e){n.INTERNAL.registerComponent(new lg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},eH)))})(n,(e,t)=>new jN(e,t,new Q3)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(q3.Z);var rH=L(6451),M0=L(5363),iH=L(6063);class sH extends oi.x{constructor(e=1/0,t=1/0,r=iH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)f=y;f&&r.splice(0,f+1)}}}var oH=L(3099);function kO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,oH.B)({connector:()=>new sH(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function WN(n,e){return(0,dh.m)(e)?rr(()=>n,e):rr(()=>n)}var PO=L(9468),PI=L(9260);const qN=new u.OlP("angularfire2.auth.use-emulator"),ZN=new u.OlP("angularfire2.auth.settings"),KN=new u.OlP("angularfire2.auth.tenant-id"),YN=new u.OlP("angularfire2.auth.langugage-code"),QN=new u.OlP("angularfire2.auth.use-device-language"),JN=new u.OlP("angularfire.auth.persistence"),XN=(n,e,t,r,i,a,l,f)=>(0,ys.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[w,I]of Object.entries(l))y.settings[w]=I;return f&&y.setPersistence(f),y},[t,r,i,a,l,f]);let RO=(()=>{class n{constructor(t,r,i,a,l,f,y,w,I,M,U,G){const X=new oi.x,ie=bt(void 0).pipe((0,M0.Q)(l.outsideAngular),rr(()=>a.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,xt.U)(()=>(0,ys.on)(t,a,r)),(0,xt.U)(he=>XN(he,a,f,w,I,M,y,U)),kO({bufferSize:1,refCount:!1}));if(Is(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{ie.pipe(zs()).subscribe();const et=ie.pipe(rr(St=>St.getRedirectResult().then(Jt=>Jt,()=>null)),bn.iC,kO({bufferSize:1,refCount:!1})),rt=ie.pipe(rr(St=>new Ri.y(Jt=>({unsubscribe:a.runOutsideAngular(()=>St.onAuthStateChanged(fn=>Jt.next(fn),fn=>Jt.error(fn),()=>Jt.complete()))})))),_t=ie.pipe(rr(St=>new Ri.y(Jt=>({unsubscribe:a.runOutsideAngular(()=>St.onIdTokenChanged(fn=>Jt.next(fn),fn=>Jt.error(fn),()=>Jt.complete()))}))));this.authState=et.pipe(WN(rt),(0,PO.R)(l.outsideAngular),(0,M0.Q)(l.insideAngular)),this.user=et.pipe(WN(_t),(0,PO.R)(l.outsideAngular),(0,M0.Q)(l.insideAngular)),this.idToken=this.user.pipe(rr(St=>St?(0,Mn.D)(St.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(rr(St=>St?(0,Mn.D)(St.getIdTokenResult()):bt(null))),this.credential=(0,rH.T)(et,X,this.authState.pipe(pi(St=>!St))).pipe((0,xt.U)(St=>St?.user?St:null),(0,PO.R)(l.outsideAngular),(0,M0.Q)(l.insideAngular))}return(0,ys.pX)(this,ie,a,{spy:{apply:(he,et,rt)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&rt.then(_t=>X.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ys.Dh),u.LFG(ys.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(bn.HU),u.LFG(qN,8),u.LFG(ZN,8),u.LFG(KN,8),u.LFG(YN,8),u.LFG(QN,8),u.LFG(JN,8),u.LFG(Kh,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function eF(n,e){return function cH(n,e=MR.z){return new Ri.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function NO(n,e){return eF(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function RI(n,e){return NO(n,e).pipe(vo(void 0),xI(),(0,xt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const y=i.find(I=>I.doc.ref.isEqual(l.ref)),w=t?.payload.docs.find(I=>I.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function tF(n,e,t){return RI(n,t).pipe(Wc((r,i)=>function uH(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function dH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return FO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return FO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),eO(),(0,xt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function FO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function nF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class rF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=RI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(vo(void 0),xI(),pi(([r,i])=>i.length>0||!r),(0,xt.U)(([r,i])=>i),bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Wc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nF(e);return tF(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return NO(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),bn.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(bn.iC)}add(e){return this.ref.add(e)}doc(e){return new iF(this.ref.doc(e),this.afs)}}class iF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=aF(r,t);return new rF(i,a,this.afs)}snapshotChanges(){return function lH(n,e){return eF(n,e).pipe(vo(void 0),xI(),(0,xt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Mn.D)(this.ref.get(e)).pipe(bn.iC)}}class hH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?RI(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),pi(t=>t.length>0),bn.iC):RI(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Wc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nF(e);return tF(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return NO(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),bn.iC)}get(e){return(0,Mn.D)(this.query.get(e)).pipe(bn.iC)}}const sF=new u.OlP("angularfire2.enableFirestorePersistence"),oF=new u.OlP("angularfire2.firestore.persistenceSettings"),fH=new u.OlP("angularfire2.firestore.settings"),pH=new u.OlP("angularfire2.firestore.use-emulator");function aF(n,e=(t=>t)){return{query:e(n),ref:n}}let gH=(()=>{class n{constructor(t,r,i,a,l,f,y,w,I,M,U,G,X,ie,he,et,rt){this.schedulers=y;const _t=(0,ys.on)(t,f,r),St=I;M&&XN(_t,f,U,X,ie,he,G,et),[this.firestore,this.persistenceEnabled$]=(0,ys.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const Jt=f.runOutsideAngular(()=>_t.firestore());if(a&&Jt.settings(a),St&&Jt.useEmulator(...St),i&&!Is(l)){const fn=()=>{try{return(0,Mn.D)(Jt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(qn){return typeof console<"u"&&console.warn(qn),bt(!1)}};return[Jt,f.runOutsideAngular(fn)]}return[Jt,bt(!1)]},[a,St,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=aF(i,r),f=this.schedulers.ngZone.run(()=>a);return new rF(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new hH(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new iF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ys.Dh),u.LFG(ys.xv,8),u.LFG(sF,8),u.LFG(fH,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(bn.HU),u.LFG(oF,8),u.LFG(pH,8),u.LFG(RO,8),u.LFG(qN,8),u.LFG(ZN,8),u.LFG(KN,8),u.LFG(YN,8),u.LFG(QN,8),u.LFG(JN,8),u.LFG(Kh,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mH=(()=>{class n{constructor(){PI.Z.registerVersion("angularfire",bn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:sF,useValue:!0},{provide:oF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gH]}),n})();var cF=L(655),yH=L(5132);const uF="firebase_screen_id",VO="outlet",O0="screen_class",dF="screen_name";let OH=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const UO={},xH=n=>{const e=[n[O0],n[VO]].join("#");if(UO.hasOwnProperty(e))return UO[e];{const t=OH++;return UO[e]=t,t}},LH=new u.OlP("angularfire2.analytics.analyticsCollectionEnabled"),VH=new u.OlP("angularfire2.analytics.appVersion"),UH=new u.OlP("angularfire2.analytics.appName"),BH=new u.OlP("angularfire2.analytics.debugMode"),jH=new u.OlP("angularfire2.analytics.config"),NI="dataLayer";let x0=(()=>{class n{constructor(t,r,i,a,l,f,y,w,I){if(this.analyticsInitialized=new Promise(()=>{}),Cs(y)){window[NI]=window[NI]||[];const U=(...ie)=>"config"===ie[0]&&"firebase"===ie[2].origin&&(this.measurementId=ie[1],!0),G=ie=>{window.gtag=(...he)=>{ie&&ie(...he),"event"===he[0]&&he[2].send_to===this.measurementId&&(a&&(he[2].app_name=a),i&&(he[2].app_version=i)),l&&typeof console<"u"&&console.info(...he),function(...et){window[NI].push(arguments)}(...he)}};window[NI].some(U)?(this.analyticsInitialized=Promise.resolve(),G()):this.analyticsInitialized=new Promise(ie=>{G((...he)=>{U(...he)&&ie()})}),f&&this.updateConfig(f),l&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const M=bt(void 0).pipe((0,M0.Q)(I.outsideAngular),rr(yH.Gb),rr(U=>U?w.runOutsideAngular(()=>L.e(814).then(L.bind(L,3814))):Ni.E),(0,xt.U)(()=>(0,ys.cc)("analytics","AngularFireAnalytics",t.name,()=>{const U=t.analytics();return!1===r&&U.setAnalyticsCollectionEnabled(!1),U},[t,r,f,l])),kO({bufferSize:1,refCount:!1}));return(0,ys.pX)(this,M,w)}updateConfig(t){return(0,cF.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ys.Ot),u.LFG(LH,8),u.LFG(VH,8),u.LFG(UH,8),u.LFG(BH,8),u.LFG(jH,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(bn.HU))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fF=(()=>{class n{constructor(t,r,i,a){if(this.disposables=[],PI.Z.registerVersion("angularfire",bn.q4.full,"compat-user-tracking"),Is(r))this.initialized=Promise.resolve();else{let l;this.initialized=a.runOutsideAngular(()=>new Promise(f=>l=f)),this.disposables=[i.authState.subscribe(f=>{t.setUserId(f?.uid),l()}),i.credential.subscribe(f=>{if(f){const y=f.user.isAnonymous?"anonymous":f.additionalUserInfo.providerId;f.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:y}),t.logEvent("login",{method:y})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x0),u.LFG(u.Lbi),u.LFG(RO),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ZH=(()=>{class n{constructor(t,r,i,a,l,f){if(PI.Z.registerVersion("angularfire",bn.q4.full,"compat-screen-tracking"),!r||!t)return this;l.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(pi(i=>i instanceof yy)).pipe(rr(i=>{var a;const f=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,G=>G.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===a?void 0:a.toString())||"",y=n.routerState.root.children.map(G=>G).find(G=>G.outlet===i.snapshot.outlet);if(!y)return bt(null);let w=y;for(;w.firstChild;)w=w.firstChild;const I=w.pathFromRoot.map(G=>{var X;return null===(X=G.routeConfig)||void 0===X?void 0:X.path}).filter(G=>G).join("/")||"/",M={[dF]:I,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:I,[VO]:i.snapshot.outlet};e&&(M.page_title=e.getTitle());let U=y.component;if(U){if(U===Jp){let G=i.snapshot;for(;G.firstChild;)G=G.firstChild;U=G.component}}else U=i.snapshot.component;if("string"==typeof U)return bt(Object.assign(Object.assign({},M),{[O0]:U}));if(U){const G=t.resolveComponentFactory(U);return bt(Object.assign(Object.assign({},M),{[O0]:G.selector}))}return bt(null)}),pi(i=>!!i),(0,xt.U)(i=>Object.assign({firebase_screen_class:i[O0],[uF]:xH(i)},i)),function _H(n,e,t,r){return(0,ti.e)((i,a)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:r}=e):l=e;const f=new Map,y=X=>{f.forEach(X),X(a)},w=X=>y(ie=>ie.error(X));let I=0,M=!1;const U=new Ir.Q(a,X=>{try{const ie=n(X);let he=f.get(ie);if(!he){f.set(ie,he=r?r():new oi.x);const et=function G(X,ie){const he=new Ri.y(et=>{I++;const rt=ie.subscribe(et);return()=>{rt.unsubscribe(),0==--I&&M&&U.unsubscribe()}});return he.key=X,he}(ie,he);if(a.next(et),t){const rt=(0,Ir.x)(he,()=>{he.complete(),rt?.unsubscribe()},void 0,void 0,()=>f.delete(ie));U.add((0,yo.Xf)(t(et)).subscribe(rt))}}he.next(l?l(X):X)}catch(ie){w(ie)}},()=>y(X=>X.complete()),w,()=>f.clear(),()=>(M=!0,0===I));i.subscribe(U)})}(i=>i[VO]),(0,Ur.z)(i=>i.pipe(eO((a,l)=>JSON.stringify(a)===JSON.stringify(l)),vo(void 0),xI(),(0,xt.U)(([a,l])=>a?Object.assign({firebase_previous_class:a[O0],firebase_previous_screen:a[dF],firebase_previous_id:a[uF]},l):l)))))(r,i,a).pipe(rr(y=>(0,cF.mG)(this,void 0,void 0,function*(){return f&&(yield f.initialized),yield t.logEvent("screen_view",y)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x0),u.LFG(Zr,8),u.LFG(Tp,8),u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(fF,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),KH=(()=>{class n{constructor(t,r,i){PI.Z.registerVersion("angularfire",bn.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x0),u.LFG(ZH,8),u.LFG(fF,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[x0]}),n})();const YH_firebaseConfig={apiKey:"AIzaSyDdN4X-S_2h5ZgHfINmxQpgAWQ1v0BtNFM",authDomain:"tasky-b.firebaseapp.com",projectId:"tasky-b",storageBucket:"tasky-b.appspot.com",messagingSenderId:"664810159749",appId:"1:664810159749:web:6246bf729ba5cb3ad9f3ec",measurementId:"G-3PSB4VQPZ6"};let QH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[Gj]}),n.\u0275inj=u.cJS({imports:[na,UB,DB,W3,Hj,ys.hO.initializeApp(YH_firebaseConfig),FV(()=>function O2(n,e){const t="object"==typeof n?n:(0,ua.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,ua._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,Ln.P0)("firestore");a&&B1(i,...a)}return i}()),sE(()=>(0,_g.o)()),mH,KH]}),n})();ey().bootstrapModule(QH).catch(n=>console.error(n))},9751:(Mt,Pe,L)=>{L.d(Pe,{y:()=>Ce});var u=L(930),B=L(727),F=L(8822),re=L(9635),ye=L(2416),ue=L(576),Ee=L(2806);let Ce=(()=>{class ee{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const We=new ee;return We.source=this,We.operator=Te,We}subscribe(Te,We,mt){const we=function q(ee){return ee&&ee instanceof u.Lv||function K(ee){return ee&&(0,ue.m)(ee.next)&&(0,ue.m)(ee.error)&&(0,ue.m)(ee.complete)}(ee)&&(0,B.Nn)(ee)}(Te)?Te:new u.Hp(Te,We,mt);return(0,Ee.x)(()=>{const{operator:Le,source:$e}=this;we.add(Le?Le.call(we,$e):$e?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Te){try{return this._subscribe(Te)}catch(We){Te.error(We)}}forEach(Te,We){return new(We=Ie(We))((mt,we)=>{const Le=new u.Hp({next:$e=>{try{Te($e)}catch(qe){we(qe),Le.unsubscribe()}},error:we,complete:mt});this.subscribe(Le)})}_subscribe(Te){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Te)}[F.L](){return this}pipe(...Te){return(0,re.U)(Te)(this)}toPromise(Te){return new(Te=Ie(Te))((We,mt)=>{let we;this.subscribe(Le=>we=Le,Le=>mt(Le),()=>We(we))})}}return ee.create=Ne=>new ee(Ne),ee})();function Ie(ee){var Ne;return null!==(Ne=ee??ye.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Mt,Pe,L)=>{L.d(Pe,{x:()=>Ee});var u=L(9751),B=L(727);const re=(0,L(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=L(8737),ue=L(2806);let Ee=(()=>{class Ie extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ee=new Ce(this,this);return ee.operator=q,ee}_throwIfClosed(){if(this.closed)throw new re}next(q){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(q)}})}error(q){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ee}=this;for(;ee.length;)ee.shift().error(q)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ee,isStopped:Ne,observers:Te}=this;return ee||Ne?B.Lc:(this.currentObservers=null,Te.push(q),new B.w0(()=>{this.currentObservers=null,(0,ye.P)(Te,q)}))}_checkFinalizedStatuses(q){const{hasError:ee,thrownError:Ne,isStopped:Te}=this;ee?q.error(Ne):Te&&q.complete()}asObservable(){const q=new u.y;return q.source=this,q}}return Ie.create=(K,q)=>new Ce(K,q),Ie})();class Ce extends Ee{constructor(K,q){super(),this.destination=K,this.source=q}next(K){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ee||ee.call(q,K)}error(K){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ee||ee.call(q,K)}complete(){var K,q;null===(q=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===q||q.call(K)}_subscribe(K){var q,ee;return null!==(ee=null===(q=this.source)||void 0===q?void 0:q.subscribe(K))&&void 0!==ee?ee:B.Lc}}},930:(Mt,Pe,L)=>{L.d(Pe,{Hp:()=>mt,Lv:()=>ee});var u=L(576),B=L(727),F=L(2416),re=L(7849),ye=L(5032);const ue=Ie("C",void 0,void 0);function Ie(Me,Se,Ve){return{kind:Me,value:Se,error:Ve}}var K=L(3410),q=L(2806);class ee extends B.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,B.Nn)(Se)&&Se.add(this)):this.destination=qe}static create(Se,Ve,Je){return new mt(Se,Ve,Je)}next(Se){this.isStopped?$e(function Ce(Me){return Ie("N",Me,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?$e(function Ee(Me){return Ie("E",void 0,Me)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?$e(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Te(Me,Se){return Ne.call(Me,Se)}class We{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Se)}catch(Je){we(Je)}}error(Se){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Se)}catch(Je){we(Je)}else we(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Ve){we(Ve)}}}class mt extends ee{constructor(Se,Ve,Je){let ze;if(super(),(0,u.m)(Se)||!Se)ze={next:Se??void 0,error:Ve??void 0,complete:Je??void 0};else{let ce;this&&F.v.useDeprecatedNextContext?(ce=Object.create(Se),ce.unsubscribe=()=>this.unsubscribe(),ze={next:Se.next&&Te(Se.next,ce),error:Se.error&&Te(Se.error,ce),complete:Se.complete&&Te(Se.complete,ce)}):ze=Se}this.destination=new We(ze)}}function we(Me){F.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Me):(0,re.h)(Me)}function $e(Me,Se){const{onStoppedNotification:Ve}=F.v;Ve&&K.z.setTimeout(()=>Ve(Me,Se))}const qe={closed:!0,next:ye.Z,error:function Le(Me){throw Me},complete:ye.Z}},727:(Mt,Pe,L)=>{L.d(Pe,{Lc:()=>ue,w0:()=>ye,Nn:()=>Ee});var u=L(576);const F=(0,L(3888).d)(Ie=>function(q){Ie(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ee,Ne)=>`${Ne+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var re=L(8737);class ye{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Te of q)Te.remove(this);else q.remove(this);const{initialTeardown:ee}=this;if((0,u.m)(ee))try{ee()}catch(Te){K=Te instanceof F?Te.errors:[Te]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Te of Ne)try{Ce(Te)}catch(We){K=K??[],We instanceof F?K=[...K,...We.errors]:K.push(We)}}if(K)throw new F(K)}}add(K){var q;if(K&&K!==this)if(this.closed)Ce(K);else{if(K instanceof ye){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(K)}}_hasParent(K){const{_parentage:q}=this;return q===K||Array.isArray(q)&&q.includes(K)}_addParent(K){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(K),q):q?[q,K]:K}_removeParent(K){const{_parentage:q}=this;q===K?this._parentage=null:Array.isArray(q)&&(0,re.P)(q,K)}remove(K){const{_finalizers:q}=this;q&&(0,re.P)(q,K),K instanceof ye&&K._removeParent(this)}}ye.EMPTY=(()=>{const Ie=new ye;return Ie.closed=!0,Ie})();const ue=ye.EMPTY;function Ee(Ie){return Ie instanceof ye||Ie&&"closed"in Ie&&(0,u.m)(Ie.remove)&&(0,u.m)(Ie.add)&&(0,u.m)(Ie.unsubscribe)}function Ce(Ie){(0,u.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(Mt,Pe,L)=>{L.d(Pe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Mt,Pe,L)=>{L.d(Pe,{E:()=>B});const B=new(L(9751).y)(ye=>ye.complete())},8996:(Mt,Pe,L)=>{L.d(Pe,{D:()=>Se});var u=L(8421),B=L(5363),F=L(9468),ue=L(9751),Ce=L(2202),Ie=L(576),K=L(9672);function ee(Ve,Je){if(!Ve)throw new Error("Iterable cannot be null");return new ue.y(ze=>{(0,K.f)(ze,Je,()=>{const ce=Ve[Symbol.asyncIterator]();(0,K.f)(ze,Je,()=>{ce.next().then(it=>{it.done?ze.complete():ze.next(it.value)})},0,!0)})})}var Ne=L(3670),Te=L(8239),We=L(1144),mt=L(6495),we=L(2206),Le=L(4532),$e=L(3260);function Se(Ve,Je){return Je?function Me(Ve,Je){if(null!=Ve){if((0,Ne.c)(Ve))return function re(Ve,Je){return(0,u.Xf)(Ve).pipe((0,F.R)(Je),(0,B.Q)(Je))}(Ve,Je);if((0,We.z)(Ve))return function Ee(Ve,Je){return new ue.y(ze=>{let ce=0;return Je.schedule(function(){ce===Ve.length?ze.complete():(ze.next(Ve[ce++]),ze.closed||this.schedule())})})}(Ve,Je);if((0,Te.t)(Ve))return function ye(Ve,Je){return(0,u.Xf)(Ve).pipe((0,F.R)(Je),(0,B.Q)(Je))}(Ve,Je);if((0,we.D)(Ve))return ee(Ve,Je);if((0,mt.T)(Ve))return function q(Ve,Je){return new ue.y(ze=>{let ce;return(0,K.f)(ze,Je,()=>{ce=Ve[Ce.h](),(0,K.f)(ze,Je,()=>{let it,Pt;try{({value:it,done:Pt}=ce.next())}catch(ht){return void ze.error(ht)}Pt?ze.complete():ze.next(it)},0,!0)}),()=>(0,Ie.m)(ce?.return)&&ce.return()})}(Ve,Je);if((0,$e.L)(Ve))return function qe(Ve,Je){return ee((0,$e.Q)(Ve),Je)}(Ve,Je)}throw(0,Le.z)(Ve)}(Ve,Je):(0,u.Xf)(Ve)}},8421:(Mt,Pe,L)=>{L.d(Pe,{Xf:()=>Ne});var u=L(655),B=L(1144),F=L(8239),re=L(9751),ye=L(3670),ue=L(2206),Ee=L(4532),Ce=L(6495),Ie=L(3260),K=L(576),q=L(7849),ee=L(8822);function Ne(Me){if(Me instanceof re.y)return Me;if(null!=Me){if((0,ye.c)(Me))return function Te(Me){return new re.y(Se=>{const Ve=Me[ee.L]();if((0,K.m)(Ve.subscribe))return Ve.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,B.z)(Me))return function We(Me){return new re.y(Se=>{for(let Ve=0;Ve<Me.length&&!Se.closed;Ve++)Se.next(Me[Ve]);Se.complete()})}(Me);if((0,F.t)(Me))return function mt(Me){return new re.y(Se=>{Me.then(Ve=>{Se.closed||(Se.next(Ve),Se.complete())},Ve=>Se.error(Ve)).then(null,q.h)})}(Me);if((0,ue.D)(Me))return Le(Me);if((0,Ce.T)(Me))return function we(Me){return new re.y(Se=>{for(const Ve of Me)if(Se.next(Ve),Se.closed)return;Se.complete()})}(Me);if((0,Ie.L)(Me))return function $e(Me){return Le((0,Ie.Q)(Me))}(Me)}throw(0,Ee.z)(Me)}function Le(Me){return new re.y(Se=>{(function qe(Me,Se){var Ve,Je,ze,ce;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,u.KL)(Me);!(Je=yield Ve.next()).done;)if(Se.next(Je.value),Se.closed)return}catch(it){ze={error:it}}finally{try{Je&&!Je.done&&(ce=Ve.return)&&(yield ce.call(Ve))}finally{if(ze)throw ze.error}}Se.complete()})})(Me,Se).catch(Ve=>Se.error(Ve))})}},6451:(Mt,Pe,L)=>{L.d(Pe,{T:()=>ue});var u=L(8189),B=L(8421),F=L(515),re=L(7669),ye=L(8996);function ue(...Ee){const Ce=(0,re.yG)(Ee),Ie=(0,re._6)(Ee,1/0),K=Ee;return K.length?1===K.length?(0,B.Xf)(K[0]):(0,u.J)(Ie)((0,ye.D)(K,Ce)):F.E}},5403:(Mt,Pe,L)=>{L.d(Pe,{Q:()=>F,x:()=>B});var u=L(930);function B(re,ye,ue,Ee,Ce){return new F(re,ye,ue,Ee,Ce)}class F extends u.Lv{constructor(ye,ue,Ee,Ce,Ie,K){super(ye),this.onFinalize=Ie,this.shouldUnsubscribe=K,this._next=ue?function(q){try{ue(q)}catch(ee){ye.error(ee)}}:super._next,this._error=Ce?function(q){try{Ce(q)}catch(ee){ye.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(q){ye.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4004:(Mt,Pe,L)=>{L.d(Pe,{U:()=>F});var u=L(4482),B=L(5403);function F(re,ye){return(0,u.e)((ue,Ee)=>{let Ce=0;ue.subscribe((0,B.x)(Ee,Ie=>{Ee.next(re.call(ye,Ie,Ce++))}))})}},8189:(Mt,Pe,L)=>{L.d(Pe,{J:()=>F});var u=L(5577),B=L(4671);function F(re=1/0){return(0,u.z)(B.y,re)}},5577:(Mt,Pe,L)=>{L.d(Pe,{z:()=>Ce});var u=L(4004),B=L(8421),F=L(4482),re=L(9672),ye=L(5403),Ee=L(576);function Ce(Ie,K,q=1/0){return(0,Ee.m)(K)?Ce((ee,Ne)=>(0,u.U)((Te,We)=>K(ee,Te,Ne,We))((0,B.Xf)(Ie(ee,Ne))),q):("number"==typeof K&&(q=K),(0,F.e)((ee,Ne)=>function ue(Ie,K,q,ee,Ne,Te,We,mt){const we=[];let Le=0,$e=0,qe=!1;const Me=()=>{qe&&!we.length&&!Le&&K.complete()},Se=Je=>Le<ee?Ve(Je):we.push(Je),Ve=Je=>{Te&&K.next(Je),Le++;let ze=!1;(0,B.Xf)(q(Je,$e++)).subscribe((0,ye.x)(K,ce=>{Ne?.(ce),Te?Se(ce):K.next(ce)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Le--;we.length&&Le<ee;){const ce=we.shift();We?(0,re.f)(K,We,()=>Ve(ce)):Ve(ce)}Me()}catch(ce){K.error(ce)}}))};return Ie.subscribe((0,ye.x)(K,Se,()=>{qe=!0,Me()})),()=>{mt?.()}}(ee,Ne,Ie,q)))}},5363:(Mt,Pe,L)=>{L.d(Pe,{Q:()=>re});var u=L(9672),B=L(4482),F=L(5403);function re(ye,ue=0){return(0,B.e)((Ee,Ce)=>{Ee.subscribe((0,F.x)(Ce,Ie=>(0,u.f)(Ce,ye,()=>Ce.next(Ie),ue),()=>(0,u.f)(Ce,ye,()=>Ce.complete(),ue),Ie=>(0,u.f)(Ce,ye,()=>Ce.error(Ie),ue)))})}},3099:(Mt,Pe,L)=>{L.d(Pe,{B:()=>ye});var u=L(8421),B=L(7579),F=L(930),re=L(4482);function ye(Ee={}){const{connector:Ce=(()=>new B.x),resetOnError:Ie=!0,resetOnComplete:K=!0,resetOnRefCountZero:q=!0}=Ee;return ee=>{let Ne,Te,We,mt=0,we=!1,Le=!1;const $e=()=>{Te?.unsubscribe(),Te=void 0},qe=()=>{$e(),Ne=We=void 0,we=Le=!1},Me=()=>{const Se=Ne;qe(),Se?.unsubscribe()};return(0,re.e)((Se,Ve)=>{mt++,!Le&&!we&&$e();const Je=We=We??Ce();Ve.add(()=>{mt--,0===mt&&!Le&&!we&&(Te=ue(Me,q))}),Je.subscribe(Ve),!Ne&&mt>0&&(Ne=new F.Hp({next:ze=>Je.next(ze),error:ze=>{Le=!0,$e(),Te=ue(qe,Ie,ze),Je.error(ze)},complete:()=>{we=!0,$e(),Te=ue(qe,K),Je.complete()}}),(0,u.Xf)(Se).subscribe(Ne))})(ee)}}function ue(Ee,Ce,...Ie){if(!0===Ce)return void Ee();if(!1===Ce)return;const K=new F.Hp({next:()=>{K.unsubscribe(),Ee()}});return(0,u.Xf)(Ce(...Ie)).subscribe(K)}},9468:(Mt,Pe,L)=>{L.d(Pe,{R:()=>B});var u=L(4482);function B(F,re=0){return(0,u.e)((ye,ue)=>{ue.add(F.schedule(()=>ye.subscribe(ue),re))})}},8505:(Mt,Pe,L)=>{L.d(Pe,{b:()=>ye});var u=L(576),B=L(4482),F=L(5403),re=L(4671);function ye(ue,Ee,Ce){const Ie=(0,u.m)(ue)||Ee||Ce?{next:ue,error:Ee,complete:Ce}:ue;return Ie?(0,B.e)((K,q)=>{var ee;null===(ee=Ie.subscribe)||void 0===ee||ee.call(Ie);let Ne=!0;K.subscribe((0,F.x)(q,Te=>{var We;null===(We=Ie.next)||void 0===We||We.call(Ie,Te),q.next(Te)},()=>{var Te;Ne=!1,null===(Te=Ie.complete)||void 0===Te||Te.call(Ie),q.complete()},Te=>{var We;Ne=!1,null===(We=Ie.error)||void 0===We||We.call(Ie,Te),q.error(Te)},()=>{var Te,We;Ne&&(null===(Te=Ie.unsubscribe)||void 0===Te||Te.call(Ie)),null===(We=Ie.finalize)||void 0===We||We.call(Ie)}))}):re.y}},4408:(Mt,Pe,L)=>{L.d(Pe,{o:()=>ye});var u=L(727);class B extends u.w0{constructor(Ee,Ce){super()}schedule(Ee,Ce=0){return this}}const F={setInterval(ue,Ee,...Ce){const{delegate:Ie}=F;return Ie?.setInterval?Ie.setInterval(ue,Ee,...Ce):setInterval(ue,Ee,...Ce)},clearInterval(ue){const{delegate:Ee}=F;return(Ee?.clearInterval||clearInterval)(ue)},delegate:void 0};var re=L(8737);class ye extends B{constructor(Ee,Ce){super(Ee,Ce),this.scheduler=Ee,this.work=Ce,this.pending=!1}schedule(Ee,Ce=0){var Ie;if(this.closed)return this;this.state=Ee;const K=this.id,q=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(q,K,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(q,this.id,Ce),this}requestAsyncId(Ee,Ce,Ie=0){return F.setInterval(Ee.flush.bind(Ee,this),Ie)}recycleAsyncId(Ee,Ce,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Ce;null!=Ce&&F.clearInterval(Ce)}execute(Ee,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Ee,Ce);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Ce){let K,Ie=!1;try{this.work(Ee)}catch(q){Ie=!0,K=q||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Ce}=this,{actions:Ie}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(Ie,this),null!=Ee&&(this.id=this.recycleAsyncId(Ce,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(Mt,Pe,L)=>{L.d(Pe,{v:()=>F});var u=L(6063);class B{constructor(ye,ue=B.now){this.schedulerActionCtor=ye,this.now=ue}schedule(ye,ue=0,Ee){return new this.schedulerActionCtor(this,ye).schedule(Ee,ue)}}B.now=u.l.now;class F extends B{constructor(ye,ue=B.now){super(ye,ue),this.actions=[],this._active=!1}flush(ye){const{actions:ue}=this;if(this._active)return void ue.push(ye);let Ee;this._active=!0;do{if(Ee=ye.execute(ye.state,ye.delay))break}while(ye=ue.shift());if(this._active=!1,Ee){for(;ye=ue.shift();)ye.unsubscribe();throw Ee}}}},4986:(Mt,Pe,L)=>{L.d(Pe,{z:()=>F});var u=L(4408);const F=new(L(7565).v)(u.o)},6063:(Mt,Pe,L)=>{L.d(Pe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Mt,Pe,L)=>{L.d(Pe,{z:()=>u});const u={setTimeout(B,F,...re){const{delegate:ye}=u;return ye?.setTimeout?ye.setTimeout(B,F,...re):setTimeout(B,F,...re)},clearTimeout(B){const{delegate:F}=u;return(F?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(Mt,Pe,L)=>{L.d(Pe,{h:()=>B});const B=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Mt,Pe,L)=>{L.d(Pe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Mt,Pe,L)=>{L.d(Pe,{_6:()=>ue,jO:()=>re,yG:()=>ye});var u=L(576);function F(Ee){return Ee[Ee.length-1]}function re(Ee){return(0,u.m)(F(Ee))?Ee.pop():void 0}function ye(Ee){return function B(Ee){return Ee&&(0,u.m)(Ee.schedule)}(F(Ee))?Ee.pop():void 0}function ue(Ee,Ce){return"number"==typeof F(Ee)?Ee.pop():Ce}},8737:(Mt,Pe,L)=>{function u(B,F){if(B){const re=B.indexOf(F);0<=re&&B.splice(re,1)}}L.d(Pe,{P:()=>u})},3888:(Mt,Pe,L)=>{function u(B){const re=B(ye=>{Error.call(ye),ye.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}L.d(Pe,{d:()=>u})},2806:(Mt,Pe,L)=>{L.d(Pe,{O:()=>re,x:()=>F});var u=L(2416);let B=null;function F(ye){if(u.v.useDeprecatedSynchronousErrorHandling){const ue=!B;if(ue&&(B={errorThrown:!1,error:null}),ye(),ue){const{errorThrown:Ee,error:Ce}=B;if(B=null,Ee)throw Ce}}else ye()}function re(ye){u.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ye)}},9672:(Mt,Pe,L)=>{function u(B,F,re,ye=0,ue=!1){const Ee=F.schedule(function(){re(),ue?B.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(B.add(Ee),!ue)return Ee}L.d(Pe,{f:()=>u})},4671:(Mt,Pe,L)=>{function u(B){return B}L.d(Pe,{y:()=>u})},1144:(Mt,Pe,L)=>{L.d(Pe,{z:()=>u});const u=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Mt,Pe,L)=>{L.d(Pe,{D:()=>B});var u=L(576);function B(F){return Symbol.asyncIterator&&(0,u.m)(F?.[Symbol.asyncIterator])}},576:(Mt,Pe,L)=>{function u(B){return"function"==typeof B}L.d(Pe,{m:()=>u})},3670:(Mt,Pe,L)=>{L.d(Pe,{c:()=>F});var u=L(8822),B=L(576);function F(re){return(0,B.m)(re[u.L])}},6495:(Mt,Pe,L)=>{L.d(Pe,{T:()=>F});var u=L(2202),B=L(576);function F(re){return(0,B.m)(re?.[u.h])}},8239:(Mt,Pe,L)=>{L.d(Pe,{t:()=>B});var u=L(576);function B(F){return(0,u.m)(F?.then)}},3260:(Mt,Pe,L)=>{L.d(Pe,{L:()=>re,Q:()=>F});var u=L(655),B=L(576);function F(ye){return(0,u.FC)(this,arguments,function*(){const Ee=ye.getReader();try{for(;;){const{value:Ce,done:Ie}=yield(0,u.qq)(Ee.read());if(Ie)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ce)}}finally{Ee.releaseLock()}})}function re(ye){return(0,B.m)(ye?.getReader)}},4482:(Mt,Pe,L)=>{L.d(Pe,{A:()=>B,e:()=>F});var u=L(576);function B(re){return(0,u.m)(re?.lift)}function F(re){return ye=>{if(B(ye))return ye.lift(function(ue){try{return re(ue,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Mt,Pe,L)=>{function u(){}L.d(Pe,{Z:()=>u})},9635:(Mt,Pe,L)=>{L.d(Pe,{U:()=>F,z:()=>B});var u=L(4671);function B(...re){return F(re)}function F(re){return 0===re.length?u.y:1===re.length?re[0]:function(ue){return re.reduce((Ee,Ce)=>Ce(Ee),ue)}}},7849:(Mt,Pe,L)=>{L.d(Pe,{h:()=>F});var u=L(2416),B=L(3410);function F(re){B.z.setTimeout(()=>{const{onUnhandledError:ye}=u.v;if(!ye)throw re;ye(re)})}},4532:(Mt,Pe,L)=>{function u(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Pe,{z:()=>u})},655:(Mt,Pe,L)=>{function re(ge,be){var ke={};for(var Ue in ge)Object.prototype.hasOwnProperty.call(ge,Ue)&&be.indexOf(Ue)<0&&(ke[Ue]=ge[Ue]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Ue=Object.getOwnPropertySymbols(ge);Xe<Ue.length;Xe++)be.indexOf(Ue[Xe])<0&&Object.prototype.propertyIsEnumerable.call(ge,Ue[Xe])&&(ke[Ue[Xe]]=ge[Ue[Xe]])}return ke}function ee(ge,be,ke,Ue){return new(ke||(ke=Promise))(function(He,Re){function vt(wt){try{It(Ue.next(wt))}catch(jt){Re(jt)}}function Cn(wt){try{It(Ue.throw(wt))}catch(jt){Re(jt)}}function It(wt){wt.done?He(wt.value):function Xe(He){return He instanceof ke?He:new ke(function(Re){Re(He)})}(wt.value).then(vt,Cn)}It((Ue=Ue.apply(ge,be||[])).next())})}function Me(ge){return this instanceof Me?(this.v=ge,this):new Me(ge)}function Se(ge,be,ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ue=ke.apply(ge,be||[]),He=[];return Xe={},Re("next"),Re("throw"),Re("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Re(yn){Ue[yn]&&(Xe[yn]=function(In){return new Promise(function(yr,Un){He.push([yn,In,yr,Un])>1||vt(yn,In)})})}function vt(yn,In){try{!function Cn(yn){yn.value instanceof Me?Promise.resolve(yn.value.v).then(It,wt):jt(He[0][2],yn)}(Ue[yn](In))}catch(yr){jt(He[0][3],yr)}}function It(yn){vt("next",yn)}function wt(yn){vt("throw",yn)}function jt(yn,In){yn(In),He.shift(),He.length&&vt(He[0][0],He[0][1])}}function Je(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,be=ge[Symbol.asyncIterator];return be?be.call(ge):(ge=function mt(ge){var be="function"==typeof Symbol&&Symbol.iterator,ke=be&&ge[be],Ue=0;if(ke)return ke.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Ue>=ge.length&&(ge=void 0),{value:ge&&ge[Ue++],done:!ge}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),ke={},Ue("next"),Ue("throw"),Ue("return"),ke[Symbol.asyncIterator]=function(){return this},ke);function Ue(He){ke[He]=ge[He]&&function(Re){return new Promise(function(vt,Cn){!function Xe(He,Re,vt,Cn){Promise.resolve(Cn).then(function(It){He({value:It,done:vt})},Re)}(vt,Cn,(Re=ge[He](Re)).done,Re.value)})}}}L.d(Pe,{FC:()=>Se,KL:()=>Je,_T:()=>re,mG:()=>ee,qq:()=>Me})},4650:(Mt,Pe,L)=>{L.d(Pe,{$8M:()=>jc,$WT:()=>wr,$Z:()=>Nw,AFp:()=>mv,AaK:()=>Ce,BQk:()=>D_,CHM:()=>z,CRH:()=>Mb,CZH:()=>Lo,CqO:()=>Yh,D6c:()=>pm,EJc:()=>Vo,EpF:()=>cT,F$t:()=>sE,F4k:()=>T_,FYo:()=>Ry,FiY:()=>ra,Gf:()=>vl,GfV:()=>gw,GkF:()=>eE,Gpc:()=>q,Hsn:()=>dT,Ikx:()=>U_,JOm:()=>Ut,KtG:()=>le,LFG:()=>zt,LMc:()=>pC,Lbi:()=>Sf,Lck:()=>ib,MAs:()=>Jw,MMx:()=>Gg,NdJ:()=>vg,O4$:()=>Ym,OlP:()=>Dn,Oqu:()=>yi,P3R:()=>ow,PXZ:()=>mc,Q6J:()=>Xw,QGY:()=>_g,QbO:()=>Kb,Qsj:()=>dD,R0b:()=>Fs,RDi:()=>zI,Rgc:()=>Mi,SBq:()=>Iu,Sil:()=>oS,Suo:()=>Ab,TTD:()=>$l,TgZ:()=>E_,Udp:()=>dE,W1O:()=>bf,WLB:()=>sv,X6Q:()=>Iv,XFs:()=>Et,Xpm:()=>nt,Xts:()=>Iy,Y36:()=>Mu,YKP:()=>rb,YNc:()=>yg,Yjl:()=>Xt,Yz7:()=>wt,Z0I:()=>yr,ZZ4:()=>Al,_Bn:()=>nb,_UZ:()=>C_,_Vd:()=>Cu,_c5:()=>uC,_uU:()=>gE,aQg:()=>fm,c2e:()=>Fi,cJS:()=>yn,cg1:()=>Xh,dDg:()=>eC,dqk:()=>nn,eFA:()=>dd,eJc:()=>If,ekj:()=>hE,eoX:()=>ir,f3M:()=>Sn,g9A:()=>ns,h0i:()=>_l,hGG:()=>Mv,hij:()=>dl,iGM:()=>fv,ifc:()=>N,ip1:()=>Zb,jDz:()=>ob,kL8:()=>Sg,kcU:()=>gp,lG2:()=>At,lqb:()=>el,lri:()=>wv,n5z:()=>th,oAB:()=>ne,oJD:()=>rw,oxw:()=>iE,q4F:()=>mw,qLn:()=>Fh,qOj:()=>u_,qZA:()=>b_,rWj:()=>Ea,sBO:()=>kf,s_b:()=>ts,soG:()=>Af,tb:()=>Ev,tp0:()=>xt,uIk:()=>y_,vHH:()=>we,vpe:()=>Qs,wAp:()=>Ht,xp6:()=>Sw,ynx:()=>I_,z2F:()=>Sa,zSh:()=>ac,zs3:()=>Tu});var u=L(7579),B=L(727),F=L(9751),re=L(6451),ye=L(3099);function ue(s){for(let o in s)if(s[o]===ue)return o;throw Error("Could not find renamed property on target object.")}function Ee(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function Ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function Ie(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=ue({__forward_ref__:ue});function q(s){return s.__forward_ref__=q,s.toString=function(){return Ce(this())},s}function ee(s){return Ne(s)?s():s}function Ne(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===q}function Te(s){return s&&!!s.\u0275providers}const mt="https://g.co/ng/security#xss";class we extends Error{constructor(o,c){super(Le(o,c)),this.code=o}}function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function $e(s){return"string"==typeof s?s:null==s?"":String(s)}function Je(s,o){throw new we(-201,!1)}function He(s,o){null==s&&function Re(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function yn(s){return{providers:s.providers||[],imports:s.imports||[]}}function In(s){return Un(s,ri)||Un(s,ki)}function yr(s){return null!==In(s)}function Un(s,o){return s.hasOwnProperty(o)?s[o]:null}function Xn(s){return s&&(s.hasOwnProperty(dr)||s.hasOwnProperty(kn))?s[dr]:null}const ri=ue({\u0275prov:ue}),dr=ue({\u0275inj:ue}),ki=ue({ngInjectableDef:ue}),kn=ue({ngInjectorDef:ue});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let Pn;function Zn(s){const o=Pn;return Pn=s,o}function Kn(s,o,c){const d=In(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Et.Optional?null:void 0!==o?o:void Je(Ce(s))}const nn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gn={},Tn="__NG_DI_FLAG__",Rn="ngTempTokenPath",_r="ngTokenPath",Nn=/\n/gm,nr="\u0275",Ot="__source";let vr;function Wt(s){const o=vr;return vr=s,o}function Jr(s,o=Et.Default){if(void 0===vr)throw new we(-203,!1);return null===vr?Kn(s,void 0,o):vr.get(s,o&Et.Optional?null:void 0,o)}function zt(s,o=Et.Default){return(function Qr(){return Pn}()||Jr)(ee(s),o)}function Sn(s,o=Et.Default){return zt(s,er(o))}function er(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function tr(s){const o=[];for(let c=0;c<s.length;c++){const d=ee(s[c]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let h,g=Et.Default;for(let _=0;_<d.length;_++){const b=d[_],C=Mr(b);"number"==typeof C?-1===C?h=b.token:g|=C:h=b}o.push(zt(h,g))}else o.push(zt(d))}return o}function hr(s,o){return s[Tn]=o,s.prototype[Tn]=o,s}function Mr(s){return s[Tn]}function $(s){return{toString:s}.toString()}var P=(()=>((P=P||{})[P.OnPush=0]="OnPush",P[P.Default=1]="Default",P))(),N=(()=>{return(s=N||(N={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",N;var s})();const x={},Q=[],ve=ue({\u0275cmp:ue}),Y=ue({\u0275dir:ue}),ae=ue({\u0275pipe:ue}),fe=ue({\u0275mod:ue}),Fe=ue({\u0275fac:ue}),xe=ue({__NG_ELEMENT_ID__:ue});let st=0;function nt(s){return $(()=>{const o=Er(s),c={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||N.Emulated,id:"c"+st++,styles:s.styles||Q,_:null,schemas:s.schemas||null,tView:null};zo(c);const d=s.dependencies;return c.directiveDefs=as(d,!1),c.pipeDefs=as(d,!0),c})}function Zt(s){return Dt(s)||wn(s)}function se(s){return null!==s}function ne(s){return $(()=>({type:s.type,bootstrap:s.bootstrap||Q,declarations:s.declarations||Q,imports:s.imports||Q,exports:s.exports||Q,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function yt(s,o){if(null==s)return x;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,o&&(o[h]=g)}return c}function At(s){return $(()=>{const o=Er(s);return zo(o),o})}function Xt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Dt(s){return s[ve]||null}function wn(s){return s[Y]||null}function rn(s){return s[ae]||null}function wr(s){const o=Dt(s)||wn(s)||rn(s);return null!==o&&o.standalone}function sr(s,o){const c=s[fe]||null;if(!c&&!0===o)throw new Error(`Type ${Ce(s)} does not have '\u0275mod' property.`);return c}function Er(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Q,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yt(s.inputs,o),outputs:yt(s.outputs)}}function zo(s){s.features?.forEach(o=>o(s))}function as(s,o){if(!s)return null;const c=o?rn:Zt;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter(se)}const or=0,at=1,Yt=2,Bn=3,_n=4,Pi=5,br=6,ii=7,Wn=8,Ls=9,Zi=10,Qt=11,ws=12,j=13,te=14,_e=15,tt=16,un=17,qt=18,sn=19,An=20,fr=21,on=22,Cc=1,Go=2,so=7,Es=8,bs=9,Lr=10;function si(s){return Array.isArray(s)&&"object"==typeof s[Cc]}function Ci(s){return Array.isArray(s)&&!0===s[Cc]}function Wo(s){return 0!=(4&s.flags)}function Vs(s){return s.componentOffset>-1}function Us(s){return 1==(1&s.flags)}function Wr(s){return!!s.template}function cs(s){return 0!=(256&s[Yt])}function Yi(s,o){return s.hasOwnProperty(Fe)?s[Fe]:null}class dp{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function $l(){return Hl}function Hl(s){return s.type.prototype.ngOnChanges&&(s.setInput=oo),Vd}function Vd(){const s=Zo(this),o=s?.current;if(o){const c=s.previous;if(c===x)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function oo(s,o,c,d){const h=this.declaredInputs[c],g=Zo(s)||function Ud(s,o){return s[zl]=o}(s,{previous:x,current:null}),_=g.current||(g.current={}),b=g.previous,C=b[h];_[h]=new dp(C&&C.currentValue,o,b===x),s[d]=o}$l.ngInherit=!0;const zl="__ngSimpleChanges__";function Zo(s){return s[zl]||null}const ar=function(s,o,c){},Ko="svg";function pr(s){for(;Array.isArray(s);)s=s[or];return s}function js(s,o){return pr(o[s])}function Or(s,o){return pr(o[s.index])}function Ac(s,o){return s.data[o]}function Xr(s,o){const c=o[s];return si(c)?c:c[or]}function uo(s){return 64==(64&s[Yt])}function Qi(s,o){return null==o?null:s[o]}function Mc(s){s[qt]=0}function Yo(s,o){s[Pi]+=o;let c=s,d=s[Bn];for(;null!==d&&(1===o&&1===c[Pi]||-1===o&&0===c[Pi]);)d[Pi]+=o,c=d,d=d[Bn]}const Vt={lFrame:Hd(null),bindingsEnabled:!0};function Wl(){return Vt.bindingsEnabled}function D(){return Vt.lFrame.lView}function O(){return Vt.lFrame.tView}function z(s){return Vt.lFrame.contextLView=s,s[Wn]}function le(s){return Vt.lFrame.contextLView=null,s}function De(){let s=Ke();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ke(){return Vt.lFrame.currentTNode}function pn(s,o){const c=Vt.lFrame;c.currentTNode=s,c.isParent=o}function En(){return Vt.lFrame.isParent}function $n(){Vt.lFrame.isParent=!1}function $i(){return Vt.lFrame.bindingIndex++}function P0(s,o){const c=Vt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Oc(o)}function Oc(s){Vt.lFrame.currentDirectiveIndex=s}function $d(){return Vt.lFrame.currentQueryIndex}function hp(s){Vt.lFrame.currentQueryIndex=s}function fp(s){const o=s[at];return 2===o.type?o.declTNode:1===o.type?s[br]:null}function qm(s,o,c){if(c&Et.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&Et.Host||(h=fp(g),null===h||(g=g[_e],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Vt.lFrame=Zm();return d.currentTNode=o,d.lView=s,!0}function Kl(s){const o=Zm(),c=s[at];Vt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Zm(){const s=Vt.lFrame,o=null===s?null:s.child;return null===o?Hd(s):o}function Hd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Km(){const s=Vt.lFrame;return Vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const zd=Km;function pp(){const s=Km();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ii(){return Vt.lFrame.selectedIndex}function po(s){Vt.lFrame.selectedIndex=s}function lr(){const s=Vt.lFrame;return Ac(s.tView,s.selectedIndex)}function Ym(){Vt.lFrame.currentNamespace=Ko}function gp(){!function F0(){Vt.lFrame.currentNamespace=null}()}function Wd(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:k}=g;_&&(s.contentHooks??(s.contentHooks=[])).push(-c,_),b&&((s.contentHooks??(s.contentHooks=[])).push(c,b),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(c,b)),C&&(s.viewHooks??(s.viewHooks=[])).push(-c,C),T&&((s.viewHooks??(s.viewHooks=[])).push(c,T),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(c,T)),null!=k&&(s.destroyHooks??(s.destroyHooks=[])).push(c,k)}}function qd(s,o,c){Yl(s,o,3,c)}function mp(s,o,c,d){(3&s[Yt])===c&&Yl(s,o,c,d)}function yp(s,o){let c=s[Yt];(3&c)===o&&(c&=2047,c+=1,s[Yt]=c)}function Yl(s,o,c,d){const g=d??-1,_=o.length-1;let b=0;for(let C=void 0!==d?65535&s[qt]:0;C<_;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=d&&b>=d)break}else o[C]<0&&(s[qt]+=65536),(b<g||-1==g)&&(kc(s,c,o,C),s[qt]=(4294901760&s[qt])+C+2),C++}function kc(s,o,c,d){const h=c[d]<0,g=c[d+1],b=s[h?-c[d]:c[d]];if(h){if(s[Yt]>>11<s[qt]>>16&&(3&s[Yt])===o){s[Yt]+=2048,ar(4,b,g);try{g.call(b)}finally{ar(5,b,g)}}}else{ar(4,b,g);try{g.call(b)}finally{ar(5,b,g)}}}const Pc=-1;class Qo{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Ql(s,o,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],_=c[d++],b=c[d++];s.setAttribute(o,_,b,g)}else{const g=h,_=c[++d];Fa(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),d++}}return d}function wp(s){return 3===s||4===s||6===s}function Fa(s){return 64===s.charCodeAt(0)}function Xo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||La(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function La(s,o,c,d,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const b=s[g++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=g-1;break}}}for(;g<s.length;){const b=s[g];if("number"==typeof b)break;if(b===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Rc(s){return s!==Pc}function Nc(s){return 32767&s}function Fc(s,o){let c=function Jl(s){return s>>16}(s),d=o;for(;c>0;)d=d[_e],c--;return d}let Qd=!0;function Lc(s){const o=Qd;return Qd=s,o}const Qm=255,Xl=5;let Jm=0;const Di={};function eu(s,o){const c=Xd(s,o);if(-1!==c)return c;const d=o[at];d.firstCreatePass&&(s.injectorIndex=o.length,go(d.data,s),go(o,null),go(d.blueprint,null));const h=Cr(s,o),g=s.injectorIndex;if(Rc(h)){const _=Nc(h),b=Fc(h,o),C=b[at].data;for(let T=0;T<8;T++)o[g+T]=b[_+T]|C[_+T]}return o[g+8]=h,g}function go(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Xd(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Cr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){if(d=Bc(h),null===d)return Pc;if(c++,h=h[_e],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Pc}function Vc(s,o,c){!function Jd(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(xe)&&(d=c[xe]),null==d&&(d=c[xe]=Jm++);const h=d&Qm;o.data[s+(h>>Xl)]|=1<<h}(s,o,c)}function Ep(s,o,c){if(c&Et.Optional||void 0!==s)return s;Je()}function Uc(s,o,c,d){if(c&Et.Optional&&void 0===d&&(d=null),!(c&(Et.Self|Et.Host))){const h=s[Ls],g=Zn(void 0);try{return h?h.get(o,d,c&Et.Optional):Kn(o,d,c&Et.Optional)}finally{Zn(g)}}return Ep(d,0,c)}function bp(s,o,c,d=Et.Default,h){if(null!==s){if(1024&o[Yt]){const _=function ey(s,o,c,d,h){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[Yt]&&!(256&_[Yt]);){const b=Cp(g,_,c,d|Et.Self,Di);if(b!==Di)return b;let C=g.parent;if(!C){const T=_[fr];if(T){const k=T.get(c,Di,d);if(k!==Di)return k}C=Bc(_),_=_[_e]}g=C}return h}(s,o,c,d,Di);if(_!==Di)return _}const g=Cp(s,o,c,d,Di);if(g!==Di)return g}return Uc(o,c,d,h)}function Cp(s,o,c,d,h){const g=function Xm(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(xe)?s[xe]:void 0;return"number"==typeof o?o>=0?o&Qm:eh:o}(c);if("function"==typeof g){if(!qm(o,s,d))return d&Et.Host?Ep(h,0,d):Uc(o,c,d,h);try{const _=g(d);if(null!=_||d&Et.Optional)return _;Je()}finally{zd()}}else if("number"==typeof g){let _=null,b=Xd(s,o),C=Pc,T=d&Et.Host?o[tt][br]:null;for((-1===b||d&Et.SkipSelf)&&(C=-1===b?Cr(s,o):o[b+8],C!==Pc&&nu(d,!1)?(_=o[at],b=Nc(C),o=Fc(C,o)):b=-1);-1!==b;){const k=o[at];if(ea(g,b,k.data)){const V=Ip(b,o,c,_,d,T);if(V!==Di)return V}C=o[b+8],C!==Pc&&nu(d,o[at].data[b+8]===T)&&ea(g,b,o)?(_=k,b=Nc(C),o=Fc(C,o)):b=-1}}return h}function Ip(s,o,c,d,h,g){const _=o[at],b=_.data[s+8],k=Va(b,_,c,null==d?Vs(b)&&Qd:d!=_&&0!=(3&b.type),h&Et.Host&&g===b);return null!==k?Hs(o,_,k,b):Di}function Va(s,o,c,d,h){const g=s.providerIndexes,_=o.data,b=1048575&g,C=s.directiveStart,k=g>>20,H=h?b+k:s.directiveEnd;for(let oe=d?b:b+k;oe<H;oe++){const Ae=_[oe];if(oe<C&&c===Ae||oe>=C&&Ae.type===c)return oe}if(h){const oe=_[C];if(oe&&Wr(oe)&&oe.type===c)return C}return null}function Hs(s,o,c,d){let h=s[c];const g=o.data;if(function U0(s){return s instanceof Qo}(h)){const _=h;_.resolving&&function Me(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${c}`)}(function qe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():$e(s)}(g[c]));const b=Lc(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?Zn(_.injectImpl):null;qm(s,d,Et.Default);try{h=s[c]=_.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function V0(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const _=Hl(o);(c.preOrderHooks??(c.preOrderHooks=[])).push(s,_),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,_)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==C&&Zn(C),Lc(b),_.resolving=!1,zd()}}return h}function ea(s,o,c){return!!(c[o+(s>>Xl)]&1<<s)}function nu(s,o){return!(s&Et.Self||s&Et.Host&&o)}class Ua{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return bp(this._tNode,this._lView,o,er(d),c)}}function eh(){return new Ua(De(),D())}function th(s){return $(()=>{const o=s.prototype.constructor,c=o[Fe]||Ba(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Fe]||Ba(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Ba(s){return Ne(s)?()=>{const o=Ba(ee(s));return o&&o()}:Yi(s)}function Bc(s){const o=s[at],c=o.type;return 2===c?o.declTNode:1===c?s[br]:null}function jc(s){return function tu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(wp(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(De(),s)}const na="__parameters__";function ja(s,o,c){return $(()=>{const d=function Dp(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const _=new h(...g);return b.annotation=_,b;function b(C,T,k){const V=C.hasOwnProperty(na)?C[na]:Object.defineProperty(C,na,{value:[]})[na];for(;V.length<=k;)V.push(null);return(V[k]=V[k]||[]).push(_),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Dn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $a(s,o){s.forEach(c=>Array.isArray(c)?$a(c,o):o(c))}function ih(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function sh(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ha(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function Xi(s,o,c){let d=ds(s,o);return d>=0?s[1|d]=c:(d=~d,function oh(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Mn(s,o){const c=ds(s,o);if(c>=0)return s[1|c]}function ds(s,o){return function oi(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),_=s[g<<c];if(o===_)return g<<c;_>o?h=g:d=g+1}return~(h<<c)}(s,o,1)}const ra=hr(ja("Optional"),8),xt=hr(ja("SkipSelf"),4);var Ut=(()=>((Ut=Ut||{})[Ut.Important=1]="Important",Ut[Ut.DashCase=2]="DashCase",Ut))();const ph=new Map;let Ss=0;const lu="__ngContext__";function ni(s,o){si(o)?(s[lu]=o[An],function Up(s){ph.set(s[An],s)}(o)):s[lu]=o}let _h;function Ws(s,o){return _h(s,o)}function uu(s){const o=s[Bn];return Ci(o)?o[Bn]:o}function ia(s){return wh(s[j])}function sa(s){return wh(s[_n])}function wh(s){for(;null!==s&&!Ci(s);)s=s[_n];return s}function Co(s,o,c,d,h){if(null!=d){let g,_=!1;Ci(d)?g=d:si(d)&&(_=!0,d=d[or]);const b=pr(d);0===s&&null!==c?null==h?gi(o,c,b):an(o,c,b,h||null,!0):1===s&&null!==c?an(o,c,b,h||null,!0):2===s?function hy(s,o,c){const d=fs(s,o);d&&function Io(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}(o,b,_):3===s&&o.destroyNode(b),null!=g&&function Th(s,o,c,d,h){const g=c[so];g!==pr(c)&&Co(o,s,d,g,h);for(let b=Lr;b<c.length;b++){const C=c[b];Dh(C[at],C,s,o,d,g)}}(o,s,g,c,h)}}function bh(s,o,c){return s.createElement(o,c)}function E(s,o){const c=s[bs],d=c.indexOf(o),h=o[Bn];512&o[Yt]&&(o[Yt]&=-513,Yo(h,-1)),c.splice(d,1)}function S(s,o){if(s.length<=Lr)return;const c=Lr+o,d=s[c];if(d){const h=d[un];null!==h&&h!==s&&E(h,d),o>0&&(s[c-1][_n]=d[_n]);const g=sh(s,Lr+o);!function Gp(s,o){Dh(s,o,o[Qt],2,null,null),o[or]=null,o[br]=null}(d[at],d);const _=g[sn];null!==_&&_.detachView(g[at]),d[Bn]=null,d[_n]=null,d[Yt]&=-65}return d}function R(s,o){if(!(128&o[Yt])){const c=o[Qt];c.destroyNode&&Dh(s,o,c,3,null,null),function v(s){let o=s[j];if(!o)return J(s[at],s);for(;o;){let c=null;if(si(o))c=o[j];else{const d=o[Lr];d&&(c=d)}if(!c){for(;o&&!o[_n]&&o!==s;)si(o)&&J(o[at],o),o=o[Bn];null===o&&(o=s),si(o)&&J(o[at],o),c=o&&o[_n]}o=c}}(o)}}function J(s,o){if(!(128&o[Yt])){o[Yt]&=-65,o[Yt]|=128,function Ye(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof Qo)){const g=c[d+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=h[g[_]],C=g[_+1];ar(4,b,C);try{C.call(b)}finally{ar(5,b,C)}}else{ar(4,h,g);try{g.call(h)}finally{ar(5,h,g)}}}}}(s,o),function me(s,o){const c=s.cleanup,d=o[ii];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const _=c[g+3];_>=0?d[h=_]():d[h=-_].unsubscribe(),g+=2}else{const _=d[h=c[g+1]];c[g].call(_)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[ii]=null}}(s,o),1===o[at].type&&o[Qt].destroy();const c=o[un];if(null!==c&&Ci(o[Bn])){c!==o[Bn]&&E(c,o);const d=o[sn];null!==d&&d.detachView(s)}!function Bp(s){ph.delete(s[An])}(o)}}function ot(s,o,c){return function kt(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[or];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===N.None||g===N.Emulated)return null}return Or(d,c)}}(s,o.parent,c)}function an(s,o,c,d,h){s.insertBefore(o,c,d,h)}function gi(s,o,c){s.appendChild(o,c)}function qs(s,o,c,d,h){null!==d?an(s,o,c,d,h):gi(s,o,c)}function fs(s,o){return s.parentNode(o)}function hu(s,o,c){return Do(s,o,c)}let fu,Qc,gy,Wp,Do=function Yc(s,o,c){return 40&s.type?Or(s,c):null};function ic(s,o,c,d){const h=ot(s,d,o),g=o[Qt],b=hu(d.parent||o[br],d,o);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)qs(g,h,c[C],b,!1);else qs(g,h,c,b,!1);void 0!==fu&&fu(g,d,o,c,h)}function gu(s,o){if(null!==o){const c=o.type;if(3&c)return Or(o,s);if(4&c)return To(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return gu(s,d);{const h=s[o.index];return Ci(h)?To(-1,h):pr(h)}}if(32&c)return Ws(o,s)()||pr(s[o.index]);{const d=sc(s,o);return null!==d?Array.isArray(d)?d[0]:gu(uu(s[tt]),d):gu(s,o.next)}}return null}function sc(s,o){return null!==o?s[tt][br].projection[o.projection]:null}function To(s,o){const c=Lr+s+1;if(c<o.length){const d=o[c],h=d[at].firstChild;if(null!==h)return gu(d,h)}return o[so]}function Ih(s,o,c,d,h,g,_){for(;null!=c;){const b=d[c.index],C=c.type;if(_&&0===o&&(b&&ni(pr(b),d),c.flags|=2),32!=(32&c.flags))if(8&C)Ih(s,o,c.child,d,h,g,!1),Co(o,s,h,b,g);else if(32&C){const T=Ws(c,d);let k;for(;k=T();)Co(o,s,h,k,g);Co(o,s,h,b,g)}else 16&C?fy(s,o,d,c,h,g):Co(o,s,h,b,g);c=_?c.projectionNext:c.next}}function Dh(s,o,c,d,h,g){Ih(c,d,s.firstChild,o,h,g,!1)}function fy(s,o,c,d,h,g){const _=c[tt],C=_[br].projection[d.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)Co(o,s,h,C[T],g);else Ih(s,o,C,_[Bn],h,g,!0)}function oc(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function Sh(s,o,c){const{mergedAttrs:d,classes:h,styles:g}=c;null!==d&&Ql(s,o,d),null!==h&&oc(s,o,h),null!==g&&function py(s,o,c){s.setAttribute(o,"style",c)}(s,o,g)}function mu(s){return function Ah(){if(void 0===Qc&&(Qc=null,nn.trustedTypes))try{Qc=nn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Qc}()?.createHTML(s)||s}function zI(s){gy=s}function my(){if(void 0===Wp&&(Wp=null,nn.trustedTypes))try{Wp=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Wp}function yy(s){return my()?.createHTML(s)||s}function q0(s){return my()?.createScriptURL(s)||s}class Z0{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}function Ao(s){return s instanceof Z0?s.changingThisBreaksApplicationSecurity:s}function ps(s,o){const c=function yu(s){return s instanceof Z0&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see ${mt})`)}return c===o}class qp{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(mu(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class Q0{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const c=this.inertDocument.createElement("template");return c.innerHTML=mu(o),c}}const J0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mh(s){return(s=String(s)).match(J0)?s:"unsafe:"+s}function Zs(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Oh(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const _u=Zs("area,br,col,hr,img,wbr"),X0=Zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ew=Zs("rp,rt"),Zp=Oh(_u,Oh(X0,Zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Oh(ew,Zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oh(ew,X0)),Kp=Zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xh=Oh(Kp,Zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qp=Zs("script,style,template");class XI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Zp.hasOwnProperty(c))return this.sanitizedSomething=!0,!Qp.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),_=g.name,b=_.toLowerCase();if(!xh.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=g.value;Kp[b]&&(C=Mh(C)),this.buf.push(" ",_,'="',Ey(C),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Zp.hasOwnProperty(c)&&!_u.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(Ey(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const eD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jp=/([^\#-~ |!])/g;function Ey(s){return s.replace(/&/g,"&amp;").replace(eD,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Jp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let by;function nw(s){return"content"in s&&function WO(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Br=(()=>((Br=Br||{})[Br.NONE=0]="NONE",Br[Br.HTML=1]="HTML",Br[Br.STYLE=2]="STYLE",Br[Br.SCRIPT=3]="SCRIPT",Br[Br.URL=4]="URL",Br[Br.RESOURCE_URL=5]="RESOURCE_URL",Br))();function rw(s){const o=Ph();return o?yy(o.sanitize(Br.HTML,s)||""):ps(s,"HTML")?yy(Ao(s)):function GO(s,o){let c=null;try{by=by||function Y0(s){const o=new Q0(s);return function wy(){try{return!!(new window.DOMParser).parseFromString(mu(""),"text/html")}catch{return!1}}()?new qp(o):o}(s);let d=o?String(o):"";c=by.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=by.getInertBodyElement(d)}while(d!==g);return mu((new XI).sanitizeChildren(nw(c)||c))}finally{if(c){const d=nw(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(function W0(){return void 0!==gy?gy:typeof document<"u"?document:void 0}(),$e(s))}function iw(s){const o=Ph();return o?o.sanitize(Br.URL,s)||"":ps(s,"URL")?Ao(s):Mh($e(s))}function Xp(s){const o=Ph();if(o)return q0(o.sanitize(Br.RESOURCE_URL,s)||"");if(ps(s,"ResourceURL"))return q0(Ao(s));throw new we(904,!1)}function ow(s,o,c){return function nD(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Xp:iw}(o,c)(s)}function Ph(){const s=D();return s&&s[ws]}const Iy=new Dn("ENVIRONMENT_INITIALIZER"),Xc=new Dn("INJECTOR",-1),vu=new Dn("INJECTOR_DEF_TYPES");class aw{get(o,c=Gn){if(c===Gn){const d=new Error(`NullInjectorError: No provider for ${Ce(o)}!`);throw d.name="NullInjectorError",d}return c}}function Rh(...s){return{\u0275providers:wu(0,s),\u0275fromNgModule:!0}}function wu(s,...o){const c=[],d=new Set;let h;return $a(o,g=>{const _=g;Dy(_,c,[],d)&&(h||(h=[]),h.push(_))}),void 0!==h&&cw(h,c),c}function cw(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];Ty(h,g=>{o.push(g)})}}function Dy(s,o,c,d){if(!(s=ee(s)))return!1;let h=null,g=Xn(s);const _=!g&&Dt(s);if(g||_){if(_&&!_.standalone)return!1;h=s}else{const C=s.ngModule;if(g=Xn(C),!g)return!1;h=C}const b=d.has(h);if(_){if(b)return!1;if(d.add(h),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of C)Dy(T,o,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!b){let T;d.add(h);try{$a(g.imports,k=>{Dy(k,o,c,d)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&cw(T,o)}if(!b){const T=Yi(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:Q},{provide:vu,useValue:h,multi:!0},{provide:Iy,useValue:()=>zt(h),multi:!0})}const C=g.providers;null==C||b||Ty(C,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}function Ty(s,o){for(let c of s)Te(c)&&(c=c.\u0275providers),Array.isArray(c)?Ty(c,o):o(c)}const iD=ue({provide:String,useValue:ue});function Sy(s){return null!==s&&"object"==typeof s&&iD in s}function oa(s){return"function"==typeof s}const ac=new Dn("Set Injector scope."),tg={},oD={};let Ay;function ng(){return void 0===Ay&&(Ay=new aw),Ay}class el{}class uw extends el{get destroyed(){return this._destroyed}constructor(o,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bu(o,_=>this.processProvider(_)),this.records.set(Xc,Eu(void 0,this)),h.has("environment")&&this.records.set(el,Eu(void 0,this));const g=this.records.get(ac);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(vu.multi,Q,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Wt(this),d=Zn(void 0);try{return o()}finally{Wt(c),Zn(d)}}get(o,c=Gn,d=Et.Default){this.assertNotDestroyed(),d=er(d);const h=Wt(this),g=Zn(void 0);try{if(!(d&Et.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function ky(s){return"function"==typeof s||"object"==typeof s&&s instanceof Dn}(o)&&In(o);b=C&&this.injectableDefInScope(C)?Eu(My(o),tg):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(d&Et.Self?ng():this.parent).get(o,c=d&Et.Optional&&c===Gn?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[Rn]=_[Rn]||[]).unshift(Ce(o)),h)throw _;return function Gr(s,o,c,d){const h=s[Rn];throw o[Ot]&&h.unshift(o[Ot]),s.message=function W(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==nr?s.slice(2):s;let h=Ce(o);if(Array.isArray(o))h=o.map(Ce).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):Ce(b)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Nn,"\n  ")}`}("\n"+s.message,h,c,d),s[_r]=h,s[Rn]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{Zn(g),Wt(h)}}resolveInjectorInitializers(){const o=Wt(this),c=Zn(void 0);try{const d=this.get(Iy.multi,Q,Et.Self);for(const h of d)h()}finally{Wt(o),Zn(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(Ce(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let c=oa(o=ee(o))?o:ee(o&&o.provide);const d=function cD(s){return Sy(s)?Eu(void 0,s.useValue):Eu(Oy(s),tg)}(o);if(oa(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Eu(void 0,tg,!0),h.factory=()=>tr(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===tg&&(c.value=oD,c.value=c.factory()),"object"==typeof c.value&&c.value&&function dw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=ee(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function My(s){const o=In(s),c=null!==o?o.factory:Yi(s);if(null!==c)return c;if(s instanceof Dn)throw new we(204,!1);if(s instanceof Function)return function aD(s){const o=s.length;if(o>0)throw Ha(o,"?"),new we(204,!1);const c=function Ar(s){return s&&(s[ri]||s[ki])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new we(204,!1)}function Oy(s,o,c){let d;if(oa(s)){const h=ee(s);return Yi(h)||My(h)}if(Sy(s))d=()=>ee(s.useValue);else if(function lw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...tr(s.deps||[]));else if(function sD(s){return!(!s||!s.useExisting)}(s))d=()=>zt(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function xy(s){return!!s.deps}(s))return Yi(h)||My(h);d=()=>new h(...tr(s.deps))}return d}function Eu(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function bu(s,o){for(const c of s)Array.isArray(c)?bu(c,o):c&&Te(c)?bu(c.\u0275providers,o):o(c)}class lD{}class hw{}class pw{resolveComponentFactory(o){throw function uD(s){const o=Error(`No component factory found for ${Ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Cu=(()=>{class s{}return s.NULL=new pw,s})();function rg(){return aa(De(),D())}function aa(s,o){return new Iu(Or(s,o))}let Iu=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=rg,s})();function Nh(s){return s instanceof Iu?s.nativeElement:s}class Ry{}let dD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function hD(){const s=D(),c=Xr(De().index,s);return(si(c)?c:s)[Qt]}(),s})(),fD=(()=>{class s{}return s.\u0275prov=wt({token:s,providedIn:"root",factory:()=>null}),s})();class gw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const mw=new gw("15.2.9"),ig={},Ny="ngOriginalError";function Fy(s){return s[Ny]}class Fh{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Fy(o);for(;c&&Fy(c);)c=Fy(c);return c||null}}function Mo(s){return s instanceof Function?s():s}function bw(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const Ly="ng-template";function Vy(s,o,c){let d=0,h=!0;for(;d<s.length;){let g=s[d++];if("string"==typeof g&&h){const _=s[d++];if(c&&"class"===g&&-1!==bw(_.toLowerCase(),o,0))return!0}else{if(1===g){for(;d<s.length&&"string"==typeof(g=s[d++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Uy(s){return 4===s.type&&s.value!==Ly}function Du(s,o,c){return o===(4!==s.type||c?s.value:Ly)}function By(s,o,c){let d=4;const h=s.attrs||[],g=function Iw(s){for(let o=0;o<s.length;o++)if(wp(s[o]))return o;return s.length}(h);let _=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!_)if(4&d){if(d=2|1&d,""!==C&&!Du(s,C,c)||""===C&&1===o.length){if(Ks(d))return!1;_=!0}}else{const T=8&d?C:o[++b];if(8&d&&null!==s.attrs){if(!Vy(s.attrs,T,c)){if(Ks(d))return!1;_=!0}continue}const V=Cw(8&d?"class":C,h,Uy(s),c);if(-1===V){if(Ks(d))return!1;_=!0;continue}if(""!==T){let H;H=V>g?"":h[V+1].toLowerCase();const oe=8&d?H:null;if(oe&&-1!==bw(oe,T,0)||2&d&&T!==H){if(Ks(d))return!1;_=!0}}}}else{if(!_&&!Ks(d)&&!Ks(C))return!1;if(_&&Ks(C))continue;_=!1,d=C|1&d}}return Ks(d)||_}function Ks(s){return 0==(1&s)}function Cw(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function Dw(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Vh(s,o,c=!1){for(let d=0;d<o.length;d++)if(By(s,o[d],c))return!0;return!1}function wD(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Tw(s,o){return s?":not("+o.trim()+")":o}function ED(s){let o=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let _=s[c];if("string"==typeof _)if(2&d){const b=s[++c];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+_:4&d&&(h+=" "+_);else""!==h&&!Ks(_)&&(o+=Tw(g,h),h=""),d=_,g=g||!Ks(d);c++}return""!==h&&(o+=Tw(g,h)),o}const en={};function Sw(s){Aw(O(),D(),Ii()+s,!1)}function Aw(s,o,c,d){if(!d)if(3==(3&o[Yt])){const g=s.preOrderCheckHooks;null!==g&&qd(o,g,c)}else{const g=s.preOrderHooks;null!==g&&mp(o,g,0,c)}po(c)}function Ow(s,o=null,c=null,d){const h=jy(s,o,c,d);return h.resolveInjectorInitializers(),h}function jy(s,o=null,c=null,d,h=new Set){const g=[c||Q,Rh(s)];return d=d||("object"==typeof s?void 0:Ce(s)),new uw(g,o||ng(),d||null,h)}let Tu=(()=>{class s{static create(c,d){if(Array.isArray(c))return Ow({name:""},d,c,"");{const h=c.name??"";return Ow({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=Gn,s.NULL=new aw,s.\u0275prov=wt({token:s,providedIn:"any",factory:()=>zt(Xc)}),s.__NG_ELEMENT_ID__=-1,s})();function Mu(s,o=Et.Default){const c=D();return null===c?zt(s,o):bp(De(),c,ee(s),o)}function Nw(){throw new Error("invalid")}function Fw(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const _=s.data[g];hp(c[d]),_.contentQueries(2,o[g],g)}}}function cg(s,o,c,d,h,g,_,b,C,T,k){const V=o.blueprint.slice();return V[or]=h,V[Yt]=76|d,(null!==k||s&&1024&s[Yt])&&(V[Yt]|=1024),Mc(V),V[Bn]=V[_e]=s,V[Wn]=c,V[Zi]=_||s&&s[Zi],V[Qt]=b||s&&s[Qt],V[ws]=C||s&&s[ws]||null,V[Ls]=T||s&&s[Ls]||null,V[br]=g,V[An]=function Vp(){return Ss++}(),V[fr]=k,V[tt]=2==o.type?s[tt]:V,V}function $h(s,o,c,d,h){let g=s.data[o];if(null===g)g=function Hh(s,o,c,d,h){const g=Ke(),_=En(),C=s.data[o]=function $D(s,o,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(_?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(s,o,c,d,h),function us(){return Vt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const _=function pt(){const s=Vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return pn(g,!0),g}function cc(s,o,c,d){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Ou(s,o,c){Kl(o);try{const d=s.viewQuery;null!==d&&e_(1,d,c);const h=s.template;null!==h&&bn(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Fw(s,o),s.staticViewQueries&&e_(2,s.viewQuery,c);const g=s.components;null!==g&&function Lw(s,o){for(let c=0;c<o.length;c++)Jy(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[Yt]&=-5,pp()}}function xu(s,o,c,d){const h=o[Yt];if(128!=(128&h)){Kl(o);try{Mc(o),function Ds(s){return Vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&bn(s,o,c,2,d);const _=3==(3&h);if(_){const T=s.preOrderCheckHooks;null!==T&&qd(o,T,null)}else{const T=s.preOrderHooks;null!==T&&mp(o,T,0,null),yp(o,0)}if(function ZD(s){for(let o=ia(s);null!==o;o=sa(o)){if(!o[Go])continue;const c=o[bs];for(let d=0;d<c.length;d++){const h=c[d];512&h[Yt]||Yo(h[Bn],1),h[Yt]|=512}}}(o),function qD(s){for(let o=ia(s);null!==o;o=sa(o))for(let c=Lr;c<o.length;c++){const d=o[c],h=d[at];uo(d)&&xu(h,d,h.template,d[Wn])}}(o),null!==s.contentQueries&&Fw(s,o),_){const T=s.contentCheckHooks;null!==T&&qd(o,T)}else{const T=s.contentHooks;null!==T&&mp(o,T,1),yp(o,1)}!function VD(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)po(~h);else{const g=h,_=c[++d],b=c[++d];P0(_,g),b(2,o[g])}}}finally{po(-1)}}(s,o);const b=s.components;null!==b&&function UD(s,o){for(let c=0;c<o.length;c++)Ti(s,o[c])}(o,b);const C=s.viewQuery;if(null!==C&&e_(2,C,d),_){const T=s.viewCheckHooks;null!==T&&qd(o,T)}else{const T=s.viewHooks;null!==T&&mp(o,T,2),yp(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Yt]&=-41,512&o[Yt]&&(o[Yt]&=-513,Yo(o[Bn],-1))}finally{pp()}}}function bn(s,o,c,d,h){const g=Ii(),_=2&d;try{po(-1),_&&o.length>on&&Aw(s,o,on,!1),ar(_?2:0,h),c(d,h)}finally{po(g),ar(_?3:1,h)}}function ku(s,o,c){if(Wo(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,c[g],g)}}}function la(s,o,c){Wl()&&(function Ln(s,o,c,d){const h=c.directiveStart,g=c.directiveEnd;Vs(c)&&function GD(s,o,c){const d=Or(o,s),h=BD(c),g=s[Zi],_=nl(s,cg(s,h,null,c.onPush?32:16,d,o,g,g.createRenderer(d,c),null,null,null));s[o.index]=_}(o,c,s.data[h+c.componentOffset]),s.firstCreatePass||eu(c,o),ni(d,o);const _=c.initialInputs;for(let b=h;b<g;b++){const C=s.data[b],T=Hs(o,s,b,c);ni(T,o),null!==_&&jw(0,b-h,T,C,0,_),Wr(C)&&(Xr(c.index,o)[Wn]=Hs(o,s,b,c))}}(s,o,c,Or(c,o)),64==(64&c.flags)&&da(s,o,c))}function zh(s,o,c=Or){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const _=d[g+1],b=-1===_?c(o,s):s[_];s[h++]=b}}}function BD(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Wy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Wy(s,o,c,d,h,g,_,b,C,T){const k=on+d,V=k+h,H=function qy(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:en);return c}(k,V),oe="function"==typeof T?T():T;return H[at]={type:s,blueprint:H,template:c,queries:null,viewQuery:b,declTNode:o,data:H.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:oe,incompleteFirstPass:!1}}function jD(s,o,c,d){const h=Hw(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&zw(s).push(d,h.length-1))}function Vw(s,o,c,d){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const g=s[h];null===d?HD(c,o,h,g):d.hasOwnProperty(h)&&HD(c,o,d[h],g)}return c}function HD(s,o,c,d){s.hasOwnProperty(c)?s[c].push(o,d):s[c]=[o,d]}function Os(s,o,c,d,h,g,_,b){const C=Or(o,c);let k,T=o.inputs;!b&&null!=T&&(k=T[d])?(Fu(s,c,k,d,h),Vs(o)&&function ax(s,o){const c=Xr(o,s);16&c[Yt]||(c[Yt]|=32)}(c,o.index)):3&o.type&&(d=function ox(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=_?_(h,o.value||"",d):h,g.setProperty(C,d,h))}function Uw(s,o,c,d){if(Wl()){const h=null===d?null:{"":-1},g=function Bw(s,o){const c=s.directiveRegistry;let d=null,h=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];if(Vh(o,_.selectors,!1))if(d||(d=[]),Wr(_))if(null!==_.findHostDirectiveDefs){const b=[];h=h||new Map,_.findHostDirectiveDefs(_,b,h),d.unshift(...b,_),Ky(s,o,b.length)}else d.unshift(_),Ky(s,o,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,d,h),d.push(_)}return null===d?null:[d,h]}(s,c);let _,b;null===g?_=b=null:[_,b]=g,null!==_&&Oe(s,o,c,_,h,b),h&&function jr(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new we(-301,!1);d.push(o[h],g)}}}(c,d,h)}c.mergedAttrs=Xo(c.mergedAttrs,c.attrs)}function Oe(s,o,c,d,h,g){for(let T=0;T<d.length;T++)Vc(eu(c,o),s,d[T].type);!function ug(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}(c,s.data.length,d.length);for(let T=0;T<d.length;T++){const k=d[T];k.providersResolver&&k.providersResolver(k)}let _=!1,b=!1,C=cc(s,o,d.length,null);for(let T=0;T<d.length;T++){const k=d[T];c.mergedAttrs=Xo(c.mergedAttrs,k.hostAttrs),Yy(s,c,o,C,k),zD(C,k,h),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const V=k.type.prototype;!_&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(c.index),_=!0),!b&&(V.ngOnChanges||V.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(c.index),b=!0),C++}!function sx(s,o,c){const h=o.directiveEnd,g=s.data,_=o.attrs,b=[];let C=null,T=null;for(let k=o.directiveStart;k<h;k++){const V=g[k],H=c?c.get(V):null,Ae=H?H.outputs:null;C=Vw(V.inputs,k,C,H?H.inputs:null),T=Vw(V.outputs,k,T,Ae);const Qe=null===C||null===_||Uy(o)?null:WD(C,k,_);b.push(Qe)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=b,o.inputs=C,o.outputs=T}(s,c,g)}function da(s,o,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,_=function R0(){return Vt.lFrame.currentDirectiveIndex}();try{po(g);for(let b=d;b<h;b++){const C=s.data[b],T=o[b];Oc(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Zy(C,T)}}finally{po(-1),Oc(_)}}function Zy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ky(s,o,c){o.componentOffset=c,(s.components??(s.components=[])).push(o.index)}function zD(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Wr(o)&&(c[""]=s)}}function Yy(s,o,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=Yi(h.type)),_=new Qo(g,Wr(h),Mu);s.blueprint[d]=_,c[d]=_,function ua(s,o,c,d,h){const g=h.hostBindings;if(g){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const b=~o.index;(function lg(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(_)!=b&&_.push(b),_.push(c,d,g)}}(s,o,d,cc(s,c,h.hostVars,en),h)}function Oo(s,o,c,d,h,g){const _=Or(s,o);!function Qy(s,o,c,d,h,g,_){if(null==g)s.removeAttribute(o,h,c);else{const b=null==_?$e(g):_(g,d||"",h);s.setAttribute(o,h,b,c)}}(o[Qt],_,g,s.value,c,d,h)}function jw(s,o,c,d,h,g){const _=g[o];if(null!==_){const b=d.setInput;for(let C=0;C<_.length;){const T=_[C++],k=_[C++],V=_[C++];null!==b?d.setInput(c,V,T,k):c[k]=V}}}function WD(s,o,c){let d=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const _=s[g];for(let b=0;b<_.length;b+=2)if(_[b]===o){d.push(g,_[b+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function $w(s,o,c,d){return[s,!0,!1,o,null,0,d,c,null,null]}function Ti(s,o){const c=Xr(o,s);if(uo(c)){const d=c[at];48&c[Yt]?xu(d,c,d.template,c[Wn]):c[Pi]>0&&Pu(c)}}function Pu(s){for(let d=ia(s);null!==d;d=sa(d))for(let h=Lr;h<d.length;h++){const g=d[h];if(uo(g))if(512&g[Yt]){const _=g[at];xu(_,g,_.template,g[Wn])}else g[Pi]>0&&Pu(g)}const c=s[at].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Xr(c[d],s);uo(h)&&h[Pi]>0&&Pu(h)}}function Jy(s,o){const c=Xr(o,s),d=c[at];(function Xy(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Ou(d,c,c[Wn])}function nl(s,o){return s[j]?s[te][_n]=o:s[j]=o,s[te]=o,o}function rl(s){for(;s;){s[Yt]|=32;const o=uu(s);if(cs(s)&&!o)return s;s=o}return null}function Ru(s,o,c,d=!0){const h=o[Zi];h.begin&&h.begin();try{xu(s,o,s.template,c)}catch(_){throw d&&t_(o,_),_}finally{h.end&&h.end()}}function e_(s,o,c){hp(0),o(s,c)}function Hw(s){return s[ii]||(s[ii]=[])}function zw(s){return s.cleanup||(s.cleanup=[])}function t_(s,o){const c=s[Ls],d=c?c.get(Fh,null):null;d&&d.handleError(o)}function Fu(s,o,c,d,h){for(let g=0;g<c.length;){const _=c[g++],b=c[g++],C=o[_],T=s.data[_];null!==T.setInput?T.setInput(C,h,d,b):C[b]=h}}function dg(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?g=b:1==g?h=Ie(h,b):2==g&&(d=Ie(d,b+": "+o[++_]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function hg(s,o,c,d,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(pr(g)),Ci(g))for(let b=Lr;b<g.length;b++){const C=g[b],T=C[at].firstChild;null!==T&&hg(C[at],C,T,d)}const _=c.type;if(8&_)hg(s,o,c.child,d);else if(32&_){const b=Ws(c,o);let C;for(;C=b();)d.push(C)}else if(16&_){const b=sc(o,c);if(Array.isArray(b))d.push(...b);else{const C=uu(o[tt]);hg(C[at],C,b,d,!0)}}c=h?c.projectionNext:c.next}return d}class Gh{get rootNodes(){const o=this._lView,c=o[at];return hg(c,o,c.firstChild,[])}constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(o){this._lView[Wn]=o}get destroyed(){return 128==(128&this._lView[Yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Bn];if(Ci(o)){const c=o[Es],d=c?c.indexOf(this):-1;d>-1&&(S(o,d),sh(c,d))}this._attachedToViewContainer=!1}R(this._lView[at],this._lView)}onDestroy(o){jD(this._lView[at],this._lView,null,o)}markForCheck(){rl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yt]&=-65}reattach(){this._lView[Yt]|=64}detectChanges(){Ru(this._lView[at],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function du(s,o){Dh(s,o,o[Qt],2,null,null)}(this._lView[at],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class YD extends Gh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Ru(o[at],o,o[Wn],!1)}checkNoChanges(){}get context(){return null}}class n_ extends Cu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Dt(o);return new Lu(c,this.ngModule)}}function fg(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class r_{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){d=er(d);const h=this.injector.get(o,ig,d);return h!==ig||c===ig?h:this.parentInjector.get(o,c,d)}}class Lu extends hw{get inputs(){return fg(this.componentDef.inputs)}get outputs(){return fg(this.componentDef.outputs)}constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function bD(s){return s.map(ED).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}create(o,c,d,h){let g=(h=h||this.ngModule)instanceof el?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new r_(o,g):o,b=_.get(Ry,null);if(null===b)throw new we(407,!1);const C=_.get(fD,null),T=b.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",V=d?function ix(s,o,c){return s.selectRootElement(o,c===N.ShadowDom)}(T,d,this.componentDef.encapsulation):bh(T,k,function Gw(s){const o=s.toLowerCase();return"svg"===o?Ko:"math"===o?"math":null}(k)),H=this.componentDef.onPush?288:272,oe=Wy(0,null,null,1,0,null,null,null,null,null),Ae=cg(null,oe,null,H,null,null,b,T,C,_,null);let Qe,ut;Kl(Ae);try{const Tt=this.componentDef;let Bt,Ge=null;Tt.findHostDirectiveDefs?(Bt=[],Ge=new Map,Tt.findHostDirectiveDefs(Tt,Bt,Ge),Bt.push(Tt)):Bt=[Tt];const hn=function i_(s,o){const c=s[at],d=on;return s[d]=o,$h(c,d,2,"#host",null)}(Ae,V),mr=function s_(s,o,c,d,h,g,_,b){const C=h[at];!function QD(s,o,c,d){for(const h of s)o.mergedAttrs=Xo(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(dg(o,o.mergedAttrs,!0),null!==c&&Sh(d,c,o))}(d,s,o,_);const T=g.createRenderer(o,c),k=cg(h,BD(c),null,c.onPush?32:16,h[s.index],s,g,T,b||null,null,null);return C.firstCreatePass&&Ky(C,s,d.length-1),nl(h,k),h[s.index]=k}(hn,V,Tt,Bt,Ae,b,T);ut=Ac(oe,on),V&&function a_(s,o,c,d){if(d)Ql(s,c,["ng-version",mw.full]);else{const{attrs:h,classes:g}=function CD(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&c.push(g);else{if(!Ks(h))break;h=g}d++}return{attrs:o,classes:c}}(o.selectors[0]);h&&Ql(s,c,h),g&&g.length>0&&oc(s,c,g.join(" "))}}(T,Tt,V,d),void 0!==c&&function c_(s,o,c){const d=s.projection=[];for(let h=0;h<o.length;h++){const g=c[h];d.push(null!=g?Array.from(g):null)}}(ut,this.ngContentSelectors,c),Qe=function o_(s,o,c,d,h,g){const _=De(),b=h[at],C=Or(_,h);Oe(b,h,_,c,null,d);for(let k=0;k<c.length;k++)ni(Hs(h,b,_.directiveStart+k,_),h);da(b,h,_),C&&ni(C,h);const T=Hs(h,b,_.directiveStart+_.componentOffset,_);if(s[Wn]=h[Wn]=T,null!==g)for(const k of g)k(T,o);return ku(b,_,s),T}(mr,Tt,Bt,Ge,Ae,[l_]),Ou(oe,Ae,null)}finally{pp()}return new Wh(this.componentType,Qe,aa(ut,Ae),Ae,ut)}}class Wh extends lD{constructor(o,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new YD(h),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;Fu(g[at],g,h,o,c),rl(Xr(this._tNode.index,g))}}get injector(){return new Ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function l_(){const s=De();Wd(D()[at],s)}function u_(s){let o=function Ww(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Wr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);h=o.\u0275dir}if(h){if(c){d.push(h);const _=s;_.inputs=Vu(s.inputs),_.declaredInputs=Vu(s.declaredInputs),_.outputs=Vu(s.outputs);const b=h.hostBindings;b&&h_(s,b);const C=h.viewQuery,T=h.contentQueries;if(C&&d_(s,C),T&&XD(s,T),Ee(s.inputs,h.inputs),Ee(s.declaredInputs,h.declaredInputs),Ee(s.outputs,h.outputs),Wr(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(s),b===u_&&(c=!1)}}o=Object.getPrototypeOf(o)}!function JD(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Xo(h.hostAttrs,c=Xo(c,h.hostAttrs))}}(d)}function Vu(s){return s===x?{}:s===Q?[]:s}function d_(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function XD(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{o(d,h,g),c(d,h,g)}:o}function h_(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}function pg(s){return!!m_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function m_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Si(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function y_(s,o,c,d){const h=D();return Si(h,$i(),o)&&(O(),Oo(lr(),h,s,o,c,d)),y_}function yg(s,o,c,d,h,g,_,b){const C=D(),T=O(),k=s+on,V=T.firstCreatePass?function fx(s,o,c,d,h,g,_,b,C){const T=o.consts,k=$h(o,s,4,_||null,Qi(T,b));Uw(o,c,k,Qi(T,C)),Wd(o,k);const V=k.tView=Wy(2,k,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,k),V.queries=o.queries.embeddedTView(k)),k}(k,T,C,o,c,d,h,g,_):T.data[k];pn(V,!1);const H=C[Qt].createComment("");ic(T,C,H,V),ni(H,C),nl(C,C[k]=$w(H,C,H,V)),Us(V)&&la(T,C,V),null!=_&&zh(C,V,b)}function Jw(s){return function lo(s,o){return s[o]}(function Fn(){return Vt.lFrame.contextLView}(),on+s)}function Xw(s,o,c){const d=D();return Si(d,$i(),o)&&Os(O(),lr(),d,s,o,d[Qt],c,!1),Xw}function w_(s,o,c,d,h){const _=h?"class":"style";Fu(s,c,o.inputs[_],_,d)}function E_(s,o,c,d){const h=D(),g=O(),_=on+s,b=h[Qt],C=g.firstCreatePass?function aT(s,o,c,d,h,g){const _=o.consts,C=$h(o,s,2,d,Qi(_,h));return Uw(o,c,C,Qi(_,g)),null!==C.attrs&&dg(C,C.attrs,!1),null!==C.mergedAttrs&&dg(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(_,g,h,o,c,d):g.data[_],T=h[_]=bh(b,o,function L0(){return Vt.lFrame.currentNamespace}()),k=Us(C);return pn(C,!0),Sh(b,T,C),32!=(32&C.flags)&&ic(g,h,T,C),0===function Gl(){return Vt.lFrame.elementDepthCount}()&&ni(T,h),function Bd(){Vt.lFrame.elementDepthCount++}(),k&&(la(g,h,C),ku(g,C,h)),null!==d&&zh(h,C),E_}function b_(){let s=De();En()?$n():(s=s.parent,pn(s,!1));const o=s;!function Na(){Vt.lFrame.elementDepthCount--}();const c=O();return c.firstCreatePass&&(Wd(c,s),Wo(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Jo(s){return 0!=(8&s.flags)}(o)&&w_(c,o,D(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Zd(s){return 0!=(16&s.flags)}(o)&&w_(c,o,D(),o.stylesWithoutHost,!1),b_}function C_(s,o,c,d){return E_(s,o,c,d),b_(),C_}function I_(s,o,c){const d=D(),h=O(),g=s+on,_=h.firstCreatePass?function gx(s,o,c,d,h){const g=o.consts,_=Qi(g,d),b=$h(o,s,8,"ng-container",_);return null!==_&&dg(b,_,!0),Uw(o,c,b,Qi(g,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(g,h,d,o,c):h.data[g];pn(_,!0);const b=d[g]=d[Qt].createComment("");return ic(h,d,b,_),ni(b,d),Us(_)&&(la(h,d,_),ku(h,_,d)),null!=c&&zh(d,_),I_}function D_(){let s=De();const o=O();return En()?$n():(s=s.parent,pn(s,!1)),o.firstCreatePass&&(Wd(o,s),Wo(s)&&o.queries.elementEnd(s)),D_}function eE(s,o,c){return I_(s,o,c),D_(),eE}function cT(){return D()}function _g(s){return!!s&&"function"==typeof s.then}function T_(s){return!!s&&"function"==typeof s.subscribe}const Yh=T_;function vg(s,o,c,d){const h=D(),g=O(),_=De();return function tE(s,o,c,d,h,g,_){const b=Us(d),T=s.firstCreatePass&&zw(s),k=o[Wn],V=Hw(o);let H=!0;if(3&d.type||_){const Qe=Or(d,o),ut=_?_(Qe):Qe,Tt=V.length,Bt=_?hn=>_(pr(hn[d.index])):d.index;let Ge=null;if(!_&&b&&(Ge=function S_(s,o,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===c&&h[g+1]===d){const b=o[ii],C=h[g+2];return b.length>C?b[C]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,d.index)),null!==Ge)(Ge.__ngLastListenerFn__||Ge).__ngNextListenerFn__=g,Ge.__ngLastListenerFn__=g,H=!1;else{g=rE(d,o,k,g,!1);const hn=c.listen(ut,h,g);V.push(g,hn),T&&T.push(h,Bt,Tt,Tt+1)}}else g=rE(d,o,k,g,!1);const oe=d.outputs;let Ae;if(H&&null!==oe&&(Ae=oe[h])){const Qe=Ae.length;if(Qe)for(let ut=0;ut<Qe;ut+=2){const mr=o[Ae[ut]][Ae[ut+1]].subscribe(g),ur=V.length;V.push(g,mr),T&&T.push(h,d.index,ur,-(ur+1))}}}(g,h,h[Qt],_,s,o,d),vg}function nE(s,o,c,d){try{return ar(6,o,c),!1!==c(d)}catch(h){return t_(s,h),!1}finally{ar(7,o,c)}}function rE(s,o,c,d,h){return function g(_){if(_===Function)return d;rl(s.componentOffset>-1?Xr(s.index,o):o);let C=nE(o,c,d,_),T=g.__ngNextListenerFn__;for(;T;)C=nE(o,c,T,_)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function iE(s=1){return function Gd(s){return(Vt.lFrame.contextLView=function N0(s,o){for(;s>0;)o=o[_e],s--;return o}(s,Vt.lFrame.contextLView))[Wn]}(s)}function uT(s,o){let c=null;const d=function sg(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(!(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?Vh(s,g,!0):wD(d,g))return h}else c=h}return c}function sE(s){const o=D()[tt][br];if(!o.projection){const d=o.projection=Ha(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const _=s?uT(g,s):0;null!==_&&(h[_]?h[_].projectionNext=g:d[_]=g,h[_]=g),g=g.next}}}function dT(s,o=0,c){const d=D(),h=O(),g=$h(h,on+s,16,null,c||null);null===g.projection&&(g.projection=o),$n(),32!=(32&g.flags)&&function G0(s,o,c){fy(o[Qt],0,o,c,ot(s,c,o),hu(c.parent||o[br],c,o))}(h,d,g)}function A_(s,o){return s<<17|o<<2}function ul(s){return s>>17&32767}function aE(s){return 2|s}function $u(s){return(131068&s)>>2}function cE(s,o){return-131069&s|o<<2}function lE(s){return 1|s}function ET(s,o,c,d,h){const g=s[c+1],_=null===o;let b=d?ul(g):$u(g),C=!1;for(;0!==b&&(!1===C||_);){const k=s[b+1];Ex(s[b],o)&&(C=!0,s[b+1]=d?lE(k):aE(k)),b=d?ul(k):$u(k)}C&&(s[c+1]=d?aE(g):lE(g))}function Ex(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ds(s,o)>=0}function dE(s,o,c){return Po(s,o,c,!1),dE}function hE(s,o){return Po(s,o,null,!0),hE}function Po(s,o,c,d){const h=D(),g=O(),_=function Vr(s){const o=Vt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}(2);g.firstUpdatePass&&function AT(s,o,c,d){const h=s.data;if(null===h[c+1]){const g=h[Ii()],_=function ST(s,o){return o>=s.expandoStartIndex}(s,c);(function pE(s,o){return 0!=(s.flags&(o?8:16))})(g,d)&&null===o&&!_&&(o=!1),o=function Ox(s,o,c,d){const h=function Zl(s){const o=Vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=gt(c=gs(null,s,o,c,d),o.attrs,d),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(c=gs(h,s,o,c,d),null===g){let C=function xx(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==$u(d))return s[ul(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=gs(null,s,o,C[1],d),C=gt(C,o.attrs,d),function kx(s,o,c,d){s[ul(c?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else g=function MT(s,o,c){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=gt(d,s[g].hostAttrs,c);return gt(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,d),function vx(s,o,c,d,h,g){let _=g?o.classBindings:o.styleBindings,b=ul(_),C=$u(_);s[d]=c;let k,T=!1;if(Array.isArray(c)?(k=c[1],(null===k||ds(c,k)>0)&&(T=!0)):k=c,h)if(0!==C){const H=ul(s[b+1]);s[d+1]=A_(H,b),0!==H&&(s[H+1]=cE(s[H+1],d)),s[b+1]=function yx(s,o){return 131071&s|o<<17}(s[b+1],d)}else s[d+1]=A_(b,0),0!==b&&(s[b+1]=cE(s[b+1],d)),b=d;else s[d+1]=A_(C,0),0===b?b=d:s[C+1]=cE(s[C+1],d),C=d;T&&(s[d+1]=aE(s[d+1])),ET(s,k,d,!0),ET(s,k,d,!1),function wx(s,o,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&ds(g,o)>=0&&(c[d+1]=lE(c[d+1]))}(o,k,s,d,g),_=A_(b,C),g?o.classBindings=_:o.styleBindings=_}(h,g,o,c,_,d)}}(g,s,_,d),o!==en&&Si(h,_,o)&&function Hu(s,o,c,d,h,g,_,b){if(!(3&o.type))return;const C=s.data,T=C[b+1],k=function _x(s){return 1==(1&s)}(T)?fE(C,o,c,h,$u(T),_):void 0;zu(k)||(zu(g)||function mx(s){return 2==(2&s)}(T)&&(g=fE(C,null,c,h,b,_)),function So(s,o,c,d,h){if(o)h?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Ut.DashCase;null==h?s.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Ut.Important),s.setStyle(c,d,h,g))}}(d,_,js(Ii(),c),h,g))}(g,g.data[Ii()],h,h[Qt],s,h[_+1]=function OT(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ce(Ao(s)))),s}(o,c),d,_)}function gs(s,o,c,d,h){let g=null;const _=c.directiveEnd;let b=c.directiveStylingLast;for(-1===b?b=c.directiveStart:b++;b<_&&(g=o[b],d=gt(d,g.hostAttrs,h),g!==s);)b++;return null!==s&&(c.directiveStylingLast=b),d}function gt(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Xi(s,_,!!c||o[++g]))}return void 0===s?null:s}function fE(s,o,c,d,h,g){const _=null===o;let b;for(;h>0;){const C=s[h],T=Array.isArray(C),k=T?C[1]:C,V=null===k;let H=c[h+1];H===en&&(H=V?Q:void 0);let oe=V?Mn(H,d):k===d?H:void 0;if(T&&!zu(oe)&&(oe=Mn(C,d)),zu(oe)&&(b=oe,_))return b;const Ae=s[h+1];h=_?ul(Ae):$u(Ae)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(b=Mn(C,d))}return b}function zu(s){return void 0!==s}function gE(s,o=""){const c=D(),d=O(),h=s+on,g=d.firstCreatePass?$h(d,h,1,o,null):d.data[h],_=c[h]=function rc(s,o){return s.createText(o)}(c[Qt],o);ic(d,c,_,g),pn(g,!1)}function yi(s){return dl("",s,""),yi}function dl(s,o,c){const d=D(),h=function sl(s,o,c,d){return Si(s,$i(),c)?o+$e(c)+d:en}(d,s,o,c);return h!==en&&function xo(s,o,c){const d=js(o,s);!function Eh(s,o,c){s.setValue(o,c)}(s[Qt],d,c)}(d,Ii(),h),dl}function U_(s,o,c){const d=D();return Si(d,$i(),o)&&Os(O(),lr(),d,s,o,d[Qt],c,!0),U_}const ga=void 0;var ME=["en",[["a","p"],["AM","PM"],ga],[["AM","PM"],ga,ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ga,"{1} 'at' {0}",ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AE(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let hl={};function Xh(s){const o=function RT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Ag(o);if(c)return c;const d=o.split("-")[0];if(c=Ag(d),c)return c;if("en"===d)return ME;throw new we(701,!1)}function Sg(s){return Xh(s)[Ht.PluralCase]}function Ag(s){return s in hl||(hl[s]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[s]),hl[s]}var Ht=(()=>((Ht=Ht||{})[Ht.LocaleId=0]="LocaleId",Ht[Ht.DayPeriodsFormat=1]="DayPeriodsFormat",Ht[Ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ht[Ht.DaysFormat=3]="DaysFormat",Ht[Ht.DaysStandalone=4]="DaysStandalone",Ht[Ht.MonthsFormat=5]="MonthsFormat",Ht[Ht.MonthsStandalone=6]="MonthsStandalone",Ht[Ht.Eras=7]="Eras",Ht[Ht.FirstDayOfWeek=8]="FirstDayOfWeek",Ht[Ht.WeekendRange=9]="WeekendRange",Ht[Ht.DateFormat=10]="DateFormat",Ht[Ht.TimeFormat=11]="TimeFormat",Ht[Ht.DateTimeFormat=12]="DateTimeFormat",Ht[Ht.NumberSymbols=13]="NumberSymbols",Ht[Ht.NumberFormats=14]="NumberFormats",Ht[Ht.CurrencyCode=15]="CurrencyCode",Ht[Ht.CurrencySymbol=16]="CurrencySymbol",Ht[Ht.CurrencyName=17]="CurrencyName",Ht[Ht.Currencies=18]="Currencies",Ht[Ht.Directionality=19]="Directionality",Ht[Ht.PluralCase=20]="PluralCase",Ht[Ht.ExtraData=21]="ExtraData",Ht))();const dc="en-US";let ui=dc;function ev(s,o,c,d,h){if(s=ee(s),Array.isArray(s))for(let g=0;g<s.length;g++)ev(s[g],o,c,d,h);else{const g=O(),_=D();let b=oa(s)?s:ee(s.provide),C=Oy(s);const T=De(),k=1048575&T.providerIndexes,V=T.directiveStart,H=T.providerIndexes>>20;if(oa(s)||!s.multi){const oe=new Qo(C,h,Mu),Ae=Hg(b,o,h?k:k+H,V);-1===Ae?(Vc(eu(T,_),g,b),yl(g,s,o.length),o.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(oe),_.push(oe)):(c[Ae]=oe,_[Ae]=oe)}else{const oe=Hg(b,o,k+H,V),Ae=Hg(b,o,k,k+H),ut=Ae>=0&&c[Ae];if(h&&!ut||!h&&!(oe>=0&&c[oe])){Vc(eu(T,_),g,b);const Tt=function ZT(s,o,c,d,h){const g=new Qo(s,c,Mu);return g.multi=[],g.index=o,g.componentProviders=0,_a(g,h,d&&!c),g}(h?tb:eb,c.length,h,d,C);!h&&ut&&(c[Ae].providerFactory=Tt),yl(g,s,o.length,0),o.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(Tt),_.push(Tt)}else yl(g,s,oe>-1?oe:Ae,_a(c[h?Ae:oe],C,!h&&d));!h&&d&&ut&&c[Ae].componentProviders++}}}function yl(s,o,c,d){const h=oa(o),g=function eg(s){return!!s.useClass}(o);if(h||g){const C=(g?ee(o.useClass):o).prototype.ngOnDestroy;if(C){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=T.indexOf(c);-1===k?T.push(c,[d,C]):T[k+1].push(d,C)}else T.push(c,C)}}}function _a(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Hg(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function eb(s,o,c,d){return hc(this.multi,[])}function tb(s,o,c,d){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=Hs(c,c[at],this.providerFactory.index,d);g=b.slice(0,_),hc(h,g);for(let C=_;C<b.length;C++)g.push(b[C])}else g=[],hc(h,g);return g}function hc(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function nb(s,o=[]){return c=>{c.providersResolver=(d,h)=>function qT(s,o,c){const d=O();if(d.firstCreatePass){const h=Wr(s);ev(c,d.data,d.blueprint,h,!0),ev(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class _l{}class rb{}function ib(s,o){return new zg(s,o??null)}class zg extends _l{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new n_(this);const d=sr(o);this._bootstrapComponents=Mo(d.bootstrap),this._r3Injector=jy(o,c,[{provide:_l,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],Ce(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class pf extends rb{constructor(o){super(),this.moduleType=o}create(o){return new zg(this.moduleType,o)}}class sb extends _l{constructor(o,c,d){super(),this.componentFactoryResolver=new n_(this),this.instance=null;const h=new uw([...o,{provide:_l,useValue:this},{provide:Cu,useValue:this.componentFactoryResolver}],c||ng(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Gg(s,o,c=null){return new sb(s,o,c).injector}let tv=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=wu(0,c.type),h=d.length>0?Gg([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=wt({token:s,providedIn:"environment",factory:()=>new s(zt(el))}),s})();function ob(s){s.getStandaloneInjector=o=>o.get(tv).getOrCreateStandaloneInjector(s)}function sv(s,o,c,d,h){return function wf(s,o,c,d,h,g,_){const b=o+c;return function uc(s,o,c,d){const h=Si(s,o,c);return Si(s,o+1,d)||h}(s,b,h,g)?function ko(s,o,c){return s[o]=c}(s,b+2,_?d.call(_,h,g):d(h,g)):function fc(s,o){const c=s[o];return c===en?void 0:c}(s,b+2)}(D(),function cr(){const s=Vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,c,d,h)}function Zg(s){return o=>{setTimeout(s,void 0,o)}}const Qs=class Cb extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let h=o,g=c||(()=>null),_=d;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),g=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(g=Zg(g),h&&(h=Zg(h)),_&&(_=Zg(_)));const b=super.subscribe({next:h,error:g,complete:_});return o instanceof B.w0&&o.add(b),b}};function Ib(){return this._results[Symbol.iterator]()}class td{get changes(){return this._changes||(this._changes=new Qs)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=td.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Ib)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=function Hi(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ry(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mi=(()=>{class s{}return s.__NG_ELEMENT_ID__=nd,s})();const Db=Mi,Tb=class extends Db{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tView,h=cg(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);h[un]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[sn];return null!==_&&(h[sn]=_.createEmbeddedView(d)),Ou(d,h,o),new Gh(h)}};function nd(){return Kg(De(),D())}function Kg(s,o){return 4&s.type?new Tb(o,s,aa(s,o)):null}let ts=(()=>{class s{}return s.__NG_ELEMENT_ID__=dv,s})();function dv(){return hv(De(),D())}const Jn=ts,Sb=class extends Jn{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Ua(this._hostTNode,this._hostLView)}get parentInjector(){const o=Cr(this._hostTNode,this._hostLView);if(Rc(o)){const c=Fc(o,this._hostLView),d=Nc(o);return new Ua(c[at].data[d+8],c)}return new Ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=Yg(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-Lr}createEmbeddedView(o,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const _=o.createEmbeddedView(c||{},g);return this.insert(_,h),_}createComponent(o,c,d,h,g){const _=o&&!function iu(s){return"function"==typeof s}(o);let b;if(_)b=c;else{const V=c||{};b=V.index,d=V.injector,h=V.projectableNodes,g=V.environmentInjector||V.ngModuleRef}const C=_?o:new Lu(Dt(o)),T=d||this.parentInjector;if(!g&&null==C.ngModule){const H=(_?T:this.parentInjector).get(el,null);H&&(g=H)}const k=C.create(T,h,void 0,g);return this.insert(k.hostView,b),k}insert(o,c){const d=o._lView,h=d[at];if(function $s(s){return Ci(s[Bn])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const V=d[Bn],H=new Sb(V,V[br],V[Bn]);H.detach(H.indexOf(o))}}const g=this._adjustIndex(c),_=this._lContainer;!function p(s,o,c,d){const h=Lr+d,g=c.length;d>0&&(c[h-1][_n]=o),d<g-Lr?(o[_n]=c[h],ih(c,Lr+d,o)):(c.push(o),o[_n]=null),o[Bn]=c;const _=o[un];null!==_&&c!==_&&function m(s,o){const c=s[bs];o[tt]!==o[Bn][Bn][tt]&&(s[Go]=!0),null===c?s[bs]=[o]:c.push(o)}(_,o);const b=o[sn];null!==b&&b.insertView(s),o[Yt]|=64}(h,d,_,g);const b=To(g,_),C=d[Qt],T=fs(C,_[so]);return null!==T&&function dy(s,o,c,d,h,g){d[or]=h,d[br]=o,Dh(s,d,c,1,h,g)}(h,_[br],C,d,T,b),o.attachToViewContainerRef(),ih(ks(_),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=Yg(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=S(this._lContainer,c);d&&(sh(ks(this._lContainer),c),R(d[at],d))}detach(o){const c=this._adjustIndex(o,-1),d=S(this._lContainer,c);return d&&null!=sh(ks(this._lContainer),c)?new Gh(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function Yg(s){return s[Es]}function ks(s){return s[Es]||(s[Es]=[])}function hv(s,o){let c;const d=o[s.index];if(Ci(d))c=d;else{let h;if(8&s.type)h=pr(d);else{const g=o[Qt];h=g.createComment("");const _=Or(s,o);an(g,fs(g,_),h,function Ch(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=c=$w(d,o,h,s),nl(o,c)}return new Sb(c,s,o)}class Ef{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ef(this.queryList)}setDirty(){this.queryList.setDirty()}}class pc{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const _=c.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new pc(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==Pb(o,c).matches&&this.queries[c].setDirty()}}class Qg{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class Jg{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Jg(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Js{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Js(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,c,Ps(c,g)),this.matchTNodeWithReadOption(o,c,Va(c,o,g,!1,!1))}else d===Mi?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Va(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Iu||h===ts||h===Mi&&4&c.type)this.addMatch(c.index,-2);else{const g=Va(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Ps(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function Xg(s,o,c,d){return-1===c?function Oi(s,o){return 11&s.type?aa(s,o):4&s.type?Kg(s,o):null}(o,s):-2===c?function em(s,o,c){return c===Iu?aa(o,s):c===Mi?Kg(o,s):c===ts?hv(o,s):void 0}(s,o,d):Hs(s,s[at],c,o)}function rd(s,o,c,d){const h=o[sn].queries[d];if(null===h.matches){const g=s.data,_=c.matches,b=[];for(let C=0;C<_.length;C+=2){const T=_[C];b.push(T<0?null:Xg(o,g[T],_[C+1],c.metadata.read))}h.matches=b}return h.matches}function id(s,o,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const _=rd(s,o,h,c);for(let b=0;b<g.length;b+=2){const C=g[b];if(C>0)d.push(_[b/2]);else{const T=g[b+1],k=o[-C];for(let V=Lr;V<k.length;V++){const H=k[V];H[un]===H[Bn]&&id(H[at],H,T,d)}if(null!==k[bs]){const V=k[bs];for(let H=0;H<V.length;H++){const oe=V[H];id(oe[at],oe,T,d)}}}}}return d}function fv(s){const o=D(),c=O(),d=$d();hp(d+1);const h=Pb(c,d);if(s.dirty&&function Pa(s){return 4==(4&s[Yt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?id(c,o,d,[]):rd(c,o,h,d);s.reset(g,Nh),s.notifyOnChanges()}return!0}return!1}function vl(s,o,c){const d=O();d.firstCreatePass&&(xb(d,new Qg(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),Ob(d,D(),o)}function Ab(s,o,c,d){const h=O();if(h.firstCreatePass){const g=De();xb(h,new Qg(o,c,d),g.index),function kb(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}Ob(h,D(),c)}function Mb(){return function pv(s,o){return s[sn].queries[o].queryList}(D(),$d())}function Ob(s,o,c){const d=new td(4==(4&c));jD(s,o,d,d.destroy),null===o[sn]&&(o[sn]=new pc),o[sn].queries.push(new Ef(d))}function xb(s,o,c){null===s.queries&&(s.queries=new Jg),s.queries.track(new Js(o,c))}function Pb(s,o){return s.queries.getByIndex(o)}function bf(s,o){return Kg(s,o)}function If(s){return!!sr(s)}function gc(...s){}const Zb=new Dn("Application Initializer");let Lo=(()=>{class s{constructor(c){this.appInits=c,this.resolve=gc,this.reject=gc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(_g(g))c.push(g);else if(Yh(g)){const _=new Promise((b,C)=>{g.subscribe({complete:b,error:C})});c.push(_)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(zt(Zb,8))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mv=new Dn("AppId",{providedIn:"root",factory:function om(){return`${yv()}${yv()}${yv()}`}});function yv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ns=new Dn("Platform Initializer"),Sf=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kb=new Dn("AnimationModuleType");let Fi=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Af=new Dn("LocaleId",{providedIn:"root",factory:()=>Sn(Af,Et.Optional|Et.SkipSelf)||function nS(){return typeof $localize<"u"&&$localize.locale||dc}()}),Vo=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sS{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let oS=(()=>{class s{compileModuleSync(c){return new pf(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Mo(sr(c).declarations).reduce((_,b)=>{const C=Dt(b);return C&&_.push(new Lu(C)),_},[]);return new sS(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const lS=(()=>Promise.resolve(0))();function vv(s){typeof Zone>"u"?lS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Fs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qs(!1),this.onMicrotaskEmpty=new Qs(!1),this.onStable=new Qs(!1),this.onError=new Qs(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function uS(){let s=nn.requestAnimationFrame,o=nn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Jb(s){const o=()=>{!function hS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(nn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,lm(s),s.isCheckStableRunning=!0,cm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),lm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,_,b)=>{try{return Xb(s),c.invokeTask(h,g,_,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),um(s)}},onInvoke:(c,d,h,g,_,b,C)=>{try{return Xb(s),c.invoke(h,g,_,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),um(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,lm(s),cm(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new we(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,dS,gc,gc);try{return g.runTask(_,c,d)}finally{g.cancelTask(_)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const dS={};function cm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function lm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Xb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function um(s){s._nesting--,cm(s)}class wi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qs,this.onMicrotaskEmpty=new Qs,this.onStable=new Qs,this.onError=new Qs}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}const wv=new Dn(""),Ea=new Dn("");let di,eC=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,di||(function dm(s){di=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(zt(Fs),zt(ir),zt(Ea))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})(),ir=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return di?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Vn=!1;let ba=null;const Cl=new Dn("AllowMultipleToken"),Li=new Dn("PlatformDestroyListeners"),Ev=new Dn("appBootstrapListener");class mc{constructor(o,c){this.name=o,this.token=c}}function dd(s,o,c=[]){const d=`Platform: ${o}`,h=new Dn(d);return(g=[])=>{let _=hd();if(!_||_.injector.get(Cl,!1)){const b=[...c,...g,{provide:h,useValue:!0}];s?s(b):function Hr(s){if(ba&&!ba.get(Cl,!1))throw new we(400,!1);ba=s;const o=s.get(Da);(function Mf(s){const o=s.get(ns,null);o&&o.forEach(c=>c())})(s)}(function Ia(s=[],o){return Tu.create({name:o,providers:[{provide:ac,useValue:"platform"},{provide:Li,useValue:new Set([()=>ba=null])},...s]})}(b,d))}return function gS(s){const o=hd();if(!o)throw new we(401,!1);return o}()}}function hd(){return ba?.get(Da)??null}let Da=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function fd(s,o){let c;return c="noop"===s?new wi:("zone.js"===s?void 0:s)||new Fs(o),c}(d?.ngZone,function eo(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Fs,useValue:h}];return h.run(()=>{const _=Tu.create({providers:g,parent:this.injector,name:c.moduleType.name}),b=c.create(_),C=b.injector.get(Fh,null);if(!C)throw new we(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:k=>{C.handleError(k)}});b.onDestroy(()=>{pd(this._modules,b),T.unsubscribe()})}),function Ta(s,o,c){try{const d=c();return _g(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(C,h,()=>{const T=b.injector.get(Lo);return T.runInitializers(),T.donePromise.then(()=>(function _i(s){He(s,"Expected localeId to be defined"),"string"==typeof s&&(ui=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Af,dc)||dc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(c,d=[]){const h=Cv({},d);return function fS(s,o,c){const d=new pf(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(Sa);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new we(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Li,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(zt(Tu))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Cv(s,o){return Array.isArray(o)?o.reduce(Cv,s):{...s,...o}}let Sa=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new F.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new F.y(b=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),T.unsubscribe()}});this.isStable=(0,re.T)(g,_.pipe((0,ye.B)()))}bootstrap(c,d){const h=c instanceof hw;if(!this._injector.get(Lo).done){!h&&wr(c);throw new we(405,Vn)}let _;_=h?c:this._injector.get(Cu).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const b=function pS(s){return s.isBoundToModule}(_)?void 0:this._injector.get(_l),T=_.create(Tu.NULL,[],d||_.selector,b),k=T.location.nativeElement,V=T.injector.get(wv,null);return V?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),pd(this.components,T),V?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;pd(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Ev,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>pd(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new we(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(zt(Fs),zt(el),zt(Fh))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function pd(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}function Iv(){return!1}let kf=(()=>{class s{}return s.__NG_ELEMENT_ID__=tC,s})();function tC(s){return function _S(s,o,c){if(Vs(s)&&!c){const d=Xr(s.index,o);return new Gh(d,d)}return 47&s.type?new Gh(o[tt],o):null}(De(),D(),16==(16&s))}class sC{constructor(){}supports(o){return pg(o)}create(o){return new TS(o)}}const DS=(s,o)=>o;class TS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||DS}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const _=!d||c&&c.currentIndex<aC(d,h,g)?c:d,b=aC(_,h,g),C=_.currentIndex;if(_===d)h--,d=d._nextRemoved;else if(c=c._next,null==_.previousIndex)h++;else{g||(g=[]);const T=b-h,k=C-h;if(T!=k){for(let H=0;H<T;H++){const oe=H<g.length?g[H]:g[H]=0,Ae=oe+H;k<=Ae&&Ae<T&&(g[H]=oe+1)}g[_.previousIndex]=k-T}}b!==C&&o(_,b,C)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!pg(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],_=this._trackByFn(b,g),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,g,_,b)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,_,b),d=!0),c=c._next}else h=0,function nT(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,b=>{_=this._trackByFn(h,b),null!==c&&Object.is(c.trackById,_)?(d&&(c=this._verifyReinsertion(c,b,_,h)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,_,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new oC(c,d),g,h),o}_verifyReinsertion(o,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Tv),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class oC{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Tv{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new SS,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aC(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class cC{constructor(){}supports(o){return o instanceof Map||m_(o)}create(){return new AS}}class AS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||m_(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const d=new Sv(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class Sv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yc(){return new Al([new sC])}let Al=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||yc()),deps:[[s,new xt,new ra]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new we(901,!1)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:yc}),s})();function Ff(){return new fm([new cC])}let fm=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Ff()),deps:[[s,new xt,new ra]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new we(901,!1)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:Ff}),s})();const uC=dd(null,"core",[]);let Mv=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(zt(Sa))},s.\u0275mod=ne({type:s}),s.\u0275inj=yn({}),s})();function pm(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function pC(s,o){const c=Dt(s),d=o.elementInjector||ng();return new Lu(c).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},579:(Mt,Pe,L)=>{L.d(Pe,{EI:()=>W,Gb:()=>Qn,Iv:()=>Mr,Kz:()=>P,Xd:()=>Ot,lT:()=>er,xP:()=>Gr});var u=L(5861),B=L(6881),F=L(1877),re=L(2090),ye=L(4859);L(4727);const Ee="analytics",Ce="firebase_id",Ie="origin",K=6e4,q="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ee="https://www.googletagmanager.com/gtag/js",Ne=new F.Yd("@firebase/analytics"),We=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mt(Y){if(!Y.startsWith(ee)){const ae=We.create("invalid-gtag-resource",{gtagURL:Y});return Ne.warn(ae.message),""}return Y}function we(Y){return Promise.all(Y.map(ae=>ae.catch(fe=>fe)))}function Se(){return(Se=(0,u.Z)(function*(Y,ae,fe,Fe,xe,st){const nt=Fe[xe];try{if(nt)yield ae[nt];else{const Zt=(yield we(fe)).find(se=>se.measurementId===xe);Zt&&(yield ae[Zt.appId])}}catch($t){Ne.error($t)}Y("config",xe,st)})).apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(Y,ae,fe,Fe,xe){try{let st=[];if(xe&&xe.send_to){let nt=xe.send_to;Array.isArray(nt)||(nt=[nt]);const $t=yield we(fe);for(const Zt of nt){const se=$t.find(Be=>Be.measurementId===Zt),ne=se&&ae[se.appId];if(!ne){st=[];break}st.push(ne)}}0===st.length&&(st=Object.values(ae)),yield Promise.all(st),Y("event",Fe,xe||{})}catch(st){Ne.error(st)}})).apply(this,arguments)}const Pt=30,ft=new class Kt{constructor(ae={},fe=1e3){this.throttleMetadata=ae,this.intervalMillis=fe}getThrottleMetadata(ae){return this.throttleMetadata[ae]}setThrottleMetadata(ae,fe){this.throttleMetadata[ae]=fe}deleteThrottleMetadata(ae){delete this.throttleMetadata[ae]}};function ji(Y){return new Headers({Accept:"application/json","x-goog-api-key":Y})}function be(){return(be=(0,u.Z)(function*(Y){var ae;const{appId:fe,apiKey:Fe}=Y,xe={method:"GET",headers:ji(Fe)},st=q.replace("{app-id}",fe),nt=yield fetch(st,xe);if(200!==nt.status&&304!==nt.status){let $t="";try{const Zt=yield nt.json();null!==(ae=Zt.error)&&void 0!==ae&&ae.message&&($t=Zt.error.message)}catch{}throw We.create("config-fetch-failed",{httpStatus:nt.status,responseMessage:$t})}return nt.json()})).apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)(function*(Y,ae=ft,fe){const{appId:Fe,apiKey:xe,measurementId:st}=Y.options;if(!Fe)throw We.create("no-app-id");if(!xe){if(st)return{measurementId:st,appId:Fe};throw We.create("no-api-key")}const nt=ae.getThrottleMetadata(Fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$t=new Cn;return setTimeout((0,u.Z)(function*(){$t.abort()}),void 0!==fe?fe:K),Xe({appId:Fe,apiKey:xe,measurementId:st},nt,$t,ae)})).apply(this,arguments)}function Xe(Y,ae,fe){return He.apply(this,arguments)}function He(){return He=(0,u.Z)(function*(Y,{throttleEndTimeMillis:ae,backoffCount:fe},Fe,xe=ft){var st;const{appId:nt,measurementId:$t}=Y;try{yield function Re(Y,ae){return new Promise((fe,Fe)=>{const xe=Math.max(ae-Date.now(),0),st=setTimeout(fe,xe);Y.addEventListener(()=>{clearTimeout(st),Fe(We.create("fetch-throttle",{throttleEndTimeMillis:ae}))})})}(Fe,ae)}catch(Zt){if($t)return Ne.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$t} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:nt,measurementId:$t};throw Zt}try{const Zt=yield function ge(Y){return be.apply(this,arguments)}(Y);return xe.deleteThrottleMetadata(nt),Zt}catch(Zt){const se=Zt;if(!function vt(Y){if(!(Y instanceof re.ZR&&Y.customData))return!1;const ae=Number(Y.customData.httpStatus);return 429===ae||500===ae||503===ae||504===ae}(se)){if(xe.deleteThrottleMetadata(nt),$t)return Ne.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$t} provided in the "measurementId" field in the local Firebase config. [${se?.message}]`),{appId:nt,measurementId:$t};throw Zt}const ne=503===Number(null===(st=se?.customData)||void 0===st?void 0:st.httpStatus)?(0,re.$s)(fe,xe.intervalMillis,Pt):(0,re.$s)(fe,xe.intervalMillis),Be={throttleEndTimeMillis:Date.now()+ne,backoffCount:fe+1};return xe.setThrottleMetadata(nt,Be),Ne.debug(`Calling attemptFetch again in ${ne} millis`),Xe(Y,Be,Fe,xe)}}),He.apply(this,arguments)}class Cn{constructor(){this.listeners=[]}addEventListener(ae){this.listeners.push(ae)}abort(){this.listeners.forEach(ae=>ae())}}let It,Et;function jt(){return(jt=(0,u.Z)(function*(Y,ae,fe,Fe,xe){if(xe&&xe.global)Y("event",fe,Fe);else{const st=yield ae;Y("event",fe,Object.assign(Object.assign({},Fe),{send_to:st}))}})).apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(Y,ae,fe,Fe){if(Fe&&Fe.global)return Y("set",{screen_name:fe}),Promise.resolve();Y("config",yield ae,{update:!0,screen_name:fe})})).apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(Y,ae,fe,Fe){if(Fe&&Fe.global)return Y("set",{user_id:fe}),Promise.resolve();Y("config",yield ae,{update:!0,user_id:fe})})).apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(Y,ae,fe,Fe){if(Fe&&Fe.global){const xe={};for(const st of Object.keys(fe))xe[`user_properties.${st}`]=fe[st];return Y("set",xe),Promise.resolve()}Y("config",yield ae,{update:!0,user_properties:fe})})).apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(Y,ae){const fe=yield Y;window[`ga-disable-${fe}`]=!ae})).apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(){if(!(0,re.hl)())return Ne.warn(We.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(Y){return Ne.warn(We.create("indexeddb-unavailable",{errorInfo:Y?.toString()}).message),!1}return!0})).apply(this,arguments)}function nn(){return nn=(0,u.Z)(function*(Y,ae,fe,Fe,xe,st,nt){var $t;const Zt=function ke(Y){return Ue.apply(this,arguments)}(Y);Zt.then(At=>{fe[At.measurementId]=At.appId,Y.options.measurementId&&At.measurementId!==Y.options.measurementId&&Ne.warn(`The measurement ID in the local Firebase config (${Y.options.measurementId}) does not match the measurement ID fetched from the server (${At.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(At=>Ne.error(At)),ae.push(Zt);const se=function Zn(){return Kn.apply(this,arguments)}().then(At=>{if(At)return Fe.getId()}),[ne,Be]=yield Promise.all([Zt,se]);(function it(Y){const ae=window.document.getElementsByTagName("script");for(const fe of Object.values(ae))if(fe.src&&fe.src.includes(ee)&&fe.src.includes(Y))return fe;return null})(st)||function $e(Y,ae){const fe=function Le(Y,ae){let fe;return window.trustedTypes&&(fe=window.trustedTypes.createPolicy(Y,ae)),fe}("firebase-js-sdk-policy",{createScriptURL:mt}),Fe=document.createElement("script"),xe=`${ee}?l=${Y}&id=${ae}`;Fe.src=fe?fe?.createScriptURL(xe):xe,Fe.async=!0,document.head.appendChild(Fe)}(st,ne.measurementId),Et&&(xe("consent","default",Et),function Pn(Y){Et=Y}(void 0)),xe("js",new Date);const yt=null!==($t=nt?.config)&&void 0!==$t?$t:{};return yt[Ie]="firebase",yt.update=!0,null!=Be&&(yt[Ce]=Be),xe("config",ne.measurementId,yt),It&&(xe("set",It),function Qr(Y){It=Y}(void 0)),ne.measurementId}),nn.apply(this,arguments)}class ln{constructor(ae){this.app=ae}_delete(){return delete dt[this.app.options.appId],Promise.resolve()}}let dt={},Lt=[];const Gn={};let _r,Nn,Tn="dataLayer",Rn="gtag",nr=!1;function Ot(Y){if(nr)throw We.create("already-initialized");Y.dataLayerName&&(Tn=Y.dataLayerName),Y.gtagName&&(Rn=Y.gtagName)}function Wt(Y,ae,fe){!function vr(){const Y=[];if((0,re.ru)()&&Y.push("This is a browser extension environment."),(0,re.zI)()||Y.push("Cookies are not available."),Y.length>0){const ae=Y.map((Fe,xe)=>`(${xe+1}) ${Fe}`).join(" "),fe=We.create("invalid-analytics-context",{errorInfo:ae});Ne.warn(fe.message)}}();const Fe=Y.options.appId;if(!Fe)throw We.create("no-app-id");if(!Y.options.apiKey){if(!Y.options.measurementId)throw We.create("no-api-key");Ne.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Y.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dt[Fe])throw We.create("already-exists",{id:Fe});if(!nr){!function qe(Y){let ae=[];Array.isArray(window[Y])?ae=window[Y]:window[Y]=ae}(Tn);const{wrappedGtag:st,gtagCore:nt}=function ce(Y,ae,fe,Fe,xe){let st=function(...nt){window[Fe].push(arguments)};return window[xe]&&"function"==typeof window[xe]&&(st=window[xe]),window[xe]=function ze(Y,ae,fe,Fe){function st(){return st=(0,u.Z)(function*(nt,...$t){try{if("event"===nt){const[Zt,se]=$t;yield function Ve(Y,ae,fe,Fe,xe){return Je.apply(this,arguments)}(Y,ae,fe,Zt,se)}else if("config"===nt){const[Zt,se]=$t;yield function Me(Y,ae,fe,Fe,xe,st){return Se.apply(this,arguments)}(Y,ae,fe,Fe,Zt,se)}else if("consent"===nt){const[Zt]=$t;Y("consent","update",Zt)}else if("get"===nt){const[Zt,se,ne]=$t;Y("get",Zt,se,ne)}else if("set"===nt){const[Zt]=$t;Y("set",Zt)}else Y(nt,...$t)}catch(Zt){Ne.error(Zt)}}),st.apply(this,arguments)}return function xe(nt){return st.apply(this,arguments)}}(st,Y,ae,fe),{gtagCore:st,wrappedGtag:window[xe]}}(dt,Lt,Gn,Tn,Rn);Nn=st,_r=nt,nr=!0}return dt[Fe]=function Yn(Y,ae,fe,Fe,xe,st,nt){return nn.apply(this,arguments)}(Y,Lt,Gn,ae,_r,Tn,fe),new ln(Y)}function Qn(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}function er(Y,ae,fe){Y=(0,re.m9)(Y),function yn(Y,ae,fe,Fe){return In.apply(this,arguments)}(Nn,dt[Y.app.options.appId],ae,fe).catch(Fe=>Ne.error(Fe))}function Mr(Y,ae,fe){Y=(0,re.m9)(Y),function yr(Y,ae,fe,Fe){return Un.apply(this,arguments)}(Nn,dt[Y.app.options.appId],ae,fe).catch(Fe=>Ne.error(Fe))}function Gr(Y,ae,fe){Y=(0,re.m9)(Y),function Ar(Y,ae,fe,Fe){return Xn.apply(this,arguments)}(Nn,dt[Y.app.options.appId],ae,fe).catch(Fe=>Ne.error(Fe))}function W(Y,ae){Y=(0,re.m9)(Y),function ki(Y,ae){return kn.apply(this,arguments)}(dt[Y.app.options.appId],ae).catch(fe=>Ne.error(fe))}function P(Y,ae,fe,Fe){Y=(0,re.m9)(Y),function wt(Y,ae,fe,Fe,xe){return jt.apply(this,arguments)}(Nn,dt[Y.app.options.appId],ae,fe,Fe).catch(xe=>Ne.error(xe))}const x="@firebase/analytics",Q="0.10.0";!function ve(){(0,B._registerComponent)(new ye.wA(Ee,(ae,{options:fe})=>Wt(ae.getProvider("app").getImmediate(),ae.getProvider("installations-internal").getImmediate(),fe),"PUBLIC")),(0,B._registerComponent)(new ye.wA("analytics-internal",function Y(ae){try{const fe=ae.getProvider(Ee).getImmediate();return{logEvent:(Fe,xe,st)=>P(fe,Fe,xe,st)}}catch(fe){throw We.create("interop-component-reg-failed",{reason:fe})}},"PRIVATE")),(0,B.registerVersion)(x,Q),(0,B.registerVersion)(x,Q,"esm2017")}()},3942:(Mt,Pe,L)=>{L.d(Pe,{Z:()=>We});var u=L(2090),B=L(4859),F=L(6881),re=L(1877);class ye{constructor(we,Le){this._delegate=we,this.firebase=Le,(0,F._addComponent)(we,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(we,Le=F._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(we);return!qe.isInitialized()&&"EXPLICIT"===(null===($e=qe.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Le})}_removeServiceInstance(we,Le=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Le)}_addComponent(we){(0,F._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,F._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Ie(){const mt=function Ce(mt){const we={},Le={__esModule:!0,initializeApp:function Me(ze,ce={}){const it=F.initializeApp(ze,ce);if((0,u.r3)(we,it.name))return we[it.name];const Pt=new mt(it,Le);return we[it.name]=Pt,Pt},app:qe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ve(ze){const ce=ze.name,it=ce.replace("-compat","");if(F._registerComponent(ze)&&"PUBLIC"===ze.type){const Pt=(ht=qe())=>{if("function"!=typeof ht[it])throw Ee.create("invalid-app-argument",{appName:ce});return ht[it]()};void 0!==ze.serviceProps&&(0,u.ZB)(Pt,ze.serviceProps),Le[it]=Pt,mt.prototype[it]=function(...ht){return this._getService.bind(this,ce).apply(this,ze.multipleInstances?ht:[])}}return"PUBLIC"===ze.type?Le[it]:null},removeApp:function $e(ze){delete we[ze]},useAsService:function Je(ze,ce){return"serverAuth"===ce?null:ce},modularAPIs:F}};function qe(ze){if(!(0,u.r3)(we,ze=ze||F._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:ze});return we[ze]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function Se(){return Object.keys(we).map(ze=>we[ze])}}),qe.App=mt,Le}(ye);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function we(Le){(0,u.ZB)(mt,Le)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),mt}(),q=new re.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=K;!function Te(mt){(0,F.registerVersion)("@firebase/app-compat","0.2.10",mt)}()},6881:(Mt,Pe,L)=>{L.r(Pe),L.d(Pe,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>Kn,_addComponent:()=>dt,_addOrOverwriteComponent:()=>Lt,_apps:()=>nn,_clearComponents:()=>_r,_components:()=>ln,_getProvider:()=>Tn,_registerComponent:()=>Gn,_removeServiceInstance:()=>Rn,deleteApp:()=>Qn,getApp:()=>Jr,getApps:()=>zt,initializeApp:()=>Wt,onLog:()=>tr,registerVersion:()=>er,setLogLevel:()=>hr});var u=L(5861),B=L(4859),F=L(1877),re=L(2090);const ye=(se,ne)=>ne.some(Be=>se instanceof Be);let ue,Ee;const K=new WeakMap,q=new WeakMap,ee=new WeakMap,Ne=new WeakMap,Te=new WeakMap;let we={get(se,ne,Be){if(se instanceof IDBTransaction){if("done"===ne)return q.get(se);if("objectStoreNames"===ne)return se.objectStoreNames||ee.get(se);if("store"===ne)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Me(se[ne])},set:(se,ne,Be)=>(se[ne]=Be,!0),has:(se,ne)=>se instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in se};function qe(se){return"function"==typeof se?function $e(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...ne){return se.apply(Se(this),ne),Me(K.get(this))}:function(...ne){return Me(se.apply(Se(this),ne))}:function(ne,...Be){const yt=se.call(Se(this),ne,...Be);return ee.set(yt,ne.sort?ne.sort():[ne]),Me(yt)}}(se):(se instanceof IDBTransaction&&function mt(se){if(q.has(se))return;const ne=new Promise((Be,yt)=>{const At=()=>{se.removeEventListener("complete",Xt),se.removeEventListener("error",Dt),se.removeEventListener("abort",Dt)},Xt=()=>{Be(),At()},Dt=()=>{yt(se.error||new DOMException("AbortError","AbortError")),At()};se.addEventListener("complete",Xt),se.addEventListener("error",Dt),se.addEventListener("abort",Dt)});q.set(se,ne)}(se),ye(se,function Ce(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,we):se)}function Me(se){if(se instanceof IDBRequest)return function We(se){const ne=new Promise((Be,yt)=>{const At=()=>{se.removeEventListener("success",Xt),se.removeEventListener("error",Dt)},Xt=()=>{Be(Me(se.result)),At()},Dt=()=>{yt(se.error),At()};se.addEventListener("success",Xt),se.addEventListener("error",Dt)});return ne.then(Be=>{Be instanceof IDBCursor&&K.set(Be,se)}).catch(()=>{}),Te.set(ne,se),ne}(se);if(Ne.has(se))return Ne.get(se);const ne=qe(se);return ne!==se&&(Ne.set(se,ne),Te.set(ne,se)),ne}const Se=se=>Te.get(se),ze=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],it=new Map;function Pt(se,ne){if(!(se instanceof IDBDatabase)||ne in se||"string"!=typeof ne)return;if(it.get(ne))return it.get(ne);const Be=ne.replace(/FromIndex$/,""),yt=ne!==Be,At=ce.includes(Be);if(!(Be in(yt?IDBIndex:IDBObjectStore).prototype)||!At&&!ze.includes(Be))return;const Xt=function(){var Dt=(0,u.Z)(function*(wn,...rn){const wr=this.transaction(wn,At?"readwrite":"readonly");let sr=wr.store;return yt&&(sr=sr.index(rn.shift())),(yield Promise.all([sr[Be](...rn),At&&wr.done]))[0]});return function(rn){return Dt.apply(this,arguments)}}();return it.set(ne,Xt),Xt}!function Le(se){we=se(we)}(se=>({...se,get:(ne,Be,yt)=>Pt(ne,Be)||se.get(ne,Be,yt),has:(ne,Be)=>!!Pt(ne,Be)||se.has(ne,Be)}));class ht{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function Kt(se){return"VERSION"===se.getComponent()?.type}(Be)){const yt=Be.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Be=>Be).join(" ")}}const ft="@firebase/app",ge=new F.Yd("@firebase/app"),Kn="[DEFAULT]",Yn={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nn=new Map,ln=new Map;function dt(se,ne){try{se.container.addComponent(ne)}catch(Be){ge.debug(`Component ${ne.name} failed to register with FirebaseApp ${se.name}`,Be)}}function Lt(se,ne){se.container.addOrOverwriteComponent(ne)}function Gn(se){const ne=se.name;if(ln.has(ne))return ge.debug(`There were multiple attempts to register component ${ne}.`),!1;ln.set(ne,se);for(const Be of nn.values())dt(Be,se);return!0}function Tn(se,ne){const Be=se.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),se.container.getProvider(ne)}function Rn(se,ne,Be=Kn){Tn(se,ne).clearInstance(Be)}function _r(){ln.clear()}const nr=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ot{constructor(ne,Be,yt){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const vr="9.22.0";function Wt(se,ne={}){let Be=se;"object"!=typeof ne&&(ne={name:ne});const yt=Object.assign({name:Kn,automaticDataCollectionEnabled:!1},ne),At=yt.name;if("string"!=typeof At||!At)throw nr.create("bad-app-name",{appName:String(At)});if(Be||(Be=(0,re.aH)()),!Be)throw nr.create("no-options");const Xt=nn.get(At);if(Xt){if((0,re.vZ)(Be,Xt.options)&&(0,re.vZ)(yt,Xt.config))return Xt;throw nr.create("duplicate-app",{appName:At})}const Dt=new B.H0(At);for(const rn of ln.values())Dt.addComponent(rn);const wn=new Ot(Be,yt,Dt);return nn.set(At,wn),wn}function Jr(se=Kn){const ne=nn.get(se);if(!ne&&se===Kn&&(0,re.aH)())return Wt();if(!ne)throw nr.create("no-app",{appName:se});return ne}function zt(){return Array.from(nn.values())}function Qn(se){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(se){const ne=se.name;nn.has(ne)&&(nn.delete(ne),yield Promise.all(se.container.getProviders().map(Be=>Be.delete())),se.isDeleted=!0)})).apply(this,arguments)}function er(se,ne,Be){var yt;let At=null!==(yt=Yn[se])&&void 0!==yt?yt:se;Be&&(At+=`-${Be}`);const Xt=At.match(/\s|\//),Dt=ne.match(/\s|\//);if(Xt||Dt){const wn=[`Unable to register library "${At}" with version "${ne}":`];return Xt&&wn.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Xt&&Dt&&wn.push("and"),Dt&&wn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void ge.warn(wn.join(" "))}Gn(new B.wA(`${At}-version`,()=>({library:At,version:ne}),"VERSION"))}function tr(se,ne){if(null!==se&&"function"!=typeof se)throw nr.create("invalid-log-argument");(0,F.Am)(se,ne)}function hr(se){(0,F.Ub)(se)}const Mr="firebase-heartbeat-database",Gr=1,W="firebase-heartbeat-store";let $=null;function P(){return $||($=function Ve(se,ne,{blocked:Be,upgrade:yt,blocking:At,terminated:Xt}={}){const Dt=indexedDB.open(se,ne),wn=Me(Dt);return yt&&Dt.addEventListener("upgradeneeded",rn=>{yt(Me(Dt.result),rn.oldVersion,rn.newVersion,Me(Dt.transaction),rn)}),Be&&Dt.addEventListener("blocked",rn=>Be(rn.oldVersion,rn.newVersion,rn)),wn.then(rn=>{Xt&&rn.addEventListener("close",()=>Xt()),At&&rn.addEventListener("versionchange",wr=>At(wr.oldVersion,wr.newVersion,wr))}).catch(()=>{}),wn}(Mr,Gr,{upgrade:(se,ne)=>{0===ne&&se.createObjectStore(W)}}).catch(se=>{throw nr.create("idb-open",{originalErrorMessage:se.message})})),$}function x(){return(x=(0,u.Z)(function*(se){try{return yield(yield P()).transaction(W).objectStore(W).get(Y(se))}catch(ne){if(ne instanceof re.ZR)ge.warn(ne.message);else{const Be=nr.create("idb-get",{originalErrorMessage:ne?.message});ge.warn(Be.message)}}})).apply(this,arguments)}function Q(se,ne){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(se,ne){try{const yt=(yield P()).transaction(W,"readwrite");yield yt.objectStore(W).put(ne,Y(se)),yield yt.done}catch(Be){if(Be instanceof re.ZR)ge.warn(Be.message);else{const yt=nr.create("idb-set",{originalErrorMessage:Be?.message});ge.warn(yt.message)}}})).apply(this,arguments)}function Y(se){return`${se.name}!${se.options.appId}`}class Fe{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new nt(Be),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var ne=this;return(0,u.Z)(function*(){const yt=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=xe();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==At&&!ne._heartbeatsCache.heartbeats.some(Xt=>Xt.date===At))return ne._heartbeatsCache.heartbeats.push({date:At,agent:yt}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Xt=>{const Dt=new Date(Xt.date).valueOf();return Date.now()-Dt<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,u.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Be=xe(),{heartbeatsToSend:yt,unsentEntries:At}=function st(se,ne=1024){const Be=[];let yt=se.slice();for(const At of se){const Xt=Be.find(Dt=>Dt.agent===At.agent);if(Xt){if(Xt.dates.push(At.date),$t(Be)>ne){Xt.dates.pop();break}}else if(Be.push({agent:At.agent,dates:[At.date]}),$t(Be)>ne){Be.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Be,unsentEntries:yt}}(ne._heartbeatsCache.heartbeats),Xt=(0,re.L)(JSON.stringify({version:2,heartbeats:yt}));return ne._heartbeatsCache.lastSentHeartbeatDate=Be,At.length>0?(ne._heartbeatsCache.heartbeats=At,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Xt})()}}function xe(){return(new Date).toISOString().substring(0,10)}class nt{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,u.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function N(se){return x.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Be=this;return(0,u.Z)(function*(){var yt;if(yield Be._canUseIndexedDBPromise){const Xt=yield Be.read();return Q(Be.app,{lastSentHeartbeatDate:null!==(yt=ne.lastSentHeartbeatDate)&&void 0!==yt?yt:Xt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Be=this;return(0,u.Z)(function*(){var yt;if(yield Be._canUseIndexedDBPromise){const Xt=yield Be.read();return Q(Be.app,{lastSentHeartbeatDate:null!==(yt=ne.lastSentHeartbeatDate)&&void 0!==yt?yt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...ne.heartbeats]})}})()}}function $t(se){return(0,re.L)(JSON.stringify({version:2,heartbeats:se})).length}!function Zt(se){Gn(new B.wA("platform-logger",ne=>new ht(ne),"PRIVATE")),Gn(new B.wA("heartbeat",ne=>new Fe(ne),"PRIVATE")),er(ft,"0.9.10",se),er(ft,"0.9.10","esm2017"),er("fire-js","")}("")},4859:(Mt,Pe,L)=>{L.d(Pe,{H0:()=>Ce,wA:()=>F});var u=L(5861),B=L(2090);class F{constructor(K,q,ee){this.name=K,this.instanceFactory=q,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const re="[DEFAULT]";class ye{constructor(K,q){this.name=K,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(q)){const ee=new B.BH;if(this.instancesDeferred.set(q,ee),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:q});Ne&&ee.resolve(Ne)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(K){var q;const ee=this.normalizeInstanceIdentifier(K?.identifier),Ne=null!==(q=K?.optional)&&void 0!==q&&q;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Te){if(Ne)return null;throw Te}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Ee(Ie){return"EAGER"===Ie.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[q,ee]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(q);try{const Te=this.getOrInitializeService({instanceIdentifier:Ne});ee.resolve(Te)}catch{}}}}clearInstance(K=re){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,u.Z)(function*(){const q=Array.from(K.instances.values());yield Promise.all([...q.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...q.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=re){return this.instances.has(K)}getOptions(K=re){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:q={}}=K,ee=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:ee,options:q});for(const[Te,We]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Te)&&We.resolve(Ne);return Ne}onInit(K,q){var ee;const Ne=this.normalizeInstanceIdentifier(q),Te=null!==(ee=this.onInitCallbacks.get(Ne))&&void 0!==ee?ee:new Set;Te.add(K),this.onInitCallbacks.set(Ne,Te);const We=this.instances.get(Ne);return We&&K(We,Ne),()=>{Te.delete(K)}}invokeOnInitCallbacks(K,q){const ee=this.onInitCallbacks.get(q);if(ee)for(const Ne of ee)try{Ne(K,q)}catch{}}getOrInitializeService({instanceIdentifier:K,options:q={}}){let ee=this.instances.get(K);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=K,Ie===re?void 0:Ie),options:q}),this.instances.set(K,ee),this.instancesOptions.set(K,q),this.invokeOnInitCallbacks(ee,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ee)}catch{}var Ie;return ee||null}normalizeInstanceIdentifier(K=re){return this.component?this.component.multipleInstances?K:re:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const q=this.getProvider(K.name);if(q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const q=new ye(K,this);return this.providers.set(K,q),q}getProviders(){return Array.from(this.providers.values())}}},4727:(Mt,Pe,L)=>{var u=L(5861),B=L(6881),F=L(4859),re=L(2090);const ye=(j,te)=>te.some(_e=>j instanceof _e);let ue,Ee;const K=new WeakMap,q=new WeakMap,ee=new WeakMap,Ne=new WeakMap,Te=new WeakMap;let we={get(j,te,_e){if(j instanceof IDBTransaction){if("done"===te)return q.get(j);if("objectStoreNames"===te)return j.objectStoreNames||ee.get(j);if("store"===te)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Me(j[te])},set:(j,te,_e)=>(j[te]=_e,!0),has:(j,te)=>j instanceof IDBTransaction&&("done"===te||"store"===te)||te in j};function qe(j){return"function"==typeof j?function $e(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...te){return j.apply(Se(this),te),Me(K.get(this))}:function(...te){return Me(j.apply(Se(this),te))}:function(te,..._e){const tt=j.call(Se(this),te,..._e);return ee.set(tt,te.sort?te.sort():[te]),Me(tt)}}(j):(j instanceof IDBTransaction&&function mt(j){if(q.has(j))return;const te=new Promise((_e,tt)=>{const un=()=>{j.removeEventListener("complete",qt),j.removeEventListener("error",sn),j.removeEventListener("abort",sn)},qt=()=>{_e(),un()},sn=()=>{tt(j.error||new DOMException("AbortError","AbortError")),un()};j.addEventListener("complete",qt),j.addEventListener("error",sn),j.addEventListener("abort",sn)});q.set(j,te)}(j),ye(j,function Ce(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,we):j)}function Me(j){if(j instanceof IDBRequest)return function We(j){const te=new Promise((_e,tt)=>{const un=()=>{j.removeEventListener("success",qt),j.removeEventListener("error",sn)},qt=()=>{_e(Me(j.result)),un()},sn=()=>{tt(j.error),un()};j.addEventListener("success",qt),j.addEventListener("error",sn)});return te.then(_e=>{_e instanceof IDBCursor&&K.set(_e,j)}).catch(()=>{}),Te.set(te,j),te}(j);if(Ne.has(j))return Ne.get(j);const te=qe(j);return te!==j&&(Ne.set(j,te),Te.set(te,j)),te}const Se=j=>Te.get(j),ze=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],it=new Map;function Pt(j,te){if(!(j instanceof IDBDatabase)||te in j||"string"!=typeof te)return;if(it.get(te))return it.get(te);const _e=te.replace(/FromIndex$/,""),tt=te!==_e,un=ce.includes(_e);if(!(_e in(tt?IDBIndex:IDBObjectStore).prototype)||!un&&!ze.includes(_e))return;const qt=function(){var sn=(0,u.Z)(function*(An,...fr){const on=this.transaction(An,un?"readwrite":"readonly");let Fr=on.store;return tt&&(Fr=Fr.index(fr.shift())),(yield Promise.all([Fr[_e](...fr),un&&on.done]))[0]});return function(fr){return sn.apply(this,arguments)}}();return it.set(te,qt),qt}!function Le(j){we=j(we)}(j=>({...j,get:(te,_e,tt)=>Pt(te,_e)||j.get(te,_e,tt),has:(te,_e)=>!!Pt(te,_e)||j.has(te,_e)}));const ht="@firebase/installations",Kt="0.6.4",ft=1e4,ji=`w:${Kt}`,ge="FIS_v2",be="https://firebaseinstallations.googleapis.com/v1",ke=36e5,Re=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vt(j){return j instanceof re.ZR&&j.code.includes("request-failed")}function Cn({projectId:j}){return`${be}/projects/${j}/installations`}function It(j){return{token:j.token,requestStatus:2,expiresIn:Ar(j.expiresIn),creationTime:Date.now()}}function wt(j,te){return jt.apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(j,te){const tt=(yield te.json()).error;return Re.create("request-failed",{requestName:j,serverCode:tt.code,serverMessage:tt.message,serverStatus:tt.status})})).apply(this,arguments)}function yn({apiKey:j}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j})}function yr(j){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(j){const te=yield j();return te.status>=500&&te.status<600?j():te})).apply(this,arguments)}function Ar(j){return Number(j.replace("s","000"))}function dr(){return(dr=(0,u.Z)(function*({appConfig:j,heartbeatServiceProvider:te},{fid:_e}){const tt=Cn(j),un=yn(j),qt=te.getImmediate({optional:!0});if(qt){const on=yield qt.getHeartbeatsHeader();on&&un.append("x-firebase-client",on)}const An={method:"POST",headers:un,body:JSON.stringify({fid:_e,authVersion:ge,appId:j.appId,sdkVersion:ji})},fr=yield yr(()=>fetch(tt,An));if(fr.ok){const on=yield fr.json();return{fid:on.fid||_e,registrationStatus:2,refreshToken:on.refreshToken,authToken:It(on.authToken)}}throw yield wt("Create Installation",fr)})).apply(this,arguments)}function ki(j){return new Promise(te=>{setTimeout(te,j)})}const Et=/^[cdef][\w-]{21}$/,Pn="";function Qr(){try{const j=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(j),j[0]=112+j[0]%16;const _e=function Zn(j){return function kn(j){return btoa(String.fromCharCode(...j)).replace(/\+/g,"-").replace(/\//g,"_")}(j).substr(0,22)}(j);return Et.test(_e)?_e:Pn}catch{return Pn}}function Kn(j){return`${j.appName}!${j.appId}`}const Yn=new Map;function nn(j,te){const _e=Kn(j);Lt(_e,te),function Gn(j,te){const _e=function Rn(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=j=>{Lt(j.data.key,j.data.fid)}),Tn}();_e&&_e.postMessage({key:j,fid:te}),function _r(){0===Yn.size&&Tn&&(Tn.close(),Tn=null)}()}(_e,te)}function Lt(j,te){const _e=Yn.get(j);if(_e)for(const tt of _e)tt(te)}let Tn=null;const Nn="firebase-installations-database",nr=1,Ot="firebase-installations-store";let vr=null;function Wt(){return vr||(vr=function Ve(j,te,{blocked:_e,upgrade:tt,blocking:un,terminated:qt}={}){const sn=indexedDB.open(j,te),An=Me(sn);return tt&&sn.addEventListener("upgradeneeded",fr=>{tt(Me(sn.result),fr.oldVersion,fr.newVersion,Me(sn.transaction))}),_e&&sn.addEventListener("blocked",()=>_e()),An.then(fr=>{qt&&fr.addEventListener("close",()=>qt()),un&&fr.addEventListener("versionchange",()=>un())}).catch(()=>{}),An}(Nn,nr,{upgrade:(j,te)=>{0===te&&j.createObjectStore(Ot)}})),vr}function Jr(j,te){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(j,te){const _e=Kn(j),un=(yield Wt()).transaction(Ot,"readwrite"),qt=un.objectStore(Ot),sn=yield qt.get(_e);return yield qt.put(te,_e),yield un.done,(!sn||sn.fid!==te.fid)&&nn(j,te.fid),te})).apply(this,arguments)}function Qn(j){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(j){const te=Kn(j),tt=(yield Wt()).transaction(Ot,"readwrite");yield tt.objectStore(Ot).delete(te),yield tt.done})).apply(this,arguments)}function er(j,te){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(j,te){const _e=Kn(j),un=(yield Wt()).transaction(Ot,"readwrite"),qt=un.objectStore(Ot),sn=yield qt.get(_e),An=te(sn);return void 0===An?yield qt.delete(_e):yield qt.put(An,_e),yield un.done,An&&(!sn||sn.fid!==An.fid)&&nn(j,An.fid),An})).apply(this,arguments)}function hr(j){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,u.Z)(function*(j){let te;const _e=yield er(j.appConfig,tt=>{const un=function Gr(j){return ve(j||{fid:Qr(),registrationStatus:0})}(tt),qt=function W(j,te){if(0===te.registrationStatus){if(!navigator.onLine)return{installationEntry:te,registrationPromise:Promise.reject(Re.create("app-offline"))};const _e={fid:te.fid,registrationStatus:1,registrationTime:Date.now()},tt=function $(j,te){return P.apply(this,arguments)}(j,_e);return{installationEntry:_e,registrationPromise:tt}}return 1===te.registrationStatus?{installationEntry:te,registrationPromise:N(j)}:{installationEntry:te}}(j,un);return te=qt.registrationPromise,qt.installationEntry});return _e.fid===Pn?{installationEntry:yield te}:{installationEntry:_e,registrationPromise:te}}),Mr.apply(this,arguments)}function P(){return P=(0,u.Z)(function*(j,te){try{const _e=yield function ri(j,te){return dr.apply(this,arguments)}(j,te);return Jr(j.appConfig,_e)}catch(_e){throw vt(_e)&&409===_e.customData.serverCode?yield Qn(j.appConfig):yield Jr(j.appConfig,{fid:te.fid,registrationStatus:0}),_e}}),P.apply(this,arguments)}function N(j){return x.apply(this,arguments)}function x(){return(x=(0,u.Z)(function*(j){let te=yield Q(j.appConfig);for(;1===te.registrationStatus;)yield ki(100),te=yield Q(j.appConfig);if(0===te.registrationStatus){const{installationEntry:_e,registrationPromise:tt}=yield hr(j);return tt||_e}return te})).apply(this,arguments)}function Q(j){return er(j,te=>{if(!te)throw Re.create("installation-not-found");return ve(te)})}function ve(j){return function Y(j){return 1===j.registrationStatus&&j.registrationTime+ft<Date.now()}(j)?{fid:j.fid,registrationStatus:0}:j}function fe(){return(fe=(0,u.Z)(function*({appConfig:j,heartbeatServiceProvider:te},_e){const tt=function Fe(j,{fid:te}){return`${Cn(j)}/${te}/authTokens:generate`}(j,_e),un=function In(j,{refreshToken:te}){const _e=yn(j);return _e.append("Authorization",function Xn(j){return`${ge} ${j}`}(te)),_e}(j,_e),qt=te.getImmediate({optional:!0});if(qt){const on=yield qt.getHeartbeatsHeader();on&&un.append("x-firebase-client",on)}const An={method:"POST",headers:un,body:JSON.stringify({installation:{sdkVersion:ji,appId:j.appId}})},fr=yield yr(()=>fetch(tt,An));if(fr.ok)return It(yield fr.json());throw yield wt("Generate Auth Token",fr)})).apply(this,arguments)}function xe(j){return st.apply(this,arguments)}function st(){return st=(0,u.Z)(function*(j,te=!1){let _e;const tt=yield er(j.appConfig,qt=>{if(!Be(qt))throw Re.create("not-registered");const sn=qt.authToken;if(!te&&function yt(j){return 2===j.requestStatus&&!function At(j){const te=Date.now();return te<j.creationTime||j.creationTime+j.expiresIn<te+ke}(j)}(sn))return qt;if(1===sn.requestStatus)return _e=function nt(j,te){return $t.apply(this,arguments)}(j,te),qt;{if(!navigator.onLine)throw Re.create("app-offline");const An=function Xt(j){const te={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},j),{authToken:te})}(qt);return _e=function se(j,te){return ne.apply(this,arguments)}(j,An),An}});return _e?yield _e:tt.authToken}),st.apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(j,te){let _e=yield Zt(j.appConfig);for(;1===_e.authToken.requestStatus;)yield ki(100),_e=yield Zt(j.appConfig);const tt=_e.authToken;return 0===tt.requestStatus?xe(j,te):tt})).apply(this,arguments)}function Zt(j){return er(j,te=>{if(!Be(te))throw Re.create("not-registered");return function Dt(j){return 1===j.requestStatus&&j.requestTime+ft<Date.now()}(te.authToken)?Object.assign(Object.assign({},te),{authToken:{requestStatus:0}}):te})}function ne(){return ne=(0,u.Z)(function*(j,te){try{const _e=yield function ae(j,te){return fe.apply(this,arguments)}(j,te),tt=Object.assign(Object.assign({},te),{authToken:_e});return yield Jr(j.appConfig,tt),_e}catch(_e){if(!vt(_e)||401!==_e.customData.serverCode&&404!==_e.customData.serverCode){const tt=Object.assign(Object.assign({},te),{authToken:{requestStatus:0}});yield Jr(j.appConfig,tt)}else yield Qn(j.appConfig);throw _e}}),ne.apply(this,arguments)}function Be(j){return void 0!==j&&2===j.registrationStatus}function rn(){return(rn=(0,u.Z)(function*(j){const te=j,{installationEntry:_e,registrationPromise:tt}=yield hr(te);return tt?tt.catch(console.error):xe(te).catch(console.error),_e.fid})).apply(this,arguments)}function sr(){return sr=(0,u.Z)(function*(j,te=!1){const _e=j;return yield function Er(j){return zo.apply(this,arguments)}(_e),(yield xe(_e,te)).token}),sr.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(j){const{registrationPromise:te}=yield hr(j);te&&(yield te)})).apply(this,arguments)}function ii(j){return Re.create("missing-app-config-values",{valueName:j})}const Wn="installations",Zi=j=>{const te=j.getProvider("app").getImmediate(),_e=function br(j){if(!j||!j.options)throw ii("App Configuration");if(!j.name)throw ii("App Name");const te=["projectId","apiKey","appId"];for(const _e of te)if(!j.options[_e])throw ii(_e);return{appName:j.name,projectId:j.options.projectId,apiKey:j.options.apiKey,appId:j.options.appId}}(te);return{app:te,appConfig:_e,heartbeatServiceProvider:(0,B._getProvider)(te,"heartbeat"),_delete:()=>Promise.resolve()}},Qt=j=>{const te=j.getProvider("app").getImmediate(),_e=(0,B._getProvider)(te,Wn).getImmediate();return{getId:()=>function wn(j){return rn.apply(this,arguments)}(_e),getToken:un=>function wr(j){return sr.apply(this,arguments)}(_e,un)}};(function ws(){(0,B._registerComponent)(new F.wA(Wn,Zi,"PUBLIC")),(0,B._registerComponent)(new F.wA("installations-internal",Qt,"PRIVATE"))})(),(0,B.registerVersion)(ht,Kt),(0,B.registerVersion)(ht,Kt,"esm2017")},1877:(Mt,Pe,L)=>{L.d(Pe,{Am:()=>Ie,Ub:()=>Ce,Yd:()=>Ee,in:()=>B});const u=[];var B=(()=>{return(K=B||(B={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",B;var K})();const F={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},re=B.INFO,ye={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ue=(K,q,...ee)=>{if(q<K.logLevel)return;const Ne=(new Date).toISOString(),Te=ye[q];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Te](`[${Ne}]  ${K.name}:`,...ee)};class Ee{constructor(q){this.name=q,this._logLevel=re,this._logHandler=ue,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in B))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?F[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...q),this._logHandler(this,B.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...q),this._logHandler(this,B.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,B.INFO,...q),this._logHandler(this,B.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,B.WARN,...q),this._logHandler(this,B.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...q),this._logHandler(this,B.ERROR,...q)}}function Ce(K){u.forEach(q=>{q.setLogLevel(K)})}function Ie(K,q){for(const ee of u){let Ne=null;q&&q.level&&(Ne=F[q.level]),ee.userLogHandler=null===K?null:(Te,We,...mt)=>{const we=mt.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");We>=(Ne??Te.logLevel)&&K({level:B[We].toLowerCase(),message:we,args:mt,type:Te.name})}}}},5132:(Mt,Pe,L)=>{L.d(Pe,{Gb:()=>u.Gb});var u=L(579)},259:(Mt,Pe,L)=>{L.d(Pe,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp});var u=L(6881);(0,u.registerVersion)("firebase","9.22.0","app")},9260:(Mt,Pe,L)=>{L.d(Pe,{Z:()=>u.Z});var u=L(3942);u.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(Mt,Pe,L)=>{L.r(Pe);var u=L(5861),B=L(3942),F=L(1389),re=L(2090),Ee=(L(6881),L(1877),L(4859));function Ce(){return window}const Ie=2e3;function q(){return q=(0,u.Z)(function*(P,N,x){var Q;const{BuildInfo:ve}=Ce();(0,F.as)(N.sessionId,"AuthEvent did not contain a session ID");const Y=yield function Le(P){return $e.apply(this,arguments)}(N.sessionId),ae={};return(0,F.at)()?ae.ibi=ve.packageName:(0,F.au)()?ae.apn=ve.packageName:(0,F.av)(P,"operation-not-supported-in-this-environment"),ve.displayName&&(ae.appDisplayName=ve.displayName),ae.sessionId=Y,(0,F.aw)(P,x,N.type,void 0,null!==(Q=N.eventId)&&void 0!==Q?Q:void 0,ae)}),q.apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(P){const{BuildInfo:N}=Ce(),x={};(0,F.at)()?x.iosBundleId=N.packageName:(0,F.au)()?x.androidPackageName=N.packageName:(0,F.av)(P,"operation-not-supported-in-this-environment"),yield(0,F.ax)(P,x)})).apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(P,N,x){const{cordova:Q}=Ce();let ve=()=>{};try{yield new Promise((Y,ae)=>{let fe=null;function Fe(){var nt;Y();const $t=null===(nt=Q.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof $t&&$t(),"function"==typeof x?.close&&x.close()}function xe(){fe||(fe=window.setTimeout(()=>{ae((0,F.az)(P,"redirect-cancelled-by-user"))},Ie))}function st(){"visible"===document?.visibilityState&&xe()}N.addPassiveListener(Fe),document.addEventListener("resume",xe,!1),(0,F.au)()&&document.addEventListener("visibilitychange",st,!1),ve=()=>{N.removePassiveListener(Fe),document.removeEventListener("resume",xe,!1),document.removeEventListener("visibilitychange",st,!1),fe&&window.clearTimeout(fe)}})}finally{ve()}})).apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(P){const N=function qe(P){if((0,F.as)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const N=new ArrayBuffer(P.length),x=new Uint8Array(N);for(let Q=0;Q<P.length;Q++)x[Q]=P.charCodeAt(Q);return x}(P),x=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(x)).map(ve=>ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Me=20;class Se extends F.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(x=>x(N)),super.onEvent(N)}initialized(){var N=this;return(0,u.Z)(function*(){yield N.initPromise})()}}function ze(P){return ce.apply(this,arguments)}function ce(){return(ce=(0,u.Z)(function*(P){const N=yield ht()._get(Kt(P));return N&&(yield ht()._remove(Kt(P))),N})).apply(this,arguments)}function Pt(){const P=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<Me;x++){const Q=Math.floor(Math.random()*N.length);P.push(N.charAt(Q))}return P.join("")}function ht(){return(0,F.aC)(F.b)}function Kt(P){return(0,F.aD)("authEvent",P.config.apiKey,P.name)}function ge(P){if(!P?.includes("?"))return{};const[N,...x]=P.split("?");return(0,re.zd)(x.join("?"))}const Ue=class ke{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(N){var x=this;return(0,u.Z)(function*(){const Q=N._key();let ve=x.eventManagers.get(Q);return ve||(ve=new Se(N),x.eventManagers.set(Q,ve),x.attachCallbackListeners(N,ve)),ve})()}_openPopup(N){(0,F.av)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,x,Q,ve){var Y=this;return(0,u.Z)(function*(){!function we(P){var N,x,Q,ve,Y,ae,fe,Fe,xe,st;const nt=Ce();(0,F.aA)("function"==typeof(null===(N=nt?.universalLinks)||void 0===N?void 0:N.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aA)(typeof(null===(x=nt?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aA)("function"==typeof(null===(Y=null===(ve=null===(Q=nt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===Y?void 0:Y.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Fe=null===(fe=null===(ae=nt?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Fe?void 0:Fe.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(st=null===(xe=nt?.cordova)||void 0===xe?void 0:xe.InAppBrowser)||void 0===st?void 0:st.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const ae=yield Y._initialize(N);yield ae.initialized(),ae.resetRedirect(),(0,F.aG)(),yield Y._originValidation(N);const fe=function Ve(P,N,x=null){return{type:N,eventId:x,urlResponse:null,sessionId:Pt(),postBody:null,tenantId:P.tenantId,error:(0,F.az)(P,"no-auth-event")}}(N,Q,ve);yield function Je(P,N){return ht()._set(Kt(P),N)}(N,fe);const Fe=yield function K(P,N,x){return q.apply(this,arguments)}(N,fe,x),xe=yield function Te(P){const{cordova:N}=Ce();return new Promise(x=>{N.plugins.browsertab.isAvailable(Q=>{let ve=null;Q?N.plugins.browsertab.openUrl(P):ve=N.InAppBrowser.open(P,(0,F.ay)()?"_blank":"_system","location=yes"),x(ve)})})}(Fe);return function We(P,N,x){return mt.apply(this,arguments)}(N,ae,xe)})()}_isIframeWebStorageSupported(N,x){throw new Error("Method not implemented.")}_originValidation(N){const x=N._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function ee(P){return Ne.apply(this,arguments)}(N)),this.originValidationPromises[x]}attachCallbackListeners(N,x){const{universalLinks:Q,handleOpenURL:ve,BuildInfo:Y}=Ce(),ae=setTimeout((0,u.Z)(function*(){yield ze(N),x.onEvent(Xe())}),500),fe=function(){var st=(0,u.Z)(function*(nt){clearTimeout(ae);const $t=yield ze(N);let Zt=null;$t&&nt?.url&&(Zt=function it(P,N){var x,Q;const ve=function ji(P){const N=ge(P),x=N.link?decodeURIComponent(N.link):void 0,Q=ge(x).link,ve=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return ge(ve).link||ve||Q||x||P}(N);if(ve.includes("/__/auth/callback")){const Y=ge(ve),ae=Y.firebaseError?function ft(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Y.firebaseError)):null,fe=null===(Q=null===(x=ae?.code)||void 0===x?void 0:x.split("auth/"))||void 0===Q?void 0:Q[1],Fe=fe?(0,F.az)(fe):null;return Fe?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:ve,postBody:null}}return null}($t,nt.url)),x.onEvent(Zt||Xe())});return function($t){return st.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,fe);const Fe=ve,xe=`${Y.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var st=(0,u.Z)(function*(nt){if(nt.toLowerCase().startsWith(xe)&&fe({url:nt}),"function"==typeof Fe)try{Fe(nt)}catch($t){console.error($t)}});return function(nt){return st.apply(this,arguments)}}()}};function Xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.az)("no-auth-event")}}const Cn=1e3;function It(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function jt(P=(0,re.z$)()){return!("file:"!==It()&&"ionic:"!==It()&&"capacitor:"!==It()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ar(){try{const P=self.localStorage,N=F.aL();if(P)return P.setItem(N,"1"),P.removeItem(N),!function Un(P=(0,re.z$)()){return function In(){return(0,re.w1)()&&11===document?.documentMode}()||function yr(P=(0,re.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,re.hl)()}catch{return Xn()&&(0,re.hl)()}return!1}function Xn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ri(){return(function wt(){return"http:"===It()||"https:"===It()}()||(0,re.ru)()||jt())&&!function yn(){return(0,re.b$)()||(0,re.UG)()}()&&Ar()&&!Xn()}function dr(){return jt()&&typeof document<"u"}function kn(){return(kn=(0,u.Z)(function*(){return!!dr()&&new Promise(P=>{const N=setTimeout(()=>{P(!1)},Cn);document.addEventListener("deviceready",()=>{clearTimeout(N),P(!0)})})})).apply(this,arguments)}const Pn={LOCAL:"local",NONE:"none",SESSION:"session"},Qr=F.aA,Zn="persistence";function Yn(P){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(P){yield P._initializationPromise;const N=dt(),x=F.aD(Zn,P.config.apiKey,P.name);N&&N.setItem(x,P._getPersistence())})).apply(this,arguments)}function dt(){var P;try{return(null===(P=function Et(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const Lt=F.aA;class Gn{constructor(){this.browserResolver=F.aC(F.k),this.cordovaResolver=F.aC(Ue),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(N){var x=this;return(0,u.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,x,Q,ve){var Y=this;return(0,u.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(N,x,Q,ve)})()}_openRedirect(N,x,Q,ve){var Y=this;return(0,u.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(N,x,Q,ve)})()}_isIframeWebStorageSupported(N,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,x)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,u.Z)(function*(){if(N.underlyingResolver)return;const x=yield function ki(){return kn.apply(this,arguments)}();N.underlyingResolver=x?N.cordovaResolver:N.browserResolver})()}}function Tn(P){return P.unwrap()}function _r(P){return nr(P)}function nr(P){const{_tokenResponse:N}=P instanceof re.ZR?P.customData:P;if(!N)return null;if(!(P instanceof re.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return F.P.credentialFromResult(P);const x=N.providerId;if(!x||x===F.p.PASSWORD)return null;let Q;switch(x){case F.p.GOOGLE:Q=F.V;break;case F.p.FACEBOOK:Q=F.U;break;case F.p.GITHUB:Q=F.W;break;case F.p.TWITTER:Q=F.Z;break;default:const{oauthIdToken:ve,oauthAccessToken:Y,oauthTokenSecret:ae,pendingToken:fe,nonce:Fe}=N;return Y||ae||ve||fe?fe?x.startsWith("saml.")?F.aO._create(x,fe):F.L._fromParams({providerId:x,signInMethod:x,pendingToken:fe,idToken:ve,accessToken:Y}):new F.X(x).credential({idToken:ve,accessToken:Y,rawNonce:Fe}):null}return P instanceof re.ZR?Q.credentialFromError(P):Q.credentialFromResult(P)}function Ot(P,N){return N.catch(x=>{throw x instanceof re.ZR&&function Nn(P,N){var x;const Q=null===(x=N.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new Jr(P,F.aq(P,N));else if(Q){const ve=nr(N),Y=N;ve&&(Y.credential=ve,Y.tenantId=Q.tenantId||void 0,Y.email=Q.email||void 0,Y.phoneNumber=Q.phoneNumber||void 0)}}(P,x),x}).then(x=>{const ve=x.user;return{operationType:x.operationType,credential:_r(x),additionalUserInfo:F.ao(x),user:zt.getOrCreate(ve)}})}function vr(P,N){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(P,N){const x=yield N;return{verificationId:x.verificationId,confirm:Q=>Ot(P,x.confirm(Q))}})).apply(this,arguments)}class Jr{constructor(N,x){this.resolver=x,this.auth=function Rn(P){return P.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Ot(Tn(this.auth),this.resolver.resolveSignIn(N))}}class zt{constructor(N){this._delegate=N,this.multiFactor=F.ar(N)}static getOrCreate(N){return zt.USER_MAP.has(N)||zt.USER_MAP.set(N,new zt(N)),zt.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var x=this;return(0,u.Z)(function*(){return Ot(x.auth,F.a0(x._delegate,N))})()}linkWithPhoneNumber(N,x){var Q=this;return(0,u.Z)(function*(){return vr(Q.auth,F.l(Q._delegate,N,x))})()}linkWithPopup(N){var x=this;return(0,u.Z)(function*(){return Ot(x.auth,F.d(x._delegate,N,Gn))})()}linkWithRedirect(N){var x=this;return(0,u.Z)(function*(){return yield Yn(F.aH(x.auth)),F.g(x._delegate,N,Gn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var x=this;return(0,u.Z)(function*(){return Ot(x.auth,F.a1(x._delegate,N))})()}reauthenticateWithPhoneNumber(N,x){return vr(this.auth,F.r(this._delegate,N,x))}reauthenticateWithPopup(N){return Ot(this.auth,F.e(this._delegate,N,Gn))}reauthenticateWithRedirect(N){var x=this;return(0,u.Z)(function*(){return yield Yn(F.aH(x.auth)),F.h(x._delegate,N,Gn)})()}sendEmailVerification(N){return F.ae(this._delegate,N)}unlink(N){var x=this;return(0,u.Z)(function*(){return yield F.an(x._delegate,N),x})()}updateEmail(N){return F.aj(this._delegate,N)}updatePassword(N){return F.ak(this._delegate,N)}updatePhoneNumber(N){return F.u(this._delegate,N)}updateProfile(N){return F.ai(this._delegate,N)}verifyBeforeUpdateEmail(N,x){return F.af(this._delegate,N,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zt.USER_MAP=new WeakMap;const Qn=F.aA;let Sn=(()=>{class P{constructor(x,Q){if(this.app=x,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ve}=x.options;Qn(ve,"invalid-api-key",{appName:x.name}),Qn(ve,"invalid-api-key",{appName:x.name});const Y=typeof window<"u"?Gn:void 0;this._delegate=Q.initialize({options:{persistence:tr(ve,x.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap(F.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(x){this._delegate.languageCode=x}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(x){this._delegate.tenantId=x}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(x,Q){F.I(this._delegate,x,Q)}applyActionCode(x){return F.a5(this._delegate,x)}checkActionCode(x){return F.a6(this._delegate,x)}confirmPasswordReset(x,Q){return F.a4(this._delegate,x,Q)}createUserWithEmailAndPassword(x,Q){var ve=this;return(0,u.Z)(function*(){return Ot(ve._delegate,F.a8(ve._delegate,x,Q))})()}fetchProvidersForEmail(x){return this.fetchSignInMethodsForEmail(x)}fetchSignInMethodsForEmail(x){return F.ad(this._delegate,x)}isSignInWithEmailLink(x){return F.ab(this._delegate,x)}getRedirectResult(){var x=this;return(0,u.Z)(function*(){Qn(ri(),x._delegate,"operation-not-supported-in-this-environment");const Q=yield F.j(x._delegate,Gn);return Q?Ot(x._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(x){!function He(P,N){(0,F.aH)(P)._logFramework(N)}(this._delegate,x)}onAuthStateChanged(x,Q,ve){const{next:Y,error:ae,complete:fe}=er(x,Q,ve);return this._delegate.onAuthStateChanged(Y,ae,fe)}onIdTokenChanged(x,Q,ve){const{next:Y,error:ae,complete:fe}=er(x,Q,ve);return this._delegate.onIdTokenChanged(Y,ae,fe)}sendSignInLinkToEmail(x,Q){return F.aa(this._delegate,x,Q)}sendPasswordResetEmail(x,Q){return F.a3(this._delegate,x,Q||void 0)}setPersistence(x){var Q=this;return(0,u.Z)(function*(){let ve;switch(function Kn(P,N){Qr(Object.values(Pn).includes(N),P,"invalid-persistence-type"),(0,re.b$)()?Qr(N!==Pn.SESSION,P,"unsupported-persistence-type"):(0,re.UG)()?Qr(N===Pn.NONE,P,"unsupported-persistence-type"):Xn()?Qr(N===Pn.NONE||N===Pn.LOCAL&&(0,re.hl)(),P,"unsupported-persistence-type"):Qr(N===Pn.NONE||Ar(),P,"unsupported-persistence-type")}(Q._delegate,x),x){case Pn.SESSION:ve=F.a;break;case Pn.LOCAL:ve=(yield F.aC(F.i)._isAvailable())?F.i:F.b;break;case Pn.NONE:ve=F.N;break;default:return F.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(ve)})()}signInAndRetrieveDataWithCredential(x){return this.signInWithCredential(x)}signInAnonymously(){return Ot(this._delegate,F._(this._delegate))}signInWithCredential(x){return Ot(this._delegate,F.$(this._delegate,x))}signInWithCustomToken(x){return Ot(this._delegate,F.a2(this._delegate,x))}signInWithEmailAndPassword(x,Q){return Ot(this._delegate,F.a9(this._delegate,x,Q))}signInWithEmailLink(x,Q){return Ot(this._delegate,F.ac(this._delegate,x,Q))}signInWithPhoneNumber(x,Q){return vr(this._delegate,F.s(this._delegate,x,Q))}signInWithPopup(x){var Q=this;return(0,u.Z)(function*(){return Qn(ri(),Q._delegate,"operation-not-supported-in-this-environment"),Ot(Q._delegate,F.c(Q._delegate,x,Gn))})()}signInWithRedirect(x){var Q=this;return(0,u.Z)(function*(){return Qn(ri(),Q._delegate,"operation-not-supported-in-this-environment"),yield Yn(Q._delegate),F.f(Q._delegate,x,Gn)})()}updateCurrentUser(x){return this._delegate.updateCurrentUser(x)}verifyPasswordResetCode(x){return F.a7(this._delegate,x)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=Pn,P})();function er(P,N,x){let Q=P;"function"!=typeof P&&({next:Q,error:N,complete:x}=P);const ve=Q;return{next:ae=>ve(ae&&zt.getOrCreate(ae)),error:N,complete:x}}function tr(P,N){const x=function ln(P,N){const x=dt();if(!x)return[];const Q=F.aD(Zn,P,N);switch(x.getItem(Q)){case Pn.NONE:return[F.N];case Pn.LOCAL:return[F.i,F.a];case Pn.SESSION:return[F.a];default:return[]}}(P,N);if(typeof self<"u"&&!x.includes(F.i)&&x.push(F.i),typeof window<"u")for(const Q of[F.b,F.a])x.includes(Q)||x.push(Q);return x.includes(F.N)||x.push(F.N),x}class hr{constructor(){this.providerId="phone",this._delegate=new F.P(Tn(B.Z.auth()))}static credential(N,x){return F.P.credential(N,x)}verifyPhoneNumber(N,x){return this._delegate.verifyPhoneNumber(N,x)}unwrap(){return this._delegate}}hr.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,hr.PROVIDER_ID=F.P.PROVIDER_ID;const Mr=F.aA;class Gr{constructor(N,x,Q=B.Z.app()){var ve;Mr(null===(ve=Q.options)||void 0===ve?void 0:ve.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new F.R(N,x,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(P){P.INTERNAL.registerComponent(new Ee.wA("auth-compat",N=>{const x=N.getProvider("app-compat").getImmediate(),Q=N.getProvider("auth");return new Sn(x,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.Q,FacebookAuthProvider:F.U,GithubAuthProvider:F.W,GoogleAuthProvider:F.V,OAuthProvider:F.X,SAMLAuthProvider:F.Y,PhoneAuthProvider:hr,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:Gr,TwitterAuthProvider:F.Z,Auth:Sn,AuthCredential:F.J,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(Mt,Pe,L)=>{function u(F,re,ye,ue,Ee,Ce,Ie){try{var K=F[Ce](Ie),q=K.value}catch(ee){return void ye(ee)}K.done?re(q):Promise.resolve(q).then(ue,Ee)}function B(F){return function(){var re=this,ye=arguments;return new Promise(function(ue,Ee){var Ce=F.apply(re,ye);function Ie(q){u(Ce,ue,Ee,Ie,K,"next",q)}function K(q){u(Ce,ue,Ee,Ie,K,"throw",q)}Ie(void 0)})}}L.d(Pe,{Z:()=>B})}},Mt=>{Mt(Mt.s=1067)}]);